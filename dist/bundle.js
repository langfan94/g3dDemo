(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var _g3d = require('g3d');

var _g3d2 = _interopRequireDefault(_g3d);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var myCanvas = document.getElementById('myCanvas');
var canDemo = run(_g3d2.default, myCanvas);
var time = setInterval(function () {
    canDemo();
}, 100);

function run(G3D, canvas) {
    // create 3d engine
    var engine = new G3D.Engine(canvas);

    // create a scene
    var scene = new G3D.Scene(engine);

    // create camera
    var camera = new G3D.ArcRotateCamera(scene);
    camera.alpha = 45;
    camera.beta = 30;
    camera.radius = 12;
    camera.fov = 60;

    // create 3 lights
    var light1 = new G3D.DirectionalLight(scene);
    light1.direction.x = -1;
    light1.direction.y = 0;
    light1.direction.z = 1;

    var light2 = new G3D.HemisphereLight(scene);

    // create mesh
    var mesh = G3D.MeshBuilder.createCube(scene, 6);

    Object.assign(mesh.materials.default.diffuseColor, { r: 200, g: 100, b: 100 });
    Object.assign(mesh.materials.default.specularColor, { r: 200, g: 100, b: 100 });
    mesh.materials.default.glossiness = 10;

    return function () {
        mesh.rotation.y += 1;
        console.log('mesh.rotation.y', mesh.rotation.y);
        scene.render();
    };
}
},{"g3d":2}],2:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.G3D=t():e.G3D=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=30)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){return function(r,n,i){var o=r[n],a="__"+n+"ResultCache";return i.value=function(){if(this[e]){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return this[a]=o.call.apply(o,[this].concat(n)),t&&(this[e]=!1),this[a]}return this[a]},i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,r){"use strict";(function(r,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return function(u,s,l){if("function"==typeof u){var c=u;return function(n){function u(){var n;i(this,u);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];var c=o(this,(n=u.__proto__||Object.getPrototypeOf(u)).call.apply(n,[this].concat(s)));return e.forEach(function(e){var n=c[e];Object.defineProperty(c,e,{get:function(){return n},set:function(e){return n=e,r.isFunction(t)?t.call(this):this[t]=!0,!0}})}),r.isFunction(t)||(c[t]=!0),c}return a(u,n),u}(c)}var f=u;return n[t]=!0,new Proxy(f,{set:function(r,i,o){return r[i]=o,-1!==e.indexOf(i)&&(n[t]=!0),!0}})}}Object.defineProperty(t,"__esModule",{value:!0});var s,l,c,f,h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=u;s=u(["foo","bar"],"ok"),l=n("ok"),s((f=function(){function e(){i(this,e),this.foo=1,this.bar=2,this.obj=u(["x","y","z"],"ok",this)({x:1,y:2,z:1})}return h(e,[{key:"getValue",value:function(){return console.log("get value"),"hello"}}]),e}(),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(f.prototype,"getValue",[l],Object.getOwnPropertyDescriptor(f.prototype,"getValue"),f.prototype),c=f));e.exports=t.default}).call(t,r(18),r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=null;t.default={get Image(){return n||Image},set Image(e){n=e},manuallyFlipY:!1,framebufferNotReady:!1},e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.color={r:255,g:255,b:255},this.intensity=1,t.lights.push(this)}return i(e,[{key:"getColor",value:function(){return[this.color.r,this.color.g,this.color.b]}},{key:"getIntensity",value:function(){return this.intensity}}]),e}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";(function(r,n,i,o){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e){function t(e){a(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.geometry=new n(r),r.materials={default:new i(r)},r.scene=null,r.visibility=!0,r.pickable=!0,r.renderLayerIndex=0,r.scene=e,r.scene.meshes.push(r),r}return s(t,e),l(t,[{key:"dispose",value:function(){var e=o.findIndex(this.scene.meshes,{id:this.id});-1!==e&&this.scene.meshes.splice(e,1)}},{key:"getGlobalVisibility",value:function(){for(var e=this;null!==e;){if(!e.visibility)return!1;e=e.parent}return!0}},{key:"getPickable",value:function(){return this.pickable}},{key:"getRenderLayerIndex",value:function(){for(var e=this;null!==e;){if(0!==e.renderLayerIndex)return e.renderLayerIndex;e=e.parent}return 0}}]),t}(r);t.default=c,e.exports=t.default}).call(t,r(8),r(10),r(7),r(18))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.opacity=1,this.offset={x:0,y:0}}return i(e,[{key:"getOpacity",value:function(){return this.opacity}},{key:"getOffset",value:function(){return new Float32Array([this.offset.x,this.offset.y])}}]),e}();o.COLOR=1,o.TEXTURE=2,t.default=o,e.exports=t.default},function(e,t,r){"use strict";(function(r,n,i,o,a){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var f,h,p,v,y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=(f=r("isDirty"),h=r("isDirty"),p=r("isDirty"),v=function(e){function t(e){u(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.ambientColor=i(["r","g","b"],"isDirty",r)({r:255,g:255,b:255}),r.ambientTexture=new o(r),r.ambientSource=n.COLOR,r.diffuseColor=i(["r","g","b"],"isDirty",r)({r:255,g:255,b:255}),r.diffuseTexture=new o(r),r.diffuseSource=n.COLOR,r.specularColor=i(["r","g","b"],"isDirty",r)({r:0,g:0,b:0}),r.specularTexture=new o(r),r.specularSource=n.COLOR,r.glossiness=1,r.envMapTexture=new o(r),r.useEnvMap=!1,r.mesh=null,r.mesh=e,r}return l(t,e),y(t,[{key:"getAmbientSource",value:function(){return this.ambientSource}},{key:"getAmbientColor",value:function(){return a.fromValues(this.ambientColor.r/255,this.ambientColor.g/255,this.ambientColor.b/255)}},{key:"getDiffuseSource",value:function(){return this.diffuseSource}},{key:"getDiffuseColor",value:function(){return a.fromValues(this.diffuseColor.r/255,this.diffuseColor.g/255,this.diffuseColor.b/255)}},{key:"getSpecularSource",value:function(){return this.specularSource}},{key:"getSpecularColor",value:function(){return a.fromValues(this.specularColor.r/255,this.specularColor.g/255,this.specularColor.b/255)}},{key:"getGlossiness",value:function(){return this.glossiness}},{key:"getUseEnvMap",value:function(){return this.useEnvMap}}]),t}(n),c(v.prototype,"getAmbientColor",[f],Object.getOwnPropertyDescriptor(v.prototype,"getAmbientColor"),v.prototype),c(v.prototype,"getDiffuseColor",[h],Object.getOwnPropertyDescriptor(v.prototype,"getDiffuseColor"),v.prototype),c(v.prototype,"getSpecularColor",[p],Object.getOwnPropertyDescriptor(v.prototype,"getSpecularColor"),v.prototype),v);t.default=d,e.exports=t.default}).call(t,r(1),r(6),r(2),r(23),r(0))},function(e,t,r){"use strict";(function(r,n,i,o,a,u){function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l,c,f,h,p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=1,y=(l=r([],"isDirty"),c=n("isDirty"),l((h=function(){function e(){s(this,e),this.id=v++,this.position=r(["x","y","z"],"isDirty",this)({x:0,y:0,z:0}),this.rotation=r(["x","y","z"],"isDirty",this)({x:0,y:0,z:0}),this.scale=r(["x","y","z"],"isDirty",this)({x:1,y:1,z:1}),this.parent=null}return p(e,[{key:"getWorldMatrix",value:function(){if(this.parent){var e=this.parent.getWorldMatrix();return i.multiply(i.create(),e,this.getMatrix())}return this.getMatrix()}},{key:"getMatrix",value:function(){var e=o.create();o.fromEuler(e,this.rotation.x,this.rotation.y,this.rotation.z);var t=a.fromValues(this.position.x,this.position.y,this.position.z),r=a.fromValues(this.scale.x,this.scale.y,this.scale.z),n=i.create();return i.fromRotationTranslationScale(n,e,t,r),n}},{key:"transformCoordinate",value:function(e,t,r){var n=this.getMatrix(),i=a.fromValues(e,t,r),o=a.transformMat4(a.create(),i,n);return{x:o[0],y:o[1],z:o[2]}}},{key:"transformNormal",value:function(e,t,r){var n=this.getMatrix(),i=u.fromValues(e,t,r,0),o=u.transformMat4(u.create(),i,n);return{x:o[0],y:o[1],z:o[2]}}}]),e}(),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(h.prototype,"getMatrix",[c],Object.getOwnPropertyDescriptor(h.prototype,"getMatrix"),h.prototype),f=h))||f);t.default=y,e.exports=t.default}).call(t,r(2),r(1),r(9),r(19),r(0),r(22))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);t.default=i,e.exports=t.default},function(e,t,r){"use strict";(function(r,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,u,s,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=(o=r(["vertices","uvs","normals","indices"],"isDirty"),a=n("isDirty",!0),o((s=function(){function e(t){i(this,e),this.vertices=[],this.indices={default:[]},this.uvs=[],this.normals=[],this.mesh=t}return c(e,[{key:"getVertices",value:function(){return new Float32Array(this.vertices)}},{key:"getUVs",value:function(){return new Float32Array(this.uvs)}},{key:"getNormals",value:function(){return new Float32Array(this.normals)}},{key:"getIndices",value:function(){var e=l({},this.indices);for(var t in e)e[t]=new Uint32Array(e[t]);return e}},{key:"getBuffers",value:function(){var e=this.mesh.scene.engine,t=e.createAttributeBuffer(this.getVertices()),r=e.createAttributeBuffer(this.getUVs()),n=e.createAttributeBuffer(this.getNormals()),i={},o={},a=this.getIndices();for(var u in a)i[u]=e.createElementBuffer(a[u]),o[u]=a[u].length;return{vertices:t,uvs:r,normals:n,indices:i,indicesLength:o}}},{key:"mergeNormals",value:function(){for(var e=this.vertices,t=this.normals,r={},n=0;n<e.length;n+=3){var i=[e[n],e[n+1],e[n+2]].join(",");r[i]||(r[i]={indices:[],normal:[0,0,0]});var o=r[i];o.indices.push(n/3),o.normal[0]+=t[n],o.normal[1]+=t[n+1],o.normal[2]+=t[n+2]}for(var a in r)for(var u=r[a],s=u.indices,l=u.normal,c=0;c<s.length;c++){var f=s[c];t[3*f]=l[0]/s.length,t[3*f+1]=l[1]/s.length,t[3*f+2]=l[2]/s.length}}},{key:"mergeNormals2",value:function(){for(var e=[],t=this.vertices,r=this.normals,n=0;n<t.length;n+=3)if(!e[n]){for(var i=[n/3],o=[r[n],r[n+1],r[n+2]],a=n+3;a<n+t.length;a+=3)t[n]===t[a]&&t[n+1]===t[a+1]&&t[n+2]===t[a+2]&&(i.push(a/3),o[0]+=r[a],o[1]+=r[a+1],o[2]+=r[a+2]);for(var u=0;u<i.length;u++){var s=i[u];r[3*s]=o[0]/i.length,r[3*s+1]=o[1]/i.length,r[3*s+2]=o[2]/i.length,e[s]=!0}}}}]),e}(),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"getBuffers",[a],Object.getOwnPropertyDescriptor(s.prototype,"getBuffers"),s.prototype),u=s))||u);t.default=f,e.exports=t.default}).call(t,r(2),r(1))},function(e,t,r){"use strict";(function(r,n,i){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.geometry=new n(r),r.materials={default:new i(r)},r.lineWidth=2,r}return u(t,e),t}(r);t.default=s,e.exports=t.default}).call(t,r(5),r(24),r(12))},function(e,t,r){"use strict";(function(r,n,i,o,a){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,f,h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=(c=r("isDirty"),f=function(e){function t(e){u(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.color=i(["r","g","b"],"isDirty",r)({r:255,g:255,b:255}),r.texture=new o(r),r.source=n.COLOR,r.mesh=null,r.mesh=e,r}return l(t,e),h(t,[{key:"getSource",value:function(){return this.source}},{key:"getColor",value:function(){return a.fromValues(this.color.r/255,this.color.g/255,this.color.b/255)}}]),t}(n),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(f.prototype,"getColor",[c],Object.getOwnPropertyDescriptor(f.prototype,"getColor"),f.prototype),f);t.default=p,e.exports=t.default}).call(t,r(1),r(6),r(2),r(23),r(0))},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.direction={x:0,y:0,z:-1},r}return o(t,e),a(t,[{key:"getDirection",value:function(){return[this.direction.x,this.direction.y,this.direction.z]}}]),t}(r);t.default=u,e.exports=t.default}).call(t,r(4))},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var u=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return u.sky={r:255,g:255,b:255},u.ground={r:0,g:0,b:0},u.up={x:0,y:1,z:0},u}return o(t,e),a(t,[{key:"getSky",value:function(){return[this.sky.r,this.sky.g,this.sky.b]}},{key:"getGround",value:function(){return[this.ground.r,this.ground.g,this.ground.b]}},{key:"getUp",value:function(){return[this.up.x,this.up.y,this.up.z]}}]),t}(r);t.default=u,e.exports=t.default}).call(t,r(4))},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(r);t.default=a,e.exports=t.default}).call(t,r(4))},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},s=function(e){function t(){var e,r,o,a;n(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return r=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.position={x:0,y:0,z:0},o.radius=1,a=r,i(o,a)}return o(t,e),a(t,[{key:"getPosition",value:function(){return[this.position.x,this.position.y,this.position.z]}},{key:"getIntensity",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getIntensity",this).call(this)*this.radius*this.radius}}]),t}(r);t.default=s,e.exports=t.default}).call(t,r(4))},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var u=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return u.morphTargetsGeometries=[],u.cycleDuration=1e3,u}return o(t,e),a(t,[{key:"getMorphPhaseInfo",value:function(){var e=Date.now()/this.cycleDuration%1,t=1/this.morphTargetsGeometries.length,r=Math.floor(e/t),n=Math.ceil(e/t);return n===this.morphTargetsGeometries.length&&(n=0),{before:r,after:n,phase:e/t-r}}}]),t}(r);t.default=u,e.exports=t.default}).call(t,r(5))},function(e,t,r){"use strict";function n(e,t){if(o(t))return!!t(e);for(var r in t)if(t[r]!==e[r])return!1;return!0}function i(e,t){for(var r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return"function"==typeof e};t.default={isFunction:o,findIndex:i},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);t.default=i,e.exports=t.default},function(e,t,r){"use strict";function n(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}function i(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function a(e,t,r){var n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=r,n}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function p(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function v(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function y(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function d(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function m(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function b(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function g(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function M(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function _(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function x(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function T(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function P(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2];return e[0]=i*s-o*u,e[1]=o*a-n*s,e[2]=n*u-i*a,e}function A(e,t,r,n){var i=t[0],o=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function R(e,t,r,n,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return e[0]=t[0]*u+r[0]*s+n[0]*l+i[0]*c,e[1]=t[1]*u+r[1]*s+n[1]*l+i[1]*c,e[2]=t[2]*u+r[2]*s+n[2]*l+i[2]*c,e}function C(e,t,r,n,i,o){var a=1-o,u=a*a,s=o*o,l=u*a,c=3*o*u,f=3*s*a,h=s*o;return e[0]=t[0]*l+r[0]*c+n[0]*f+i[0]*h,e[1]=t[1]*l+r[1]*c+n[1]*f+i[1]*h,e[2]=t[2]*l+r[2]*c+n[2]*f+i[2]*h,e}function j(e,t){t=t||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function F(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function k(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function L(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2],l=r[3],c=l*n+u*o-s*i,f=l*i+s*n-a*o,h=l*o+a*i-u*n,p=-a*n-u*i-s*o;return e[0]=c*l+p*-a+f*-s-h*-u,e[1]=f*l+p*-u+h*-a-c*-s,e[2]=h*l+p*-s+c*-u-f*-a,e}function S(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function D(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function I(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function U(e,t){var r=a(e[0],e[1],e[2]),n=a(t[0],t[1],t[2]);P(r,r),P(n,n);var i=w(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function z(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function N(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function V(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],u=t[2];return Math.abs(r-o)<=B*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=B*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-u)<=B*Math.max(1,Math.abs(i),Math.abs(u))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.clone=i,t.length=o,t.fromValues=a,t.copy=u,t.set=s,t.add=l,t.subtract=c,t.multiply=f,t.divide=h,t.ceil=p,t.floor=v,t.min=y,t.max=d,t.round=m,t.scale=b,t.scaleAndAdd=g,t.distance=M,t.squaredDistance=_,t.squaredLength=x,t.negate=T,t.inverse=E,t.normalize=P,t.dot=w,t.cross=O,t.lerp=A,t.hermite=R,t.bezier=C,t.random=j,t.transformMat4=F,t.transformMat3=k,t.transformQuat=L,t.rotateX=S,t.rotateY=D,t.rotateZ=I,t.angle=U,t.str=z,t.exactEquals=N,t.equals=V;var B=1e-6;t.sub=c,t.mul=f,t.div=h,t.dist=M,t.sqrDist=_,t.len=o,t.sqrLen=x,t.forEach=function(){var e=n();return function(t,r,n,i,o,a){var u=void 0,s=void 0;for(r||(r=3),n||(n=0),s=i?Math.min(i*r+n,t.length):t.length,u=n;u<s;u+=r)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],o(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}()},function(e,t,r){"use strict";function n(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function i(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,n){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function c(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function p(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function v(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function y(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function d(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function m(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function b(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function g(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function M(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function _(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function x(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function T(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function P(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function O(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=u+n*(r[3]-u),e}function A(e,t){return t=t||1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),P(e,e),m(e,e,t),e}function R(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function C(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2],l=r[3],c=l*n+u*o-s*i,f=l*i+s*n-a*o,h=l*o+a*i-u*n,p=-a*n-u*i-s*o;return e[0]=c*l+p*-a+f*-s-h*-u,e[1]=f*l+p*-u+h*-a-c*-s,e[2]=h*l+p*-s+c*-u-f*-a,e[3]=t[3],e}function j(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function F(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function k(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],u=t[1],s=t[2],l=t[3];return Math.abs(r-a)<=L*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-u)<=L*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=L*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=L*Math.max(1,Math.abs(o),Math.abs(l))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.clone=i,t.fromValues=o,t.copy=a,t.set=u,t.add=s,t.subtract=l,t.multiply=c,t.divide=f,t.ceil=h,t.floor=p,t.min=v,t.max=y,t.round=d,t.scale=m,t.scaleAndAdd=b,t.distance=g,t.squaredDistance=M,t.length=_,t.squaredLength=x,t.negate=T,t.inverse=E,t.normalize=P,t.dot=w,t.lerp=O,t.random=A,t.transformMat4=R,t.transformQuat=C,t.str=j,t.exactEquals=F,t.equals=k;var L=1e-6;t.sub=l,t.mul=c,t.div=f,t.dist=g,t.sqrDist=M,t.len=_,t.sqrLen=x,t.forEach=function(){var e=n();return function(t,r,n,i,o,a){var u=void 0,s=void 0;for(r||(r=4),n||(n=0),s=i?Math.min(i*r+n,t.length):t.length,u=n;u<s;u+=r)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],o(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);t.default=i,e.exports=t.default},function(e,t,r){"use strict";(function(r,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,u,s,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=(o=r(["image"],"isDirty"),a=n("isDirty",!0),o((s=function(){function e(t){i(this,e),this.offset={x:0,y:0},this.image=new Uint8Array([255,255,255,255]),this.material=null,this.material=t}return l(e,[{key:"getImage",value:function(){return this.image}},{key:"getTexture",value:function(){return this.material.mesh.scene.engine.createTexture(this.getImage())}}]),e}(),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"getTexture",[a],Object.getOwnPropertyDescriptor(s.prototype,"getTexture"),s.prototype),u=s))||u);t.default=c,e.exports=t.default}).call(t,r(2),r(1))},function(e,t,r){"use strict";(function(r,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,u,s,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=(o=r(["vertices","indices"],"isDirty"),a=n("isDirty",!0),o((s=function(){function e(t){i(this,e),this.vertices=[],this.indices={default:[]},this.mesh=null,this.mesh=t}return c(e,[{key:"getVertices",value:function(){return new Float32Array(this.vertices)}},{key:"getIndices",value:function(){var e=l({},this.indices);for(var t in e)e[t]=new Uint32Array(e[t]);return e}},{key:"getBuffers",value:function(){for(var e=this.mesh.scene.engine,t=this.getVertices(),r=e.createAttributeBuffer(t),n={},i={},o=[],a=[],u=0;u<t.length;u+=3)o.push(0,0),a.push(0,0,1);var s=e.createAttributeBuffer(new Float32Array(o)),l=e.createAttributeBuffer(new Float32Array(a)),c=this.getIndices();for(var f in c)n[f]=e.createElementBuffer(c[f]),i[f]=c[f].length;return{vertices:r,indices:n,indicesLength:i,uvs:s,normals:l}}}]),e}(),function(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(s.prototype,"getBuffers",[a],Object.getOwnPropertyDescriptor(s.prototype,"getBuffers"),s.prototype),u=s))||u);t.default=f,e.exports=t.default}).call(t,r(2),r(1))},function(e,t,r){"use strict";(function(r,n,i,o,a){function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e){function t(e){u(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.scene=null,r.center={x:0,y:0,z:0},r.up={x:0,y:1,z:0},r.near=1,r.far=1e3,r.fov=90,r.scene=e,e.activeCamera=r,r}return l(t,e),c(t,[{key:"getVMatrix",value:function(){var e=n.create(),t=i.fromValues(this.center.x,this.center.y,this.center.z),r=i.fromValues(this.up.x,this.up.y,this.up.z),o=i.fromValues(this.position.x,this.position.y,this.position.z);n.lookAt(e,o,t,r),n.invert(e,e);var a=n.create();return n.invert(a,e),a}},{key:"getPMatrix",value:function(){var e=this.scene,t=this.near,r=this.far,i=this.fov,a=e.engine,u=a.width,s=a.height;return n.perspective(n.create(),o.deg2rad(i),u/s,t,r)}},{key:"getPosition",value:function(){return new Float32Array([this.position.x,this.position.y,this.position.z])}},{key:"getViewRay",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.scene.engine,u=o.width,s=o.height;r&&(t=s-t);var l=2*(e/u-.5),c=2*(t/s-.5),f=this.getPMatrix(),h=i.fromValues(l,c,1);i.transformMat4(h,h,n.invert(n.create(),f)),i.transformMat4(h,h,n.invert(n.create(),this.getVMatrix()));var p=i.sub(i.create(),h,i.fromValues(this.position.x,this.position.y,this.position.z)),v=new a;return v.origin.x=this.position.x,v.origin.y=this.position.y,v.origin.z=this.position.z,v.direction.x=p[0],v.direction.y=p[1],v.direction.z=p[2],v}}]),t}(r);t.default=f,e.exports=t.default}).call(t,r(8),r(9),r(0),r(26),r(27))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={rad2deg:function(e){return 180*e/Math.PI},deg2rad:function(e){return e*Math.PI/180}},e.exports=t.default},function(e,t,r){"use strict";(function(r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.origin={x:0,y:0,z:0},this.direction={x:0,y:0,z:1}}return i(e,[{key:"intersectPlane",value:function(e){var t=e.normal,n=e.offset,i=this.distanceToPlane({normal:t,offset:n});if(null===i)return null;var o=r.fromValues(this.origin.x,this.origin.y,this.origin.z),a=r.normalize(r.create(),r.fromValues(this.direction.x,this.direction.y,this.direction.z)),u=r.scale(r.create(),a,i),s=r.add(r.create(),o,u);return{x:s[0],y:s[1],z:s[2]}}},{key:"distanceToPlane",value:function(e){var t=e.normal,n=e.offset;t=r.normalize(r.create(),r.fromValues(t.x,t.y,t.z));var i=r.fromValues(this.origin.x,this.origin.y,this.origin.z),o=r.normalize(r.create(),r.fromValues(this.direction.x,this.direction.y,this.direction.z)),a=r.dot(t,o);if(0===a)return null;var u=-(r.dot(i,t)-n)/a;return u>0?u:null}}]),e}();t.default=o,e.exports=t.default}).call(t,r(0))},function(e,t,r){"use strict";(function(r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,a=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,u=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,s=/f\s+((([\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,l=/f\s+((([\d]{1,}\/[\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,c=/^usemtl /,f=/^mtllib /,h=/^g/,p={parse:function(e){function t(e){y(e).forEach(function(e){var t=e.split("/").map(function(e){return Number(e)-1}),r=i(t,3);v(r[0],r[1],r[2])})}function p(e){var t=y(e),o=0;t.forEach(function(e,t,a){var u=e.split("/").map(function(e){return Number(e)-1}),s=i(u,2),l=s[0],c=s[1];if(t%3==0){var f,h,p,y=(f=r).fromValues.apply(f,n(m[l])),d=a[t+1].split("/").map(function(e){return Number(e)-1}),g=i(d,1),M=g[0],_=(h=r).fromValues.apply(h,n(m[M])),x=a[t+2].split("/").map(function(e){return Number(e)-1}),T=i(x,1),E=T[0],P=(p=r).fromValues.apply(p,n(m[E])),w=r.sub(r.create(),_,y),O=r.sub(r.create(),P,y),A=r.cross(r.create(),w,O);b.push([].concat(n(A))),o=b.length-1}v(l,c,o)})}function v(e,t,r){if(M[e]){var n=d(M[e].uvs,t,M[e].normals,r);-1!==n?_.indices[T].push(M[e].pos[n]):(M[e].uvs.push(t),M[e].normals.push(r),M[e].pos.push(x),_.positions.push(m[e]),_.uvs.push(g[t]),_.normals.push(b[r]),_.indices[T].push(x++))}else M[e]={uvs:[t],normals:[r],pos:[x]},_.positions.push(m[e]),_.uvs.push(g[t]),_.normals.push(b[r]),_.indices[T].push(x++)}function y(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1;r+1<e.length;)t.push(e[0],e[r],e[r+1]),r++;return t}function d(e,t,r,n){for(var i=e.map(function(e,t){return{value:e,i:t}}).filter(function(e){return e.value===t}).map(function(e){return e.i}),o=0;o<i.length;o++)if(r[i[o]]===n)return i[o];return-1}var m=[],b=[],g=[],M=[],_={positions:[],uvs:[],normals:[],indices:{},mtls:e.mtl?this.parseMtl(e.mtl):{}},x=0,T=null;return e.obj.split("\n").forEach(function(e){e=e.trim();var r=void 0;if(0!==e.length&&"#"!==e.charAt(0))if(null!==(r=o.exec(e)))m.push(r.splice(1).map(Number));else if(null!==(r=a.exec(e)))b.push(r.splice(1).map(Number));else if(null!==(r=u.exec(e)))g.push(r.splice(1).map(Number));else if(null!==(r=l.exec(e)))t(r[1].trim().split(" "));else if(null!==(r=s.exec(e)))p(r[1].trim().split(" "));else if(c.test(e)){var n=e.substring(7).trim();_.indices[n]||(_.indices[n]=[]),T=n}else f.test(e)?e.substring(7).trim():h.test(e)?e.substring(2).trim():console.log("Unhandled expression at line : "+e)}),_},parseMtl:function(e){var t=e.split("\n"),r={},n=null;return t.forEach(function(e){if(e=e.trim(),0!==e.length&&"#"!==e.charAt(0)){var t=e.indexOf(" "),i=(t>=0?e.substring(0,t):e).toLowerCase(),o=t>=0?e.substring(t+1).trim():"";"newmtl"===i?(r[o]={},n=o):"kd"===i?r[n].diffuseColor=o.split(" ").map(Number):"ka"===i?r[n].ambientColor=o.split(" ").map(Number):"ks"===i?r[n].specularColor=o.split(" ").map(Number):"map_kd"===i?r[n].diffuseTexture=o:"map_ka"===i?r[n].ambientTexture=o:"map_ks"===i?r[n].specularTexture=o:"ns"===i?r[n].glossiness=Number(o):console.log("Unhandled expression at line : "+e)}}),r}};t.default=p,e.exports=t.default}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={parse:function(e){return e instanceof ArrayBuffer?this.parseBinary(e):this.parseASCII(e)},parseBinary:function(e){for(var t=new DataView(e),r=t.getUint32(80,!0),n=[],i=[],o=[],a=[],u=0;u<r;u++)for(var s=84+50*u,l=t.getFloat32(s,!0),c=t.getFloat32(s+4,!0),f=t.getFloat32(s+8,!0),h=1;h<=3;h++){var p=s+12*h;n.push(t.getFloat32(p,!0)),n.push(t.getFloat32(p+4,!0)),n.push(t.getFloat32(p+8,!0)),i.push(l,c,f),o.push(0,0),a.push(a.length)}return{positions:n,normals:i,uvs:o,indices:a}},parseASCII:function(e){for(var t=/facet([\s\S]*?)endfacet/g,r=/[\s]+([+-]?(?:\d+.\d+|\d+.|\d+|.\d+)(?:[eE][+-]?\d+)?)/.source,n=new RegExp("vertex"+r+r+r,"g"),i=new RegExp("normal"+r+r+r,"g"),o=0,a=[],u=[],s=[],l=[],c={x:0,y:0,z:0},f=void 0;null!==(f=t.exec(e));){for(var h=0,p=0,v=f[0];null!==(f=i.exec(v));)c.x=parseFloat(f[1]),c.y=parseFloat(f[2]),c.z=parseFloat(f[3]),p++;for(;null!==(f=n.exec(v));)a.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),u.push(c.x,c.y,c.z),s.push(0,0),l.push(l.length),h++;1!==p&&console.log("normalCountPerFace is not 1"),3!==h&&console.log("vertexCountPerFace is not 3"),o++}return{positions:a,normals:u,uvs:s,indices:l}}};t.default=n,e.exports=t.default},function(e,t,r){e.exports=r(31)},function(e,t,r){"use strict";(function(r,n,i,o,a,u,s,l,c,f,h,p,v,y,d,m,b,g,M,_,x,T,E,P,w,O){Object.defineProperty(t,"__esModule",{value:!0}),t.default={Engine:r,Scene:n,Node:i,Env:o,PerspectiveCamera:a,ArcRotateCamera:u,Light:s,DirectionalLight:l,HemisphereLight:c,AmbientLight:f,PointLight:h,MeshBuilder:p,Mesh:v,LineMesh:y,Material:d,RawMaterial:m,StandardMaterial:b,Geometry:g,LineGeometry:M,Mat4:_,Vec3:x,Vec4:T,Quat:E,Ray:P,ObjParser:w,StlParser:O},e.exports=t.default}).call(t,r(32),r(38),r(8),r(3),r(25),r(43),r(4),r(13),r(14),r(15),r(16),r(44),r(5),r(11),r(6),r(12),r(7),r(10),r(24),r(9),r(0),r(22),r(19),r(27),r(28),r(29))},function(e,t,r){"use strict";(function(n,i){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(34),c=o(l),f=r(35),h=o(f),p=r(36),v=o(p),y=r(37),d=o(y),m=function(){function e(t){u(this,e),this.width=0,this.height=0,this._currentProgram=null,this._programs={},this._framebuffers={};var r=this._gl=t.getContext("webgl",{antialias:!0});this.width=t.width,this.height=t.height,this._programs={default:new n({gl:r,fShaderSource:c.default,vShaderSource:h.default}),picker:new n({gl:r,fShaderSource:v.default,vShaderSource:d.default})},this._framebuffers={picker:i.framebufferNotReady?null:this.createFramebuffer({width:this.width,height:this.height}).framebuffer},r.viewport(0,0,this.width,this.height),r.enable(r.DEPTH_TEST),r.getExtension("OES_element_index_uint"),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0)}return s(e,[{key:"clearColorBuffer",value:function(e){var t=this._gl;t.clearColor(e.r/255,e.g/255,e.b/255,void 0!==e.a?e.a/255:1),t.clear(t.COLOR_BUFFER_BIT)}},{key:"clearDepthBuffer",value:function(){var e=this._gl;e.clear(e.DEPTH_BUFFER_BIT)}},{key:"useProgram",value:function(e){this._currentProgram=this._programs[e],this._gl.useProgram(this._currentProgram._program)}},{key:"uniform",value:function(e,t){this._currentProgram.uniform(e,t)}},{key:"attribute",value:function(e,t){this._currentProgram.attribute(e,t)}},{key:"enableDepthMask",value:function(){this._gl.depthMask(!0)}},{key:"disableDepthMask",value:function(){this._gl.depthMask(!1)}},{key:"enableBlend",value:function(){var e=this._gl;e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)}},{key:"disableBlend",value:function(){var e=this._gl;e.disable(e.BLEND)}},{key:"createAttributeBuffer",value:function(e){var t=this._gl,r=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),r}},{key:"createElementBuffer",value:function(e){var t=this._gl,r=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),r}},{key:"createTexture",value:function(e){var t=this._gl,r=t.createTexture();if(t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof Uint8Array)t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,e);else{t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);var n=function(e){return Math.log(e)/Math.log(2)%1==0};n(e.width)&&n(e.height)&&(t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST_MIPMAP_NEAREST))}return r}},{key:"createFramebuffer",value:function(e){var t=e.width,r=e.height,n=e.useColorBuffer,i=void 0!==n&&n,o=this._gl,a=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,a);var u=void 0,s=void 0;if(i){var l=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,l),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA4,t,r),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,l),u=l}else{var c=o.createTexture();o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,c),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t,r,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,c,0),u=c}var f=o.createRenderbuffer();if(o.bindRenderbuffer(o.RENDERBUFFER,f),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,t,r),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,f),s=f,o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE)throw new Error("framebuffer not ready "+o.checkFramebufferStatus(o.FRAMEBUFFER));return o.bindFramebuffer(o.FRAMEBUFFER,null),{framebuffer:a,colorTarget:u,depthTarget:s}}},{key:"bindFramebuffer",value:function(e){var t=this._gl,r=this._framebuffers[e];r?t.bindFramebuffer(t.FRAMEBUFFER,r):t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"lineWidth",value:function(e){this._gl.lineWidth(e)}},{key:"elements",value:function(e){var t=this._gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e)}},{key:"draw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.lines,n=this._gl,i=r?n.LINES:n.TRIANGLES;n.drawElements(i,e,n.UNSIGNED_INT,0)}},{key:"readFramebufferPixel",value:function(e,t,r){var n=this._gl;if(this._framebuffers[e]){this.bindFramebuffer(e);var i=new Uint8Array(4);return n.readPixels(t,r,1,1,n.RGBA,n.UNSIGNED_BYTE,i),this.bindFramebuffer(null),[].concat(a(i))}throw new Error("framebuffer "+e+" not exits")}}]),e}();t.default=m,e.exports=t.default}).call(t,r(33),r(3))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){var r=t.gl,i=t.fShaderSource,o=t.vShaderSource;n(this,e),this._gl=null,this._program=null,this._uniforms={},this._attributes={},this._textureCount=0,this._gl=r,this._fShaderSource=i,this._vShaderSource=o,this._initProgram()}return i(e,[{key:"_initProgram",value:function(){function e(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw"An error occurred compiling the shaders: "+e.getShaderInfoLog(n);return n}function t(e,t){for(var r=["FLOAT","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","SAMPLER_2D","SAMPLER_CUBE"],n=0;n<r.length;n++)if(e[r[n]]===t)return r[n];throw new Error("get type failed ' + value")}var r=this._gl,n=this._fShaderSource,i=this._vShaderSource,o=e(r,r.FRAGMENT_SHADER,n),a=e(r,r.VERTEX_SHADER,i),u=r.createProgram();if(r.attachShader(u,a),r.attachShader(u,o),r.linkProgram(u),!r.getProgramParameter(u,r.LINK_STATUS))throw"Unable to initialize the shader program: "+r.getProgramInfoLog(u);for(var s={},l={},c=r.getProgramParameter(u,r.ACTIVE_ATTRIBUTES),f=0;f<c;f++){var h=r.getActiveAttrib(u,f),p={type:t(r,h.type),position:r.getAttribLocation(u,h.name),info:h};l[h.name]=p}for(var v=r.getProgramParameter(u,r.ACTIVE_UNIFORMS),y=0;y<v;y++){var d=r.getActiveUniform(u,y),m={type:t(r,d.type),position:r.getUniformLocation(u,d.name),info:d};if("2D"===this._parseType(m.type).baseVecType){var b=++this._textureCount;m.unit=b}var g=d.name;g.endsWith("[0]")&&(g=g.replace("[0]","")),s[g]=m}this._program=u,this._attributes=l,this._uniforms=s}},{key:"_parseType",value:function(e){var t=e.split("_")[0],r=e.split("_").length>1?e.split("_")[1]:"VEC1";return{baseType:t,vecType:r,baseVecType:r.substr(0,3),vecSize:Number(r[3])}}},{key:"uniform",value:function(e,t){if(this._uniforms[e]){var r=this._gl,n=this._uniforms[e],i=n.type,o=(n.info,n.position),a=n.unit,u=this._parseType(i),s=u.baseType,l=(u.vecType,u.baseVecType),c=u.vecSize;switch(l){case"VEC":r[["uniform",c,"FLOAT"===s?"f":"i","v"].join("")](o,t);break;case"MAT":r[["uniform","Matrix",c,"fv"].join("")](o,!1,t);break;case"2D":r.activeTexture(r["TEXTURE"+a]),r.bindTexture(r.TEXTURE_2D,t),r.uniform1i(o,a);break;default:throw"baseVecType invalid"}}}},{key:"attribute",value:function(e,t){if(this._attributes[e]){var r=this._gl,n=this._attributes[e],i=n.type,o=(n.info,n.position),a=this._parseType(i),u=a.baseType,s=(a.vecType,a.baseVecType,a.vecSize);r.bindBuffer(r.ARRAY_BUFFER,t),r.vertexAttribPointer(o,s,r[u],!1,0,0),r.enableVertexAttribArray(o)}}}]),e}();t.default=o,e.exports=t.default},function(e,t){e.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.1415926\n\n#define LIGHT_MAX_COUNT 16\n#define LIGHT_TYPE_NULL 1\n#define LIGHT_TYPE_AMBIENT 2\n#define LIGHT_TYPE_DIRECTIONAL 3\n#define LIGHT_TYPE_POINT 4\n#define LIGHT_TYPE_HEMISPHERE 5\n\n#define MATERIAL_TYPE_RAW 1\n#define MATERIAL_TYPE_STANDARD 2\n\nuniform vec3 uCameraPosition;\n\nuniform int uLightType[LIGHT_MAX_COUNT];\nuniform vec3 uLightColor1[LIGHT_MAX_COUNT];\nuniform vec3 uLightColor2[LIGHT_MAX_COUNT];\nuniform float uLightIntensity[LIGHT_MAX_COUNT];\nuniform vec3 uLightPosition[LIGHT_MAX_COUNT];\n\nuniform int uMaterialType;\nuniform float uMaterialOpacity;\nuniform vec2 uMaterialOffset;\nuniform bool uMaterialAmbientTextureFlag;\nuniform bool uMaterialDiffuseTextureFlag;\nuniform bool uMaterialSpecularTextureFlag;\nuniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uSpecularColor;\nuniform sampler2D uAmbientTexture;\nuniform sampler2D uDiffuseTexture;\nuniform sampler2D uSpecularTexture;\nuniform float uGlossiness;\nuniform bool uEnvMapFlag;\nuniform sampler2D uEnvMapTexture;\n\nvarying vec2 vUV;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nuniform bool manuallyFlipY;\n\nvec2 des2pol(vec3 pos){\n    float r = distance(vec2(pos.x, pos.z), vec2(0.0));\n    float beta = atan(pos.y, r);\n    float v = beta / PI + 0.5;\n    float alpha = atan(pos.x, pos.z);\n    float u = alpha / (PI * 2.0) + 0.5;\n    return vec2(u, v);\n}\n\n\nvec3 applyLights(vec3 ambientColorSource, vec3 diffuseColorSource, vec3 specularColorSource){\n    vec3 colorLighted = vec3(0.0);\n\n    vec3 nNormal = normalize(vNormal);\n    vec3 nViewDirection = normalize(uCameraPosition - vPosition);\n\n    if(uEnvMapFlag){\n        vec3 viewReflect = reflect(-nViewDirection, nNormal);\n        vec2 viewReflectUV = des2pol(viewReflect);\n        vec3 envMapFactor = texture2D(uEnvMapTexture, viewReflectUV).xyz;\n        specularColorSource *= envMapFactor;\n    }\n\n    for(int i = 0; i < LIGHT_MAX_COUNT; i++){\n        int type = uLightType[i];\n        if(type == LIGHT_TYPE_DIRECTIONAL){\n\n            vec3 nLightDir = normalize(uLightPosition[i]);\n\n            float factorLambert = max(dot(nNormal, nLightDir), 0.0);\n            vec3 diffuseIncrement = factorLambert * uLightColor1[i] * uLightIntensity[i] * diffuseColorSource;\n            colorLighted += diffuseIncrement;\n\n            float factorPhong = pow(max(dot(reflect(-nLightDir, nNormal), nViewDirection), 0.0), uGlossiness);\n            vec3 specularIncrement = factorPhong * uLightColor1[i] * uLightIntensity[i] * specularColorSource;\n            colorLighted += specularIncrement;\n\n        }else if(type ==  LIGHT_TYPE_POINT){\n\n            vec3 ray = uLightPosition[i] - vPosition;\n            float rayLen = length(ray);\n            float decayedIntensity = 1.0 / (rayLen * rayLen) * uLightIntensity[i];\n\n            vec3 nLightDir = normalize(ray);\n\n            float factorLambert = abs(dot(normalize(vNormal), nLightDir));\n            vec3 diffuseIncrement = factorLambert * uLightColor1[i] * decayedIntensity * diffuseColorSource;\n            colorLighted += diffuseIncrement;\n\n            float factorPhong = pow(max(dot(reflect(-nLightDir, nNormal), nViewDirection), 0.0), uGlossiness);\n            vec3 specularIncrement = factorPhong * uLightColor1[i] * decayedIntensity * specularColorSource;\n            colorLighted += specularIncrement;\n\n        }else if(type == LIGHT_TYPE_AMBIENT){\n\n            vec3 increment = uLightColor1[i] * uLightIntensity[i] * ambientColorSource;\n            colorLighted += increment;\n\n        }else if(type == LIGHT_TYPE_HEMISPHERE){\n\n            float factor = dot(normalize(vNormal), normalize(uLightPosition[i]));\n            vec3 increment = mix(uLightColor2[i], uLightColor1[i], factor * 0.5 + 0.5) * uLightIntensity[i] * diffuseColorSource;\n            colorLighted += increment;\n\n        }\n    }\n\n    return colorLighted;\n}\n\nvoid main() {\n\n    vec2 offsetedUV = vUV;\n    offsetedUV = fract(offsetedUV + uMaterialOffset);\n    if(manuallyFlipY){\n        offsetedUV.y = 1.0 - offsetedUV.y;\n    }\n\n    vec4 diffuseColorSource = uMaterialDiffuseTextureFlag ? texture2D(uDiffuseTexture, offsetedUV) : vec4(uDiffuseColor, 1.0);\n\n    if(uMaterialType == MATERIAL_TYPE_STANDARD){\n        vec4 ambientColorSource = uMaterialAmbientTextureFlag ? texture2D(uAmbientTexture, offsetedUV) : vec4(uAmbientColor, 1.0);\n        vec4 specularColorSource = uMaterialSpecularTextureFlag ? texture2D(uSpecularTexture, offsetedUV) : vec4(uSpecularColor, 1.0);\n        gl_FragColor = vec4(applyLights(ambientColorSource.xyz, diffuseColorSource.xyz, specularColorSource.xyz), uMaterialOpacity);\n    }else if(uMaterialType == MATERIAL_TYPE_RAW){\n        gl_FragColor = vec4(diffuseColorSource.xyz, uMaterialOpacity);\n    }\n}"},function(e,t){e.exports="attribute vec3 aPosition;\nattribute vec2 aUV;\nattribute vec3 aNormal;\n\nuniform mat4 uPMatrix;\nuniform mat4 uVMatrix;\nuniform mat4 uMMatrix;\n\nuniform bool uMorphTargetFlag;\nuniform float uMorphPhase;\nattribute vec3 aPosition2;\nattribute vec2 aUV2;\nattribute vec3 aNormal2;\n\nvarying vec2 vUV;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nvoid main() {\n\n    vec3 aPositionRes = aPosition;\n    vec2 aUVRes = aUV;\n    vec3 aNormalRes = aNormal;\n\n    if(uMorphTargetFlag){\n        aPositionRes = mix(aPosition, aPosition2, uMorphPhase);\n        aUVRes = mix(aUV, aUV2, uMorphPhase);\n        aNormalRes = mix(aNormal, aNormal2, uMorphPhase);\n    }\n\n    gl_Position = uPMatrix * uVMatrix * uMMatrix * vec4(aPositionRes, 1.0);\n\n    vUV = aUVRes;\n    vNormal = normalize((uMMatrix * vec4( aNormalRes, 0.0)).xyz);\n    vPosition = (uMMatrix * vec4(aPositionRes, 1.0)).xyz;\n}"},function(e,t){e.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform int meshId;\nvoid main() {\n    float n = float(meshId);\n    float n1 = fract(n / 16.0);\n    n = n / 16.0 - n1;\n    float n2 = fract(n / 16.0);\n    n = n / 16.0 - n2;\n    float n3 = fract(n / 16.0);\n    n = n / 16.0 - n3;\n    float n4 = fract(n / 16.0);\n    gl_FragColor = vec4(n1, n2, n3, n4);\n}"},function(e,t){e.exports="attribute vec3 aPosition;\n\nuniform mat4 uPMatrix;\nuniform mat4 uVMatrix;\nuniform mat4 uMMatrix;\n\nuniform bool uMorphTargetFlag;\nuniform float uMorphPhase;\nattribute vec3 aPosition2;\n\nvoid main() {\n\n    vec3 aPositionRes = aPosition;\n\n    if(uMorphTargetFlag){\n        aPositionRes = mix(aPosition, aPosition2, uMorphPhase);\n    }\n\n    gl_Position = uPMatrix * uVMatrix * uMMatrix * vec4(aPositionRes, 1.0);\n}"},function(e,t,r){"use strict";(function(r,n){function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(){function e(t){o(this,e),this.clearColor={r:200,g:200,b:200},this.engine=null,this.activeCamera=null,this.meshes=[],this.lights=[],this.renderManager=new r(this),this.engine=t}return a(e,[{key:"render",value:function(){this.renderManager.render()}},{key:"pick",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.framebufferNotReady?null:(r&&(t=this.engine.height-t),[].concat(i(this.engine.readFramebufferPixel("picker",e,t))).map(function(e){return Math.round(e/16)}).reduceRight(function(e,t){return 16*e+t},0))}}]),e}();t.default=u,e.exports=t.default}).call(t,r(39),r(3))},function(e,t,r){"use strict";(function(r,n,i,o,a,u,s,l,c,f,h){function p(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=function(){function e(t){v(this,e),this.scene=null,this.renderData={},this.needUpdateRenderData=!0,this.scene=t}return y(e,[{key:"composeLight",value:function(){var e=this.scene,t=e.lights;if(t.length>16)throw new Error("[G3D] Scene could not have more than 16 lights.");for(var a={type:[],color1:[],color2:[],intensity:[],position:[]},u=0;u<16;u++){var s=t[u];if(s instanceof r){var l,c;a.type.push(3),(l=a.color1).push.apply(l,p(s.getColor())),a.color2.push(0,0,0),a.intensity.push(s.getIntensity()),(c=a.position).push.apply(c,p(s.getDirection()))}else if(s instanceof n){var f,h,v;a.type.push(5),(f=a.color1).push.apply(f,p(s.getSky())),(h=a.color2).push.apply(h,p(s.getGround())),a.intensity.push(s.getIntensity()),(v=a.position).push.apply(v,p(s.getUp()))}else if(s instanceof i){var y;a.type.push(2),(y=a.color1).push.apply(y,p(s.getColor())),a.color2.push(0,0,0),a.intensity.push(s.getIntensity()),a.position.push(0,0,0)}else if(s instanceof o){var d,m;a.type.push(4),(d=a.color1).push.apply(d,p(s.getColor())),a.color2.push(0,0,0),a.intensity.push(s.getIntensity()),(m=a.position).push.apply(m,p(s.getPosition()))}else a.type.push(1),a.color1.push(0,0,0),a.color2.push(0,0,0),a.intensity.push(0),a.position.push(0,0,0)}return{type:new Int32Array(a.type),color1:new Float32Array(a.color1.map(function(e){return e/255})),color2:new Float32Array(a.color2.map(function(e){return e/255})),intensity:new Float32Array(a.intensity),position:new Float32Array(a.position)}}},{key:"groupMeshLayers",value:function(){var e=this.scene,t=e.meshes,r=[];return t.forEach(function(e){var t=e.getRenderLayerIndex();r[t]||(r[t]=[]),r[t].push(e)}),r.filter(Boolean)}},{key:"render",value:function(){if(this.scene.activeCamera){var e=this.groupMeshLayers();this.renderMainLayer(e),a.framebufferNotReady||this.renderPickingLayer(e)}}},{key:"renderMainLayer",value:function(e){var t=this,r=this.scene,n=r.engine;n.useProgram("default"),n.uniform("manuallyFlipY",[Number(a.manuallyFlipY)]),r.engine.uniform("uVMatrix",r.activeCamera.getVMatrix()),r.engine.uniform("uPMatrix",r.activeCamera.getPMatrix()),r.engine.uniform("uCameraPosition",r.activeCamera.getPosition());var i=this.composeLight();n.uniform("uLightType",i.type),n.uniform("uLightColor1",i.color1),n.uniform("uLightColor2",i.color2),n.uniform("uLightIntensity",i.intensity),n.uniform("uLightPosition",i.position),n.clearColorBuffer(r.clearColor),e.forEach(function(e){n.clearDepthBuffer(),e.filter(function(e){return e.getGlobalVisibility()}).forEach(function(e){t.renderMeshMainLayer(e)})})}},{key:"renderMeshMainLayer",value:function(e){var t=this.scene,r=t.engine;if(r.uniform("uMMatrix",e.getWorldMatrix()),e instanceof u){var n=e.getMorphPhaseInfo(),i=n.before,o=n.after,a=n.phase,p=e.morphTargetsGeometries[i].getBuffers(),v=e.morphTargetsGeometries[o].getBuffers();r.uniform("uMorphTargetFlag",[!0]),r.attribute("aPosition",p.vertices),r.attribute("aUV",p.uvs),r.attribute("aNormal",p.normals),r.attribute("aPosition2",v.vertices),r.attribute("aUV2",v.uvs),r.attribute("aNormal2",v.normals),r.uniform("uMorphPhase",[a])}else if(e instanceof s||e instanceof l){var y=e.geometry.getBuffers();r.uniform("uMorphTargetFlag",[!1]),r.attribute("aPosition",y.vertices),r.attribute("aPosition2",y.vertices),r.attribute("aUV",y.uvs),r.attribute("aUV2",y.uvs),r.attribute("aNormal",y.normals),r.attribute("aNormal2",y.normals)}var d=e.materials;for(var m in d){var b=m,g=d[b];g instanceof c?(r.uniform("uMaterialType",[2]),r.uniform("uMaterialAmbientTextureFlag",[Number(g.getAmbientSource()===f.TEXTURE)]),r.uniform("uMaterialDiffuseTextureFlag",[Number(g.getDiffuseSource()===f.TEXTURE)]),r.uniform("uMaterialSpecularTextureFlag",[Number(g.getSpecularSource()===f.TEXTURE)]),g.getUseEnvMap()?(r.uniform("uEnvMapFlag",[Number(!0)]),r.uniform("uEnvMapTexture",g.envMapTexture.getTexture())):r.uniform("uEnvMapFlag",[Number(!1)]),r.uniform("uAmbientColor",g.getAmbientColor()),r.uniform("uAmbientTexture",g.ambientTexture.getTexture()),r.uniform("uDiffuseColor",g.getDiffuseColor()),r.uniform("uDiffuseTexture",g.diffuseTexture.getTexture()),r.uniform("uSpecularColor",g.getSpecularColor()),r.uniform("uSpecularTexture",g.specularTexture.getTexture()),r.uniform("uGlossiness",[g.getGlossiness()])):g instanceof h&&(r.uniform("uMaterialType",[1]),g.getSource()===f.COLOR?r.uniform("uMaterialDiffuseTextureFlag",[Number(!1)]):r.uniform("uMaterialDiffuseTextureFlag",[Number(!0)]),r.uniform("uDiffuseColor",g.getColor()),r.uniform("uDiffuseTexture",g.texture.getTexture())),r.uniform("uMaterialOpacity",[g.getOpacity()]),r.uniform("uMaterialOffset",g.getOffset()),g.getOpacity()<1?(r.enableBlend(),r.disableDepthMask()):(r.enableDepthMask(),r.disableBlend());var M=e.geometry.getBuffers();r.elements(M.indices[b]),e instanceof l?(r.lineWidth(e.lineWidth),r.draw(M.indicesLength[b],{lines:!0})):r.draw(M.indicesLength[b])}e.isDirty=!1}},{key:"renderPickingLayer",value:function(e){var t=this,r=this.scene,n=r.engine;n.useProgram("picker"),n.bindFramebuffer("picker"),n.uniform("uVMatrix",r.activeCamera.getVMatrix()),n.uniform("uPMatrix",r.activeCamera.getPMatrix()),n.clearColorBuffer({r:0,g:0,b:0,a:1}),e.forEach(function(e){n.clearDepthBuffer(),e.filter(function(e){return e.getPickable()}).forEach(function(e){t.renderMeshPickingLayer(e)})}),n.bindFramebuffer(null)}},{key:"renderMeshPickingLayer",value:function(e){var t=this.scene,r=t.engine;if(r.uniform("uMMatrix",e.getWorldMatrix()),e instanceof u){var n=e.getMorphPhaseInfo(),i=n.before,o=n.after,a=n.phase,c=e.morphTargetsGeometries[i].getBuffers(),f=e.morphTargetsGeometries[o].getBuffers();r.uniform("uMorphTargetFlag",[!0]),r.attribute("aPosition",c.vertices),r.attribute("aPosition2",f.vertices),r.uniform("uMorphPhase",[a])}else if(e instanceof s||e instanceof l){var h=e.geometry.getBuffers();r.uniform("uMorphTargetFlag",[!1]),r.attribute("aPosition",h.vertices),r.attribute("aPosition2",h.vertices),r.uniform("uMorphPhase",[0])}r.uniform("meshId",[e.id]);var p=e.materials;for(var v in p){var y=(p[v],e.geometry.getBuffers());r.elements(y.indices[v]),e instanceof l?(r.lineWidth(e.lineWidth),r.draw(y.indicesLength[v],{lines:!0})):r.draw(y.indicesLength[v])}}}]),e}();t.default=d,e.exports=t.default}).call(t,r(13),r(14),r(15),r(16),r(3),r(17),r(5),r(11),r(7),r(6),r(12))},function(e,t,r){"use strict";function n(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function i(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(e,t,r,n,i,o,a,u,s,l,c,f,h,p,v,y){var d=new Float32Array(16);return d[0]=e,d[1]=t,d[2]=r,d[3]=n,d[4]=i,d[5]=o,d[6]=a,d[7]=u,d[8]=s,d[9]=l,d[10]=c,d[11]=f,d[12]=h,d[13]=p,d[14]=v,d[15]=y,d}function u(e,t,r,n,i,o,a,u,s,l,c,f,h,p,v,y,d){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=u,e[7]=s,e[8]=l,e[9]=c,e[10]=f,e[11]=h,e[12]=p,e[13]=v,e[14]=y,e[15]=d,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],h=t[10],p=t[11],v=t[12],y=t[13],d=t[14],m=t[15],b=r*u-n*a,g=r*s-i*a,M=r*l-o*a,_=n*s-i*u,x=n*l-o*u,T=i*l-o*s,E=c*y-f*v,P=c*d-h*v,w=c*m-p*v,O=f*d-h*y,A=f*m-p*y,R=h*m-p*d,C=b*R-g*A+M*O+_*w-x*P+T*E;return C?(C=1/C,e[0]=(u*R-s*A+l*O)*C,e[1]=(i*A-n*R-o*O)*C,e[2]=(y*T-d*x+m*_)*C,e[3]=(h*x-f*T-p*_)*C,e[4]=(s*w-a*R-l*P)*C,e[5]=(r*R-i*w+o*P)*C,e[6]=(d*M-v*T-m*g)*C,e[7]=(c*T-h*M+p*g)*C,e[8]=(a*A-u*w+l*E)*C,e[9]=(n*w-r*A-o*E)*C,e[10]=(v*x-y*M+m*b)*C,e[11]=(f*M-c*x-p*b)*C,e[12]=(u*P-a*O-s*E)*C,e[13]=(r*O-n*P+i*E)*C,e[14]=(y*g-v*_-d*b)*C,e[15]=(c*_-f*g+h*b)*C,e):null}function f(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],h=t[10],p=t[11],v=t[12],y=t[13],d=t[14],m=t[15];return e[0]=u*(h*m-p*d)-f*(s*m-l*d)+y*(s*p-l*h),e[1]=-(n*(h*m-p*d)-f*(i*m-o*d)+y*(i*p-o*h)),e[2]=n*(s*m-l*d)-u*(i*m-o*d)+y*(i*l-o*s),e[3]=-(n*(s*p-l*h)-u*(i*p-o*h)+f*(i*l-o*s)),e[4]=-(a*(h*m-p*d)-c*(s*m-l*d)+v*(s*p-l*h)),e[5]=r*(h*m-p*d)-c*(i*m-o*d)+v*(i*p-o*h),e[6]=-(r*(s*m-l*d)-a*(i*m-o*d)+v*(i*l-o*s)),e[7]=r*(s*p-l*h)-a*(i*p-o*h)+c*(i*l-o*s),e[8]=a*(f*m-p*y)-c*(u*m-l*y)+v*(u*p-l*f),e[9]=-(r*(f*m-p*y)-c*(n*m-o*y)+v*(n*p-o*f)),e[10]=r*(u*m-l*y)-a*(n*m-o*y)+v*(n*l-o*u),e[11]=-(r*(u*p-l*f)-a*(n*p-o*f)+c*(n*l-o*u)),e[12]=-(a*(f*d-h*y)-c*(u*d-s*y)+v*(u*h-s*f)),e[13]=r*(f*d-h*y)-c*(n*d-i*y)+v*(n*h-i*f),e[14]=-(r*(u*d-s*y)-a*(n*d-i*y)+v*(n*s-i*u)),e[15]=r*(u*h-s*f)-a*(n*h-i*f)+c*(n*s-i*u),e}function h(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],l=e[8],c=e[9],f=e[10],h=e[11],p=e[12],v=e[13],y=e[14],d=e[15];return(t*a-r*o)*(f*d-h*y)-(t*u-n*o)*(c*d-h*v)+(t*s-i*o)*(c*y-f*v)+(r*u-n*a)*(l*d-h*p)-(r*s-i*a)*(l*y-f*p)+(n*s-i*u)*(l*v-c*p)}function p(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],h=t[9],p=t[10],v=t[11],y=t[12],d=t[13],m=t[14],b=t[15],g=r[0],M=r[1],_=r[2],x=r[3];return e[0]=g*n+M*u+_*f+x*y,e[1]=g*i+M*s+_*h+x*d,e[2]=g*o+M*l+_*p+x*m,e[3]=g*a+M*c+_*v+x*b,g=r[4],M=r[5],_=r[6],x=r[7],e[4]=g*n+M*u+_*f+x*y,e[5]=g*i+M*s+_*h+x*d,e[6]=g*o+M*l+_*p+x*m,e[7]=g*a+M*c+_*v+x*b,g=r[8],M=r[9],_=r[10],x=r[11],e[8]=g*n+M*u+_*f+x*y,e[9]=g*i+M*s+_*h+x*d,e[10]=g*o+M*l+_*p+x*m,e[11]=g*a+M*c+_*v+x*b,g=r[12],M=r[13],_=r[14],x=r[15],e[12]=g*n+M*u+_*f+x*y,e[13]=g*i+M*s+_*h+x*d,e[14]=g*o+M*l+_*p+x*m,e[15]=g*a+M*c+_*v+x*b,e}function v(e,t,r){var n=r[0],i=r[1],o=r[2],a=void 0,u=void 0,s=void 0,l=void 0,c=void 0,f=void 0,h=void 0,p=void 0,v=void 0,y=void 0,d=void 0,m=void 0;return t===e?(e[12]=t[0]*n+t[4]*i+t[8]*o+t[12],e[13]=t[1]*n+t[5]*i+t[9]*o+t[13],e[14]=t[2]*n+t[6]*i+t[10]*o+t[14],e[15]=t[3]*n+t[7]*i+t[11]*o+t[15]):(a=t[0],u=t[1],s=t[2],l=t[3],c=t[4],f=t[5],h=t[6],p=t[7],v=t[8],y=t[9],d=t[10],m=t[11],e[0]=a,e[1]=u,e[2]=s,e[3]=l,e[4]=c,e[5]=f,e[6]=h,e[7]=p,e[8]=v,e[9]=y,e[10]=d,e[11]=m,e[12]=a*n+c*i+v*o+t[12],e[13]=u*n+f*i+y*o+t[13],e[14]=s*n+h*i+d*o+t[14],e[15]=l*n+p*i+m*o+t[15]),e}function y(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,r,n){var i=n[0],o=n[1],a=n[2],u=Math.sqrt(i*i+o*o+a*a),s=void 0,l=void 0,c=void 0,f=void 0,h=void 0,p=void 0,v=void 0,y=void 0,d=void 0,m=void 0,b=void 0,g=void 0,M=void 0,_=void 0,x=void 0,T=void 0,E=void 0,P=void 0,w=void 0,O=void 0,A=void 0,R=void 0,C=void 0,j=void 0;return Math.abs(u)<H?null:(u=1/u,i*=u,o*=u,a*=u,s=Math.sin(r),l=Math.cos(r),c=1-l,f=t[0],h=t[1],p=t[2],v=t[3],y=t[4],d=t[5],m=t[6],b=t[7],g=t[8],M=t[9],_=t[10],x=t[11],T=i*i*c+l,E=o*i*c+a*s,P=a*i*c-o*s,w=i*o*c-a*s,O=o*o*c+l,A=a*o*c+i*s,R=i*a*c+o*s,C=o*a*c-i*s,j=a*a*c+l,e[0]=f*T+y*E+g*P,e[1]=h*T+d*E+M*P,e[2]=p*T+m*E+_*P,e[3]=v*T+b*E+x*P,e[4]=f*w+y*O+g*A,e[5]=h*w+d*O+M*A,e[6]=p*w+m*O+_*A,e[7]=v*w+b*O+x*A,e[8]=f*R+y*C+g*j,e[9]=h*R+d*C+M*j,e[10]=p*R+m*C+_*j,e[11]=v*R+b*C+x*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function m(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],u=t[6],s=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*n,e[5]=a*i+c*n,e[6]=u*i+f*n,e[7]=s*i+h*n,e[8]=l*i-o*n,e[9]=c*i-a*n,e[10]=f*i-u*n,e[11]=h*i-s*n,e}function b(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*n,e[1]=a*i-c*n,e[2]=u*i-f*n,e[3]=s*i-h*n,e[8]=o*n+l*i,e[9]=a*n+c*i,e[10]=u*n+f*i,e[11]=s*n+h*i,e}function g(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*n,e[1]=a*i+c*n,e[2]=u*i+f*n,e[3]=s*i+h*n,e[4]=l*i-o*n,e[5]=c*i-a*n,e[6]=f*i-u*n,e[7]=h*i-s*n,e}function M(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function _(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(e,t,r){var n=r[0],i=r[1],o=r[2],a=Math.sqrt(n*n+i*i+o*o),u=void 0,s=void 0,l=void 0;return Math.abs(a)<H?null:(a=1/a,n*=a,i*=a,o*=a,u=Math.sin(t),s=Math.cos(t),l=1-s,e[0]=n*n*l+s,e[1]=i*n*l+o*u,e[2]=o*n*l-i*u,e[3]=0,e[4]=n*i*l-o*u,e[5]=i*i*l+s,e[6]=o*i*l+n*u,e[7]=0,e[8]=n*o*l+i*u,e[9]=i*o*l-n*u,e[10]=o*o*l+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function T(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function P(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=n+n,s=i+i,l=o+o,c=n*u,f=n*s,h=n*l,p=i*s,v=i*l,y=o*l,d=a*u,m=a*s,b=a*l;return e[0]=1-(p+y),e[1]=f+b,e[2]=h-m,e[3]=0,e[4]=f-b,e[5]=1-(c+y),e[6]=v+d,e[7]=0,e[8]=h+m,e[9]=v-d,e[10]=1-(c+p),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function O(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function A(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],u=t[6],s=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+a*a+u*u),e[2]=Math.sqrt(s*s+l*l+c*c),e}function R(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function C(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3],s=i+i,l=o+o,c=a+a,f=i*s,h=i*l,p=i*c,v=o*l,y=o*c,d=a*c,m=u*s,b=u*l,g=u*c,M=n[0],_=n[1],x=n[2];return e[0]=(1-(v+d))*M,e[1]=(h+g)*M,e[2]=(p-b)*M,e[3]=0,e[4]=(h-g)*_,e[5]=(1-(f+d))*_,e[6]=(y+m)*_,e[7]=0,e[8]=(p+b)*x,e[9]=(y-m)*x,e[10]=(1-(f+v))*x,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function j(e,t,r,n,i){var o=t[0],a=t[1],u=t[2],s=t[3],l=o+o,c=a+a,f=u+u,h=o*l,p=o*c,v=o*f,y=a*c,d=a*f,m=u*f,b=s*l,g=s*c,M=s*f,_=n[0],x=n[1],T=n[2],E=i[0],P=i[1],w=i[2];return e[0]=(1-(y+m))*_,e[1]=(p+M)*_,e[2]=(v-g)*_,e[3]=0,e[4]=(p-M)*x,e[5]=(1-(h+m))*x,e[6]=(d+b)*x,e[7]=0,e[8]=(v+g)*T,e[9]=(d-b)*T,e[10]=(1-(h+y))*T,e[11]=0,e[12]=r[0]+E-(e[0]*E+e[4]*P+e[8]*w),e[13]=r[1]+P-(e[1]*E+e[5]*P+e[9]*w),e[14]=r[2]+w-(e[2]*E+e[6]*P+e[10]*w),e[15]=1,e}function F(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,l=r*a,c=n*a,f=n*u,h=i*a,p=i*u,v=i*s,y=o*a,d=o*u,m=o*s;return e[0]=1-f-v,e[1]=c+m,e[2]=h-d,e[3]=0,e[4]=c-m,e[5]=1-l-v,e[6]=p+y,e[7]=0,e[8]=h+d,e[9]=p-y,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t,r,n,i,o,a){var u=1/(r-t),s=1/(i-n),l=1/(o-a);return e[0]=2*o*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*s,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(i+n)*s,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}function L(e,t,r,n,i){var o=1/Math.tan(t/2),a=1/(n-i);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+n)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*n*a,e[15]=0,e}function S(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),s=2/(a+u),l=2/(i+o);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-u)*s*.5,e[9]=(i-o)*l*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function D(e,t,r,n,i,o,a){var u=1/(t-r),s=1/(n-i),l=1/(o-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*u,e[13]=(i+n)*s,e[14]=(a+o)*l,e[15]=1,e}function I(e,t,r,n){var i=void 0,o=void 0,a=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,p=void 0,v=void 0,y=t[0],d=t[1],m=t[2],b=n[0],g=n[1],M=n[2],_=r[0],x=r[1],T=r[2];return Math.abs(y-_)<H&&Math.abs(d-x)<H&&Math.abs(m-T)<H?s(e):(f=y-_,h=d-x,p=m-T,v=1/Math.sqrt(f*f+h*h+p*p),f*=v,h*=v,p*=v,i=g*p-M*h,o=M*f-b*p,a=b*h-g*f,v=Math.sqrt(i*i+o*o+a*a),v?(v=1/v,i*=v,o*=v,a*=v):(i=0,o=0,a=0),u=h*a-p*o,l=p*i-f*a,c=f*o-h*i,v=Math.sqrt(u*u+l*l+c*c),v?(v=1/v,u*=v,l*=v,c*=v):(u=0,l=0,c=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=l,e[6]=h,e[7]=0,e[8]=a,e[9]=c,e[10]=p,e[11]=0,e[12]=-(i*y+o*d+a*m),e[13]=-(u*y+l*d+c*m),e[14]=-(f*y+h*d+p*m),e[15]=1,e)}function U(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=n[0],s=n[1],l=n[2],c=i-r[0],f=o-r[1],h=a-r[2],p=c*c+f*f+h*h;p>0&&(p=1/Math.sqrt(p),c*=p,f*=p,h*=p);var v=s*h-l*f,y=l*c-u*h,d=u*f-s*c;return e[0]=v,e[1]=y,e[2]=d,e[3]=0,e[4]=f*d-h*y,e[5]=h*v-c*d,e[6]=c*y-f*v,e[7]=0,e[8]=c,e[9]=f,e[10]=h,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function z(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function N(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function V(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function B(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function G(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function q(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function X(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Y(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],v=e[12],y=e[13],d=e[14],m=e[15],b=t[0],g=t[1],M=t[2],_=t[3],x=t[4],T=t[5],E=t[6],P=t[7],w=t[8],O=t[9],A=t[10],R=t[11],C=t[12],j=t[13],F=t[14],k=t[15];return Math.abs(r-b)<=H*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-g)<=H*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(i-M)<=H*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-_)<=H*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-x)<=H*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-T)<=H*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(s-E)<=H*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(l-P)<=H*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(c-w)<=H*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(f-O)<=H*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(h-A)<=H*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-R)<=H*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(v-C)<=H*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(y-j)<=H*Math.max(1,Math.abs(y),Math.abs(j))&&Math.abs(d-F)<=H*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(m-k)<=H*Math.max(1,Math.abs(m),Math.abs(k))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.clone=i,t.copy=o,t.fromValues=a,t.set=u,t.identity=s,t.transpose=l,t.invert=c,t.adjoint=f,t.determinant=h,t.multiply=p,t.translate=v,t.scale=y,t.rotate=d,t.rotateX=m,t.rotateY=b,t.rotateZ=g,t.fromTranslation=M,t.fromScaling=_,t.fromRotation=x,t.fromXRotation=T,t.fromYRotation=E,t.fromZRotation=P,t.fromRotationTranslation=w,t.getTranslation=O,t.getScaling=A,t.getRotation=R,t.fromRotationTranslationScale=C,t.fromRotationTranslationScaleOrigin=j,t.fromQuat=F,t.frustum=k,t.perspective=L,t.perspectiveFromFieldOfView=S,t.ortho=D,t.lookAt=I,t.targetTo=U,t.str=z,t.frob=N,t.add=V,t.subtract=B,t.multiplyScalar=G,t.multiplyScalarAndAdd=q,t.exactEquals=X,t.equals=Y;var H=1e-6;t.mul=p,t.sub=B},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function o(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function a(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function u(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return 0!=n?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function s(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1],l=r[2],c=r[3];return e[0]=n*c+a*u+i*l-o*s,e[1]=i*c+a*s+o*u-n*l,e[2]=o*c+a*l+n*s-i*u,e[3]=a*c-n*u-i*s-o*l,e}function l(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s+a*u,e[1]=i*s+o*u,e[2]=o*s-i*u,e[3]=a*s-n*u,e}function c(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s-o*u,e[1]=i*s+a*u,e[2]=o*s+n*u,e[3]=a*s-i*u,e}function f(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s+i*u,e[1]=i*s-n*u,e[2]=o*s+a*u,e[3]=a*s-o*u,e}function h(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function p(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3],s=r[0],l=r[1],c=r[2],f=r[3],h=void 0,p=void 0,v=void 0,y=void 0,d=void 0;return p=i*s+o*l+a*c+u*f,p<0&&(p=-p,s=-s,l=-l,c=-c,f=-f),1-p>1e-6?(h=Math.acos(p),v=Math.sin(h),y=Math.sin((1-n)*h)/v,d=Math.sin(n*h)/v):(y=1-n,d=n),e[0]=y*i+d*s,e[1]=y*o+d*l,e[2]=y*a+d*c,e[3]=y*u+d*f,e}function v(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o,u=a?1/a:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-i*u,e[3]=o*u,e}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function d(e,t){var r=t[0]+t[4]+t[8],n=void 0;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}function m(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var o=Math.sin(t),a=Math.cos(t),u=Math.sin(r),s=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return e[0]=o*s*c-a*u*l,e[1]=a*u*c+o*s*l,e[2]=a*s*l-o*u*c,e[3]=a*s*c+o*u*l,e}function b(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}Object.defineProperty(t,"__esModule",{value:!0}),t.setAxes=t.sqlerp=t.rotationTo=t.equals=t.exactEquals=t.normalize=t.sqrLen=t.squaredLength=t.len=t.length=t.lerp=t.dot=t.scale=t.mul=t.add=t.set=t.copy=t.fromValues=t.clone=void 0,t.create=i,t.identity=o,t.setAxisAngle=a,t.getAxisAngle=u,t.multiply=s,t.rotateX=l,t.rotateY=c,t.rotateZ=f,t.calculateW=h,t.slerp=p,t.invert=v,t.conjugate=y,t.fromMat3=d,t.fromEuler=m,t.str=b;var g=r(42),M=n(g),_=r(20),x=n(_),T=r(21),E=n(T),P=(t.clone=E.clone,t.fromValues=E.fromValues,t.copy=E.copy,t.set=E.set,t.add=E.add,t.mul=s,t.scale=E.scale,t.dot=E.dot,t.lerp=E.lerp,t.length=E.length),w=(t.len=P,t.squaredLength=E.squaredLength),O=(t.sqrLen=w,t.normalize=E.normalize);t.exactEquals=E.exactEquals,t.equals=E.equals,t.rotationTo=function(){var e=x.create(),t=x.fromValues(1,0,0),r=x.fromValues(0,1,0);return function(n,i,o){var u=x.dot(i,o);return u<-.999999?(x.cross(e,t,i),x.len(e)<1e-6&&x.cross(e,r,i),x.normalize(e,e),a(n,e,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(x.cross(e,i,o),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+u,O(n,n))}}(),t.sqlerp=function(){var e=i(),t=i();return function(r,n,i,o,a,u){return p(e,n,a,u),p(t,i,o,u),p(r,e,t,2*u*(1-u)),r}}(),t.setAxes=function(){var e=M.create();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],O(t,d(t,e))}}()},function(e,t,r){"use strict";function n(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e){var t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,r,n,i,o,a,u,s){var l=new Float32Array(9);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=o,l[6]=a,l[7]=u,l[8]=s,l}function s(e,t,r,n,i,o,a,u,s,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=u,e[7]=s,e[8]=l,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function c(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function f(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=c*a-u*l,h=-c*o+u*s,p=l*o-a*s,v=r*f+n*h+i*p;return v?(v=1/v,e[0]=f*v,e[1]=(-c*n+i*l)*v,e[2]=(u*n-i*a)*v,e[3]=h*v,e[4]=(c*r-i*s)*v,e[5]=(-u*r+i*o)*v,e[6]=p*v,e[7]=(-l*r+n*s)*v,e[8]=(a*r-n*o)*v,e):null}function h(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8];return e[0]=a*c-u*l,e[1]=i*l-n*c,e[2]=n*u-i*a,e[3]=u*s-o*c,e[4]=r*c-i*s,e[5]=i*o-r*u,e[6]=o*l-a*s,e[7]=n*s-r*l,e[8]=r*a-n*o,e}function p(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],l=e[8];return t*(l*o-a*s)+r*(-l*i+a*u)+n*(s*i-o*u)}function v(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],h=r[0],p=r[1],v=r[2],y=r[3],d=r[4],m=r[5],b=r[6],g=r[7],M=r[8];return e[0]=h*n+p*a+v*l,e[1]=h*i+p*u+v*c,e[2]=h*o+p*s+v*f,e[3]=y*n+d*a+m*l,e[4]=y*i+d*u+m*c,e[5]=y*o+d*s+m*f,e[6]=b*n+g*a+M*l,e[7]=b*i+g*u+M*c,e[8]=b*o+g*s+M*f,e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],h=r[0],p=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=h*n+p*a+l,e[7]=h*i+p*u+c,e[8]=h*o+p*s+f,e}function d(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],h=Math.sin(r),p=Math.cos(r);return e[0]=p*n+h*a,e[1]=p*i+h*u,e[2]=p*o+h*s,e[3]=p*a-h*n,e[4]=p*u-h*i,e[5]=p*s-h*o,e[6]=l,e[7]=c,e[8]=f,e}function m(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function g(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function M(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function x(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,l=r*a,c=n*a,f=n*u,h=i*a,p=i*u,v=i*s,y=o*a,d=o*u,m=o*s;return e[0]=1-f-v,e[3]=c-m,e[6]=h+d,e[1]=c+m,e[4]=1-l-v,e[7]=p-y,e[2]=h-d,e[5]=p+y,e[8]=1-l-f,e}function T(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],h=t[10],p=t[11],v=t[12],y=t[13],d=t[14],m=t[15],b=r*u-n*a,g=r*s-i*a,M=r*l-o*a,_=n*s-i*u,x=n*l-o*u,T=i*l-o*s,E=c*y-f*v,P=c*d-h*v,w=c*m-p*v,O=f*d-h*y,A=f*m-p*y,R=h*m-p*d,C=b*R-g*A+M*O+_*w-x*P+T*E;return C?(C=1/C,e[0]=(u*R-s*A+l*O)*C,e[1]=(s*w-a*R-l*P)*C,e[2]=(a*A-u*w+l*E)*C,e[3]=(i*A-n*R-o*O)*C,e[4]=(r*R-i*w+o*P)*C,e[5]=(n*w-r*A-o*E)*C,e[6]=(y*T-d*x+m*_)*C,e[7]=(d*M-v*T-m*g)*C,e[8]=(v*x-y*M+m*b)*C,e):null}function E(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function P(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function w(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function O(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function A(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function R(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function C(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function j(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function F(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=e[8],f=t[0],h=t[1],p=t[2],v=t[3],y=t[4],d=t[5],m=t[6],b=t[7],g=t[8];return Math.abs(r-f)<=k*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=k*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=k*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=k*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-y)<=k*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(u-d)<=k*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(s-m)<=k*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-b)<=k*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(c-g)<=k*Math.max(1,Math.abs(c),Math.abs(g))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.fromMat4=i,t.clone=o,t.copy=a,t.fromValues=u,t.set=s,t.identity=l,t.transpose=c,t.invert=f,t.adjoint=h,t.determinant=p,t.multiply=v,t.translate=y,t.rotate=d,t.scale=m,t.fromTranslation=b,t.fromRotation=g,t.fromScaling=M,t.fromMat2d=_,t.fromQuat=x,t.normalFromMat4=T,t.projection=E,t.str=P,t.frob=w,t.add=O,t.subtract=A,t.multiplyScalar=R,t.multiplyScalarAndAdd=C,t.exactEquals=j,t.equals=F;var k=1e-6;t.mul=v,t.sub=A},function(e,t,r){"use strict";(function(r,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},l=function(e){function t(e,r,n,a,u){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Math.PI/2,1,101));return s.radius=0,s.alpha=0,s.beta=0,s}return a(t,e),u(t,[{key:"getVMatrix",value:function(){var e=Math.cos(n.deg2rad(this.beta))*this.radius,r=Math.sin(n.deg2rad(this.beta))*this.radius,i=Math.sin(n.deg2rad(this.alpha))*e,o=Math.cos(n.deg2rad(this.alpha))*e,a=this.center;return this.position.x=a.x+i,this.position.y=a.y+r,this.position.z=a.z+o,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getVMatrix",this).call(this)}}]),t}(r);t.default=l,e.exports=t.default}).call(t,r(25),r(26))},function(e,t,r){"use strict";(function(r,n,i,o,a,u,s,l,c,f){function h(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),y=function(){function e(){p(this,e)}return v(e,null,[{key:"createGround",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=t/2,o=n/2,a=new r(e);return a.geometry.vertices=[-i,o,0,-i,-o,0,i,-o,0,i,o,0],a.geometry.uvs=[0,1,0,0,1,0,1,1],a.geometry.normals=[0,0,1,0,0,1,0,0,1,0,0,1],a.geometry.indices.default=[0,1,2,0,2,3],a}},{key:"createCube",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,o=r/2,a=n/2,u=i/2;return e.createBox(t,-o,o,a,-a,u,-u)}},{key:"createBox",value:function(e,t,n,i,o,a,u){var s=new r(e);return s.geometry.vertices=[t,i,a,n,i,a,n,o,a,t,o,a,t,i,u,n,i,u,n,o,u,t,o,u,t,o,a,t,i,a,t,i,u,t,o,u,n,o,a,n,i,a,n,i,u,n,o,u,t,i,a,n,i,a,n,i,u,t,i,u,t,o,a,n,o,a,n,o,u,t,o,u],s.geometry.uvs=[0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0],s.geometry.normals=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],s.geometry.indices.default=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],s}},{key:"createSphere",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,a=2*Math.PI,u=Math.PI,s=[],l=[],c=[],f=[],p=[],v=0,y=0;y<=o;y++){for(var d=[],m=y/o,b=0;b<=i;b++){var g=b/i,M=-t*Math.cos(0+g*a)*Math.sin(0+m*u),_=t*Math.cos(0+m*u),x=t*Math.sin(0+g*a)*Math.sin(0+m*u);l.push(M,_,x);var T=n.normalize(n.create(),n.fromValues(M,_,x));c.push.apply(c,h(T)),f.push(g,m),d.push(v++)}p.push(d)}for(var E=0;E<o;E++)for(var P=0;P<i;P++){var w=p[E][P+1],O=p[E][P],A=p[E+1][P],R=p[E+1][P+1];0!==E&&s.push(w,O,R),(E!==o-1||u<Math.PI)&&s.push(O,A,R)}var C=new r(e);return C.geometry.vertices=l,C.geometry.uvs=f,C.geometry.normals=c,C.geometry.indices.default=s,C}},{key:"createCylinder",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,o=[],a=[],u=[],s=[],l=2*Math.PI/i,c=n/2,f=function(e){var r=o.length/3,n=[0,c*e,0],f=[0,e,0],h=[0,0];o.push.apply(o,n),u.push.apply(u,f),a.push.apply(a,h);for(var p=0;p<i;p++){var v=p*l,y=[Math.cos(v)*t,c*e,Math.sin(v)*t];o.push.apply(o,y),u.push.apply(u,f),a.push.apply(a,h),p!==i-1?s.push(r,r+p+1,r+p+2):s.push(r,r+p+1,r+1)}};!function(){for(var e=o.length/3,r=0;r<i;r++){var n=l*r,f=[Math.cos(n)*t,-c,Math.sin(n)*t],h=[Math.cos(n)*t,c,Math.sin(n)*t],p=[f[0],0,f[2]],v=[h[0],0,h[2]];o.push.apply(o,f.concat(h)),a.push(0,0,0,0),u.push.apply(u,p.concat(v));var y=2*r;r===i-1?s.push(y,y+1,e+1,y,e,e+1):s.push(y,y+1,y+3,y,y+3,y+2)}}(),f(1),f(-1);var h=new r(e);return h.geometry.vertices=o,h.geometry.uvs=a,h.geometry.normals=u,h.geometry.indices.default=s,h}},{key:"createCone",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,o=[],a=[],u=[],s=[],l=n/2,c=2*Math.PI/i;!function(){for(var e=o.length/3,r=[0,l,0],f=Math.atan(t/n),h=Math.cos(f),p=Math.sin(f),v=0;v<i;v++){var y=c*v,d=[Math.cos(y)*t,-l,Math.sin(y)*t],m=[Math.cos(y)*h,p,Math.sin(y)*h],b=[0,0];o.push.apply(o,r.concat(d)),u.push.apply(u,m.concat(m)),a.push.apply(a,b.concat(b));var g=e+2*v;v!==i-1?s.push(g,g+1,g+3):s.push(g,g+1,e+1)}}(),function(e){var r=o.length/3,n=[0,l*e,0],f=[0,e,0],h=[0,0];o.push.apply(o,n),u.push.apply(u,f),a.push.apply(a,h);for(var p=0;p<i;p++){var v=p*c,y=[Math.cos(v)*t,l*e,Math.sin(v)*t];o.push.apply(o,y),u.push.apply(u,f),a.push.apply(a,h),p!==i-1?s.push(r,r+p+1,r+p+2):s.push(r,r+p+1,r+1)}}(-1);var f=new r(e);return f.geometry.vertices=o,f.geometry.uvs=a,f.geometry.normals=u,f.geometry.indices.default=s,f}},{key:"createCoordinate",value:function(e,t){var n=new r(e),o=new i(e);o.geometry.vertices=[0,0,0,t,0,0],o.geometry.indices.default=[0,1],o.materials.default.color.r=256,o.materials.default.color.g=0,o.materials.default.color.b=0,o.parent=n;var a=new i(e);a.geometry.vertices=[0,0,0,0,t,0],a.geometry.indices.default=[0,1],a.materials.default.color.r=0,a.materials.default.color.g=256,a.materials.default.color.b=0,a.parent=n;var u=new i(e);return u.geometry.vertices=[0,0,0,0,0,t],u.geometry.indices.default=[0,1],u.materials.default.color.r=0,u.materials.default.color.g=0,u.materials.default.color.b=256,u.parent=n,n}},{key:"createFromObjModel",value:function(e,t){t=o.parse(t);var n=function(e){var t=[];return e.forEach(function(e){return t.push.apply(t,h(e))}),t},i=new r(e);i.geometry.vertices=n(t.positions),i.geometry.uvs=n(t.uvs),i.geometry.normals=n(t.normals);for(var l in t.indices)!function(e){var r=t.indices[e],n=t.mtls[e];if(n){if(i.geometry.indices[e]=r,i.materials[e]||(i.materials[e]=new a(i)),n.ambientColor&&(i.materials[e].ambientColor={r:255*n.ambientColor[0],g:255*n.ambientColor[1],b:255*n.ambientColor[2]}),n.ambientTexture){var o=new u.Image;o.crossOrigin=!0,o.onload=function(){i.materials[e].ambientTexture.image=o,i.materials[e].ambientSource=s.TEXTURE},o.src=n.ambientTexture}if(n.diffuseColor&&(i.materials[e].diffuseColor={r:255*n.diffuseColor[0],g:255*n.diffuseColor[1],b:255*n.diffuseColor[2]}),n.diffuseTexture){var l=new u.Image;l.crossOrigin=!0,l.onload=function(){i.materials[e].diffuseTexture.image=l,i.materials[e].diffuseSource=s.TEXTURE},l.src=n.diffuseTexture}if(n.specularColor&&(i.materials[e].specularColor={r:255*n.specularColor[0],g:255*n.specularColor[1],b:255*n.specularColor[2]}),n.specularTexture){var c=new u.Image;c.crossOrigin=!0,c.onload=function(){i.materials[e].specularTexture.image=c,i.materials[e].specularSource=s.TEXTURE},c.src=n.specularTexture}}else i.geometry.indices.default=r}(l);return i}},{key:"createFromStlModel",value:function(e,t){t=l.parse(t);var n=new r(e);return n.geometry.vertices=t.positions,n.geometry.uvs=t.uvs,n.geometry.normals=t.normals,n.geometry.indices.default=t.indices,n}},{key:"createFromG3DModel",value:function(e,t){var r=new c(e);r.geometry.vertices=[],r.geometry.uvs=[],r.geometry.normals=[],r.geometry.indices.default=[];for(var i=function(e,t){for(var r=[],i=[],o=[],a=0;a<t.length;a+=8)for(var u,s,l,c,f=[t[a+1],t[a+2],t[a+3]],p=f.map(function(t){return[e[3*t],e[3*t+1],e[3*t+2]]}),v=n.sub(n.create(),(u=n).fromValues.apply(u,h(p[0])),(s=n).fromValues.apply(s,h(p[1]))),y=n.sub(n.create(),(l=n).fromValues.apply(l,h(p[0])),(c=n).fromValues.apply(c,h(p[2]))),d=n.cross(n.create(),v,y),m=0;m<3;m++){f[m];r.push.apply(r,h(p[m])),i.push(0,0),o.push.apply(o,h(d))}return{vertices:r,uvs:i,normals:o}},o=0;o<t.faces.length;o+=8){var a=o/8;r.geometry.indices.default.push(3*a,3*a+1,3*a+2)}var u=i(t.vertices,t.faces),s=u.vertices,l=u.uvs,p=u.normals;return r.geometry.vertices=s,r.geometry.uvs=l,r.geometry.normals=p,r.morphTargetsGeometries=t.morphTargets.map(function(e){var n=i(e.vertices,t.faces),o=n.vertices,a=n.uvs,u=n.normals,s=new f(r);return s.vertices=o,s.uvs=a,s.normals=u,s.indices=r.geometry.indices,s}),r}},{key:"createWireFrameFromMesh",value:function(e,t){function r(e,t){var r=e+"-"+t,i=t+"-"+e;o[r]||o[i]||n.geometry.indices.default.push(e,t)}var n=new i(e),o={};n.geometry.vertices=[].concat(h(t.geometry.vertices));for(var a in t.geometry.indices)for(var u=t.geometry.indices[a],s=0;s<u.length;s+=3)r(u[s],u[s+1]),r(u[s],u[s+2]),r(u[s+1],u[s+2]);return n}},{key:"createBoundingBoxFromMesh",value:function(e,t){var r=t.geometry.vertices;if(r.length>0){var n=void 0,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0;n=i=o=a=u=s=null;for(var l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],h=r[l+2];null===n?(n=i=c,o=a=f,u=s=h):(n=Math.min(n,c),i=Math.max(i,c),a=Math.min(a,f),o=Math.max(o,f),s=Math.min(s,h),u=Math.max(u,h))}return this.createBox(e,n,i,o,a,u,s)}}}]),e}();t.default=y,e.exports=t.default}).call(t,r(5),r(0),r(11),r(28),r(7),r(3),r(6),r(29),r(17),r(10))}])});
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidW5kbGUuanMiLCJub2RlX21vZHVsZXMvZzNkL2Rpc3QvZzNkLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9nM2QgPSByZXF1aXJlKCdnM2QnKTtcblxudmFyIF9nM2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZzNkKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIG15Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2FudmFzJyk7XG52YXIgY2FuRGVtbyA9IHJ1bihfZzNkMi5kZWZhdWx0LCBteUNhbnZhcyk7XG52YXIgdGltZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBjYW5EZW1vKCk7XG59LCAxMDApO1xuXG5mdW5jdGlvbiBydW4oRzNELCBjYW52YXMpIHtcbiAgICAvLyBjcmVhdGUgM2QgZW5naW5lXG4gICAgdmFyIGVuZ2luZSA9IG5ldyBHM0QuRW5naW5lKGNhbnZhcyk7XG5cbiAgICAvLyBjcmVhdGUgYSBzY2VuZVxuICAgIHZhciBzY2VuZSA9IG5ldyBHM0QuU2NlbmUoZW5naW5lKTtcblxuICAgIC8vIGNyZWF0ZSBjYW1lcmFcbiAgICB2YXIgY2FtZXJhID0gbmV3IEczRC5BcmNSb3RhdGVDYW1lcmEoc2NlbmUpO1xuICAgIGNhbWVyYS5hbHBoYSA9IDQ1O1xuICAgIGNhbWVyYS5iZXRhID0gMzA7XG4gICAgY2FtZXJhLnJhZGl1cyA9IDEyO1xuICAgIGNhbWVyYS5mb3YgPSA2MDtcblxuICAgIC8vIGNyZWF0ZSAzIGxpZ2h0c1xuICAgIHZhciBsaWdodDEgPSBuZXcgRzNELkRpcmVjdGlvbmFsTGlnaHQoc2NlbmUpO1xuICAgIGxpZ2h0MS5kaXJlY3Rpb24ueCA9IC0xO1xuICAgIGxpZ2h0MS5kaXJlY3Rpb24ueSA9IDA7XG4gICAgbGlnaHQxLmRpcmVjdGlvbi56ID0gMTtcblxuICAgIHZhciBsaWdodDIgPSBuZXcgRzNELkhlbWlzcGhlcmVMaWdodChzY2VuZSk7XG5cbiAgICAvLyBjcmVhdGUgbWVzaFxuICAgIHZhciBtZXNoID0gRzNELk1lc2hCdWlsZGVyLmNyZWF0ZUN1YmUoc2NlbmUsIDYpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihtZXNoLm1hdGVyaWFscy5kZWZhdWx0LmRpZmZ1c2VDb2xvciwgeyByOiAyMDAsIGc6IDEwMCwgYjogMTAwIH0pO1xuICAgIE9iamVjdC5hc3NpZ24obWVzaC5tYXRlcmlhbHMuZGVmYXVsdC5zcGVjdWxhckNvbG9yLCB7IHI6IDIwMCwgZzogMTAwLCBiOiAxMDAgfSk7XG4gICAgbWVzaC5tYXRlcmlhbHMuZGVmYXVsdC5nbG9zc2luZXNzID0gMTA7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBtZXNoLnJvdGF0aW9uLnkgKz0gMTtcbiAgICAgICAgY29uc29sZS5sb2coJ21lc2gucm90YXRpb24ueScsIG1lc2gucm90YXRpb24ueSk7XG4gICAgICAgIHNjZW5lLnJlbmRlcigpO1xuICAgIH07XG59IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5HM0Q9dCgpOmUuRzNEPXQoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYocltuXSlyZXR1cm4gcltuXS5leHBvcnRzO3ZhciBpPXJbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW25dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubD0hMCxpLmV4cG9ydHN9dmFyIHI9e307cmV0dXJuIHQubT1lLHQuYz1yLHQuZD1mdW5jdGlvbihlLHIsbil7dC5vKGUscil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LHQubj1mdW5jdGlvbihlKXt2YXIgcj1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gdC5kKHIsXCJhXCIscikscn0sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9XCIvXCIsdCh0LnM9MzApfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjApLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKTt0LmRlZmF1bHQ9aSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4saSl7dmFyIG89cltuXSxhPVwiX19cIituK1wiUmVzdWx0Q2FjaGVcIjtyZXR1cm4gaS52YWx1ZT1mdW5jdGlvbigpe2lmKHRoaXNbZV0pe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkociksaT0wO2k8cjtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIHRoaXNbYV09by5jYWxsLmFwcGx5KG8sW3RoaXNdLmNvbmNhdChuKSksdCYmKHRoaXNbZV09ITEpLHRoaXNbYV19cmV0dXJuIHRoaXNbYV19LGl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1uLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuKXtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIHUoZSx0LG4pe3JldHVybiBmdW5jdGlvbih1LHMsbCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdSl7dmFyIGM9dTtyZXR1cm4gZnVuY3Rpb24obil7ZnVuY3Rpb24gdSgpe3ZhciBuO2kodGhpcyx1KTtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxzPUFycmF5KGEpLGw9MDtsPGE7bCsrKXNbbF09YXJndW1lbnRzW2xdO3ZhciBjPW8odGhpcywobj11Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHUpKS5jYWxsLmFwcGx5KG4sW3RoaXNdLmNvbmNhdChzKSkpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49Y1tlXTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuPWUsci5pc0Z1bmN0aW9uKHQpP3QuY2FsbCh0aGlzKTp0aGlzW3RdPSEwLCEwfX0pfSksci5pc0Z1bmN0aW9uKHQpfHwoY1t0XT0hMCksY31yZXR1cm4gYSh1LG4pLHV9KGMpfXZhciBmPXU7cmV0dXJuIG5bdF09ITAsbmV3IFByb3h5KGYse3NldDpmdW5jdGlvbihyLGksbyl7cmV0dXJuIHJbaV09bywtMSE9PWUuaW5kZXhPZihpKSYmKG5bdF09ITApLCEwfX0pfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcyxsLGMsZixoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCk7dC5kZWZhdWx0PXU7cz11KFtcImZvb1wiLFwiYmFyXCJdLFwib2tcIiksbD1uKFwib2tcIikscygoZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSksdGhpcy5mb289MSx0aGlzLmJhcj0yLHRoaXMub2JqPXUoW1wieFwiLFwieVwiLFwielwiXSxcIm9rXCIsdGhpcykoe3g6MSx5OjIsejoxfSl9cmV0dXJuIGgoZSxbe2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5sb2coXCJnZXQgdmFsdWVcIiksXCJoZWxsb1wifX1dKSxlfSgpLGZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIG89e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXT1uW2VdfSksby5lbnVtZXJhYmxlPSEhby5lbnVtZXJhYmxlLG8uY29uZmlndXJhYmxlPSEhby5jb25maWd1cmFibGUsKFwidmFsdWVcImluIG98fG8uaW5pdGlhbGl6ZXIpJiYoby53cml0YWJsZT0hMCksbz1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sbyksaSYmdm9pZCAwIT09by5pbml0aWFsaXplciYmKG8udmFsdWU9by5pbml0aWFsaXplcj9vLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLG8uaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1vLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxvKSxvPW51bGwpLG99KGYucHJvdG90eXBlLFwiZ2V0VmFsdWVcIixbbF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmLnByb3RvdHlwZSxcImdldFZhbHVlXCIpLGYucHJvdG90eXBlKSxjPWYpKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoMTgpLHIoMSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49bnVsbDt0LmRlZmF1bHQ9e2dldCBJbWFnZSgpe3JldHVybiBufHxJbWFnZX0sc2V0IEltYWdlKGUpe249ZX0sbWFudWFsbHlGbGlwWTohMSxmcmFtZWJ1ZmZlck5vdFJlYWR5OiExfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtuKHRoaXMsZSksdGhpcy5jb2xvcj17cjoyNTUsZzoyNTUsYjoyNTV9LHRoaXMuaW50ZW5zaXR5PTEsdC5saWdodHMucHVzaCh0aGlzKX1yZXR1cm4gaShlLFt7a2V5OlwiZ2V0Q29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt0aGlzLmNvbG9yLnIsdGhpcy5jb2xvci5nLHRoaXMuY29sb3IuYl19fSx7a2V5OlwiZ2V0SW50ZW5zaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlbnNpdHl9fV0pLGV9KCk7dC5kZWZhdWx0PW8sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyLG4saSxvKXtmdW5jdGlvbiBhKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiB1KGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2EodGhpcyx0KTt2YXIgcj11KHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiByLmdlb21ldHJ5PW5ldyBuKHIpLHIubWF0ZXJpYWxzPXtkZWZhdWx0Om5ldyBpKHIpfSxyLnNjZW5lPW51bGwsci52aXNpYmlsaXR5PSEwLHIucGlja2FibGU9ITAsci5yZW5kZXJMYXllckluZGV4PTAsci5zY2VuZT1lLHIuc2NlbmUubWVzaGVzLnB1c2gocikscn1yZXR1cm4gcyh0LGUpLGwodCxbe2tleTpcImRpc3Bvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW8uZmluZEluZGV4KHRoaXMuc2NlbmUubWVzaGVzLHtpZDp0aGlzLmlkfSk7LTEhPT1lJiZ0aGlzLnNjZW5lLm1lc2hlcy5zcGxpY2UoZSwxKX19LHtrZXk6XCJnZXRHbG9iYWxWaXNpYmlsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcztudWxsIT09ZTspe2lmKCFlLnZpc2liaWxpdHkpcmV0dXJuITE7ZT1lLnBhcmVudH1yZXR1cm4hMH19LHtrZXk6XCJnZXRQaWNrYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2FibGV9fSx7a2V5OlwiZ2V0UmVuZGVyTGF5ZXJJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXM7bnVsbCE9PWU7KXtpZigwIT09ZS5yZW5kZXJMYXllckluZGV4KXJldHVybiBlLnJlbmRlckxheWVySW5kZXg7ZT1lLnBhcmVudH1yZXR1cm4gMH19XSksdH0ocik7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDgpLHIoMTApLHIoNykscigxOCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKSx0aGlzLm9wYWNpdHk9MSx0aGlzLm9mZnNldD17eDowLHk6MH19cmV0dXJuIGkoZSxbe2tleTpcImdldE9wYWNpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wYWNpdHl9fSx7a2V5OlwiZ2V0T2Zmc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSl9fV0pLGV9KCk7by5DT0xPUj0xLG8uVEVYVFVSRT0yLHQuZGVmYXVsdD1vLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuLGksbyxhKXtmdW5jdGlvbiB1KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gbChlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIGMoZSx0LHIsbixpKXt2YXIgbz17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW5bZV19KSxvLmVudW1lcmFibGU9ISFvLmVudW1lcmFibGUsby5jb25maWd1cmFibGU9ISFvLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gb3x8by5pbml0aWFsaXplcikmJihvLndyaXRhYmxlPSEwKSxvPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxvKSxpJiZ2b2lkIDAhPT1vLmluaXRpYWxpemVyJiYoby52YWx1ZT1vLmluaXRpYWxpemVyP28uaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsby5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PW8uaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LG8pLG89bnVsbCksb31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZixoLHAsdix5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZD0oZj1yKFwiaXNEaXJ0eVwiKSxoPXIoXCJpc0RpcnR5XCIpLHA9cihcImlzRGlydHlcIiksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3UodGhpcyx0KTt2YXIgcj1zKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiByLmFtYmllbnRDb2xvcj1pKFtcInJcIixcImdcIixcImJcIl0sXCJpc0RpcnR5XCIscikoe3I6MjU1LGc6MjU1LGI6MjU1fSksci5hbWJpZW50VGV4dHVyZT1uZXcgbyhyKSxyLmFtYmllbnRTb3VyY2U9bi5DT0xPUixyLmRpZmZ1c2VDb2xvcj1pKFtcInJcIixcImdcIixcImJcIl0sXCJpc0RpcnR5XCIscikoe3I6MjU1LGc6MjU1LGI6MjU1fSksci5kaWZmdXNlVGV4dHVyZT1uZXcgbyhyKSxyLmRpZmZ1c2VTb3VyY2U9bi5DT0xPUixyLnNwZWN1bGFyQ29sb3I9aShbXCJyXCIsXCJnXCIsXCJiXCJdLFwiaXNEaXJ0eVwiLHIpKHtyOjAsZzowLGI6MH0pLHIuc3BlY3VsYXJUZXh0dXJlPW5ldyBvKHIpLHIuc3BlY3VsYXJTb3VyY2U9bi5DT0xPUixyLmdsb3NzaW5lc3M9MSxyLmVudk1hcFRleHR1cmU9bmV3IG8ociksci51c2VFbnZNYXA9ITEsci5tZXNoPW51bGwsci5tZXNoPWUscn1yZXR1cm4gbCh0LGUpLHkodCxbe2tleTpcImdldEFtYmllbnRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFtYmllbnRTb3VyY2V9fSx7a2V5OlwiZ2V0QW1iaWVudENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5mcm9tVmFsdWVzKHRoaXMuYW1iaWVudENvbG9yLnIvMjU1LHRoaXMuYW1iaWVudENvbG9yLmcvMjU1LHRoaXMuYW1iaWVudENvbG9yLmIvMjU1KX19LHtrZXk6XCJnZXREaWZmdXNlU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaWZmdXNlU291cmNlfX0se2tleTpcImdldERpZmZ1c2VDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEuZnJvbVZhbHVlcyh0aGlzLmRpZmZ1c2VDb2xvci5yLzI1NSx0aGlzLmRpZmZ1c2VDb2xvci5nLzI1NSx0aGlzLmRpZmZ1c2VDb2xvci5iLzI1NSl9fSx7a2V5OlwiZ2V0U3BlY3VsYXJTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNwZWN1bGFyU291cmNlfX0se2tleTpcImdldFNwZWN1bGFyQ29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLmZyb21WYWx1ZXModGhpcy5zcGVjdWxhckNvbG9yLnIvMjU1LHRoaXMuc3BlY3VsYXJDb2xvci5nLzI1NSx0aGlzLnNwZWN1bGFyQ29sb3IuYi8yNTUpfX0se2tleTpcImdldEdsb3NzaW5lc3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsb3NzaW5lc3N9fSx7a2V5OlwiZ2V0VXNlRW52TWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51c2VFbnZNYXB9fV0pLHR9KG4pLGModi5wcm90b3R5cGUsXCJnZXRBbWJpZW50Q29sb3JcIixbZl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2LnByb3RvdHlwZSxcImdldEFtYmllbnRDb2xvclwiKSx2LnByb3RvdHlwZSksYyh2LnByb3RvdHlwZSxcImdldERpZmZ1c2VDb2xvclwiLFtoXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHYucHJvdG90eXBlLFwiZ2V0RGlmZnVzZUNvbG9yXCIpLHYucHJvdG90eXBlKSxjKHYucHJvdG90eXBlLFwiZ2V0U3BlY3VsYXJDb2xvclwiLFtwXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHYucHJvdG90eXBlLFwiZ2V0U3BlY3VsYXJDb2xvclwiKSx2LnByb3RvdHlwZSksdik7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDEpLHIoNikscigyKSxyKDIzKSxyKDApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyLG4saSxvLGEsdSl7ZnVuY3Rpb24gcyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGwsYyxmLGgscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLHY9MSx5PShsPXIoW10sXCJpc0RpcnR5XCIpLGM9bihcImlzRGlydHlcIiksbCgoaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtzKHRoaXMsZSksdGhpcy5pZD12KyssdGhpcy5wb3NpdGlvbj1yKFtcInhcIixcInlcIixcInpcIl0sXCJpc0RpcnR5XCIsdGhpcykoe3g6MCx5OjAsejowfSksdGhpcy5yb3RhdGlvbj1yKFtcInhcIixcInlcIixcInpcIl0sXCJpc0RpcnR5XCIsdGhpcykoe3g6MCx5OjAsejowfSksdGhpcy5zY2FsZT1yKFtcInhcIixcInlcIixcInpcIl0sXCJpc0RpcnR5XCIsdGhpcykoe3g6MSx5OjEsejoxfSksdGhpcy5wYXJlbnQ9bnVsbH1yZXR1cm4gcChlLFt7a2V5OlwiZ2V0V29ybGRNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucGFyZW50KXt2YXIgZT10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO3JldHVybiBpLm11bHRpcGx5KGkuY3JlYXRlKCksZSx0aGlzLmdldE1hdHJpeCgpKX1yZXR1cm4gdGhpcy5nZXRNYXRyaXgoKX19LHtrZXk6XCJnZXRNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW8uY3JlYXRlKCk7by5mcm9tRXVsZXIoZSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueik7dmFyIHQ9YS5mcm9tVmFsdWVzKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56KSxyPWEuZnJvbVZhbHVlcyh0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55LHRoaXMuc2NhbGUueiksbj1pLmNyZWF0ZSgpO3JldHVybiBpLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUobixlLHQsciksbn19LHtrZXk6XCJ0cmFuc2Zvcm1Db29yZGluYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuZ2V0TWF0cml4KCksaT1hLmZyb21WYWx1ZXMoZSx0LHIpLG89YS50cmFuc2Zvcm1NYXQ0KGEuY3JlYXRlKCksaSxuKTtyZXR1cm57eDpvWzBdLHk6b1sxXSx6Om9bMl19fX0se2tleTpcInRyYW5zZm9ybU5vcm1hbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLmdldE1hdHJpeCgpLGk9dS5mcm9tVmFsdWVzKGUsdCxyLDApLG89dS50cmFuc2Zvcm1NYXQ0KHUuY3JlYXRlKCksaSxuKTtyZXR1cm57eDpvWzBdLHk6b1sxXSx6Om9bMl19fX1dKSxlfSgpLGZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIG89e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXT1uW2VdfSksby5lbnVtZXJhYmxlPSEhby5lbnVtZXJhYmxlLG8uY29uZmlndXJhYmxlPSEhby5jb25maWd1cmFibGUsKFwidmFsdWVcImluIG98fG8uaW5pdGlhbGl6ZXIpJiYoby53cml0YWJsZT0hMCksbz1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sbyksaSYmdm9pZCAwIT09by5pbml0aWFsaXplciYmKG8udmFsdWU9by5pbml0aWFsaXplcj9vLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLG8uaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1vLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxvKSxvPW51bGwpLG99KGgucHJvdG90eXBlLFwiZ2V0TWF0cml4XCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaC5wcm90b3R5cGUsXCJnZXRNYXRyaXhcIiksaC5wcm90b3R5cGUpLGY9aCkpfHxmKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoMikscigxKSxyKDkpLHIoMTkpLHIoMCkscigyMikpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cig0MCksaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4pO3QuZGVmYXVsdD1pLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuKXtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbyxhLHUscyxsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxmPShvPXIoW1widmVydGljZXNcIixcInV2c1wiLFwibm9ybWFsc1wiLFwiaW5kaWNlc1wiXSxcImlzRGlydHlcIiksYT1uKFwiaXNEaXJ0eVwiLCEwKSxvKChzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy52ZXJ0aWNlcz1bXSx0aGlzLmluZGljZXM9e2RlZmF1bHQ6W119LHRoaXMudXZzPVtdLHRoaXMubm9ybWFscz1bXSx0aGlzLm1lc2g9dH1yZXR1cm4gYyhlLFt7a2V5OlwiZ2V0VmVydGljZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGljZXMpfX0se2tleTpcImdldFVWc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpfX0se2tleTpcImdldE5vcm1hbHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMubm9ybWFscyl9fSx7a2V5OlwiZ2V0SW5kaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bCh7fSx0aGlzLmluZGljZXMpO2Zvcih2YXIgdCBpbiBlKWVbdF09bmV3IFVpbnQzMkFycmF5KGVbdF0pO3JldHVybiBlfX0se2tleTpcImdldEJ1ZmZlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubWVzaC5zY2VuZS5lbmdpbmUsdD1lLmNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcih0aGlzLmdldFZlcnRpY2VzKCkpLHI9ZS5jcmVhdGVBdHRyaWJ1dGVCdWZmZXIodGhpcy5nZXRVVnMoKSksbj1lLmNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcih0aGlzLmdldE5vcm1hbHMoKSksaT17fSxvPXt9LGE9dGhpcy5nZXRJbmRpY2VzKCk7Zm9yKHZhciB1IGluIGEpaVt1XT1lLmNyZWF0ZUVsZW1lbnRCdWZmZXIoYVt1XSksb1t1XT1hW3VdLmxlbmd0aDtyZXR1cm57dmVydGljZXM6dCx1dnM6cixub3JtYWxzOm4saW5kaWNlczppLGluZGljZXNMZW5ndGg6b319fSx7a2V5OlwibWVyZ2VOb3JtYWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy52ZXJ0aWNlcyx0PXRoaXMubm9ybWFscyxyPXt9LG49MDtuPGUubGVuZ3RoO24rPTMpe3ZhciBpPVtlW25dLGVbbisxXSxlW24rMl1dLmpvaW4oXCIsXCIpO3JbaV18fChyW2ldPXtpbmRpY2VzOltdLG5vcm1hbDpbMCwwLDBdfSk7dmFyIG89cltpXTtvLmluZGljZXMucHVzaChuLzMpLG8ubm9ybWFsWzBdKz10W25dLG8ubm9ybWFsWzFdKz10W24rMV0sby5ub3JtYWxbMl0rPXRbbisyXX1mb3IodmFyIGEgaW4gcilmb3IodmFyIHU9clthXSxzPXUuaW5kaWNlcyxsPXUubm9ybWFsLGM9MDtjPHMubGVuZ3RoO2MrKyl7dmFyIGY9c1tjXTt0WzMqZl09bFswXS9zLmxlbmd0aCx0WzMqZisxXT1sWzFdL3MubGVuZ3RoLHRbMypmKzJdPWxbMl0vcy5sZW5ndGh9fX0se2tleTpcIm1lcmdlTm9ybWFsczJcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMudmVydGljZXMscj10aGlzLm5vcm1hbHMsbj0wO248dC5sZW5ndGg7bis9MylpZighZVtuXSl7Zm9yKHZhciBpPVtuLzNdLG89W3Jbbl0scltuKzFdLHJbbisyXV0sYT1uKzM7YTxuK3QubGVuZ3RoO2ErPTMpdFtuXT09PXRbYV0mJnRbbisxXT09PXRbYSsxXSYmdFtuKzJdPT09dFthKzJdJiYoaS5wdXNoKGEvMyksb1swXSs9clthXSxvWzFdKz1yW2ErMV0sb1syXSs9clthKzJdKTtmb3IodmFyIHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIHM9aVt1XTtyWzMqc109b1swXS9pLmxlbmd0aCxyWzMqcysxXT1vWzFdL2kubGVuZ3RoLHJbMypzKzJdPW9bMl0vaS5sZW5ndGgsZVtzXT0hMH19fX1dKSxlfSgpLGZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIG89e307cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7b1tlXT1uW2VdfSksby5lbnVtZXJhYmxlPSEhby5lbnVtZXJhYmxlLG8uY29uZmlndXJhYmxlPSEhby5jb25maWd1cmFibGUsKFwidmFsdWVcImluIG98fG8uaW5pdGlhbGl6ZXIpJiYoby53cml0YWJsZT0hMCksbz1yLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbihyLG4pe3JldHVybiBuKGUsdCxyKXx8cn0sbyksaSYmdm9pZCAwIT09by5pbml0aWFsaXplciYmKG8udmFsdWU9by5pbml0aWFsaXplcj9vLmluaXRpYWxpemVyLmNhbGwoaSk6dm9pZCAwLG8uaW5pdGlhbGl6ZXI9dm9pZCAwKSx2b2lkIDA9PT1vLmluaXRpYWxpemVyJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxvKSxvPW51bGwpLG99KHMucHJvdG90eXBlLFwiZ2V0QnVmZmVyc1wiLFthXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMucHJvdG90eXBlLFwiZ2V0QnVmZmVyc1wiKSxzLnByb3RvdHlwZSksdT1zKSl8fHUpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscigyKSxyKDEpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyLG4saSl7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe28odGhpcyx0KTt2YXIgcj1hKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcyxlKSk7cmV0dXJuIHIuZ2VvbWV0cnk9bmV3IG4ociksci5tYXRlcmlhbHM9e2RlZmF1bHQ6bmV3IGkocil9LHIubGluZVdpZHRoPTIscn1yZXR1cm4gdSh0LGUpLHR9KHIpO3QuZGVmYXVsdD1zLGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscig1KSxyKDI0KSxyKDEyKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuLGksbyxhKXtmdW5jdGlvbiB1KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gbChlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjLGYsaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLHA9KGM9cihcImlzRGlydHlcIiksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3UodGhpcyx0KTt2YXIgcj1zKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiByLmNvbG9yPWkoW1wiclwiLFwiZ1wiLFwiYlwiXSxcImlzRGlydHlcIixyKSh7cjoyNTUsZzoyNTUsYjoyNTV9KSxyLnRleHR1cmU9bmV3IG8ociksci5zb3VyY2U9bi5DT0xPUixyLm1lc2g9bnVsbCxyLm1lc2g9ZSxyfXJldHVybiBsKHQsZSksaCh0LFt7a2V5OlwiZ2V0U291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9fSx7a2V5OlwiZ2V0Q29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLmZyb21WYWx1ZXModGhpcy5jb2xvci5yLzI1NSx0aGlzLmNvbG9yLmcvMjU1LHRoaXMuY29sb3IuYi8yNTUpfX1dKSx0fShuKSxmdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPXt9O3JldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe29bZV09bltlXX0pLG8uZW51bWVyYWJsZT0hIW8uZW51bWVyYWJsZSxvLmNvbmZpZ3VyYWJsZT0hIW8uY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBvfHxvLmluaXRpYWxpemVyKSYmKG8ud3JpdGFibGU9ITApLG89ci5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gbihlLHQscil8fHJ9LG8pLGkmJnZvaWQgMCE9PW8uaW5pdGlhbGl6ZXImJihvLnZhbHVlPW8uaW5pdGlhbGl6ZXI/by5pbml0aWFsaXplci5jYWxsKGkpOnZvaWQgMCxvLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09by5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbyksbz1udWxsKSxvfShmLnByb3RvdHlwZSxcImdldENvbG9yXCIsW2NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZi5wcm90b3R5cGUsXCJnZXRDb2xvclwiKSxmLnByb3RvdHlwZSksZik7dC5kZWZhdWx0PXAsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDEpLHIoNikscigyKSxyKDIzKSxyKDApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyKXtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gbyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KTt2YXIgcj1pKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcyxlKSk7cmV0dXJuIHIuZGlyZWN0aW9uPXt4OjAseTowLHo6LTF9LHJ9cmV0dXJuIG8odCxlKSxhKHQsW3trZXk6XCJnZXREaXJlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24uel19fV0pLHR9KHIpO3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscig0KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIG8oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlO24odGhpcyx0KTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPUFycmF5KHIpLGE9MDthPHI7YSsrKW9bYV09YXJndW1lbnRzW2FdO3ZhciB1PWkodGhpcywoZT10Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChvKSkpO3JldHVybiB1LnNreT17cjoyNTUsZzoyNTUsYjoyNTV9LHUuZ3JvdW5kPXtyOjAsZzowLGI6MH0sdS51cD17eDowLHk6MSx6OjB9LHV9cmV0dXJuIG8odCxlKSxhKHQsW3trZXk6XCJnZXRTa3lcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblt0aGlzLnNreS5yLHRoaXMuc2t5LmcsdGhpcy5za3kuYl19fSx7a2V5OlwiZ2V0R3JvdW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5ncm91bmQucix0aGlzLmdyb3VuZC5nLHRoaXMuZ3JvdW5kLmJdfX0se2tleTpcImdldFVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy51cC54LHRoaXMudXAueSx0aGlzLnVwLnpdfX1dKSx0fShyKTt0LmRlZmF1bHQ9dSxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoNCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIpe2Z1bmN0aW9uIG4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBvKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBuKHRoaXMsdCksaSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBvKHQsZSksdH0ocik7dC5kZWZhdWx0PWEsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDQpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyKXtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gbyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbiBlKHQscixuKXtudWxsPT09dCYmKHQ9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik7aWYodm9pZCAwPT09aSl7dmFyIG89T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiBudWxsPT09bz92b2lkIDA6ZShvLHIsbil9aWYoXCJ2YWx1ZVwiaW4gaSlyZXR1cm4gaS52YWx1ZTt2YXIgYT1pLmdldDtpZih2b2lkIDAhPT1hKXJldHVybiBhLmNhbGwobil9LHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHIsbyxhO24odGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxzPUFycmF5KHUpLGw9MDtsPHU7bCsrKXNbbF09YXJndW1lbnRzW2xdO3JldHVybiByPW89aSh0aGlzLChlPXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHMpKSksby5wb3NpdGlvbj17eDowLHk6MCx6OjB9LG8ucmFkaXVzPTEsYT1yLGkobyxhKX1yZXR1cm4gbyh0LGUpLGEodCxbe2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnpdfX0se2tleTpcImdldEludGVuc2l0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHUodC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiZ2V0SW50ZW5zaXR5XCIsdGhpcykuY2FsbCh0aGlzKSp0aGlzLnJhZGl1cyp0aGlzLnJhZGl1c319XSksdH0ocik7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDQpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyKXtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gbyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU7bih0aGlzLHQpO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89QXJyYXkociksYT0wO2E8cjthKyspb1thXT1hcmd1bWVudHNbYV07dmFyIHU9aSh0aGlzLChlPXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KG8pKSk7cmV0dXJuIHUubW9ycGhUYXJnZXRzR2VvbWV0cmllcz1bXSx1LmN5Y2xlRHVyYXRpb249MWUzLHV9cmV0dXJuIG8odCxlKSxhKHQsW3trZXk6XCJnZXRNb3JwaFBoYXNlSW5mb1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9RGF0ZS5ub3coKS90aGlzLmN5Y2xlRHVyYXRpb24lMSx0PTEvdGhpcy5tb3JwaFRhcmdldHNHZW9tZXRyaWVzLmxlbmd0aCxyPU1hdGguZmxvb3IoZS90KSxuPU1hdGguY2VpbChlL3QpO3JldHVybiBuPT09dGhpcy5tb3JwaFRhcmdldHNHZW9tZXRyaWVzLmxlbmd0aCYmKG49MCkse2JlZm9yZTpyLGFmdGVyOm4scGhhc2U6ZS90LXJ9fX1dKSx0fShyKTt0LmRlZmF1bHQ9dSxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoNSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe2lmKG8odCkpcmV0dXJuISF0KGUpO2Zvcih2YXIgciBpbiB0KWlmKHRbcl0hPT1lW3JdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGkoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihuKGVbcl0sdCkpcmV0dXJuIHI7cmV0dXJuLTF9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX07dC5kZWZhdWx0PXtpc0Z1bmN0aW9uOm8sZmluZEluZGV4Oml9LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1yKDQxKSxpPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obik7dC5kZWZhdWx0PWksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9bmV3IEZsb2F0MzJBcnJheSgzKTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdH1mdW5jdGlvbiBvKGUpe3ZhciB0PWVbMF0scj1lWzFdLG49ZVsyXTtyZXR1cm4gTWF0aC5zcXJ0KHQqdCtyKnIrbipuKX1mdW5jdGlvbiBhKGUsdCxyKXt2YXIgbj1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiBuWzBdPWUsblsxXT10LG5bMl09cixufWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZX1mdW5jdGlvbiBzKGUsdCxyLG4pe3JldHVybiBlWzBdPXQsZVsxXT1yLGVbMl09bixlfWZ1bmN0aW9uIGwoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0rclswXSxlWzFdPXRbMV0rclsxXSxlWzJdPXRbMl0rclsyXSxlfWZ1bmN0aW9uIGMoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0tclswXSxlWzFdPXRbMV0tclsxXSxlWzJdPXRbMl0tclsyXSxlfWZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qclswXSxlWzFdPXRbMV0qclsxXSxlWzJdPXRbMl0qclsyXSxlfWZ1bmN0aW9uIGgoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0vclswXSxlWzFdPXRbMV0vclsxXSxlWzJdPXRbMl0vclsyXSxlfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gZVswXT1NYXRoLmNlaWwodFswXSksZVsxXT1NYXRoLmNlaWwodFsxXSksZVsyXT1NYXRoLmNlaWwodFsyXSksZX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGV9ZnVuY3Rpb24geShlLHQscil7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxyWzBdKSxlWzFdPU1hdGgubWluKHRbMV0sclsxXSksZVsyXT1NYXRoLm1pbih0WzJdLHJbMl0pLGV9ZnVuY3Rpb24gZChlLHQscil7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxyWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0sclsxXSksZVsyXT1NYXRoLm1heCh0WzJdLHJbMl0pLGV9ZnVuY3Rpb24gbShlLHQpe3JldHVybiBlWzBdPU1hdGgucm91bmQodFswXSksZVsxXT1NYXRoLnJvdW5kKHRbMV0pLGVbMl09TWF0aC5yb3VuZCh0WzJdKSxlfWZ1bmN0aW9uIGIoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlfWZ1bmN0aW9uIGcoZSx0LHIsbil7cmV0dXJuIGVbMF09dFswXStyWzBdKm4sZVsxXT10WzFdK3JbMV0qbixlWzJdPXRbMl0rclsyXSpuLGV9ZnVuY3Rpb24gTShlLHQpe3ZhciByPXRbMF0tZVswXSxuPXRbMV0tZVsxXSxpPXRbMl0tZVsyXTtyZXR1cm4gTWF0aC5zcXJ0KHIqcituKm4raSppKX1mdW5jdGlvbiBfKGUsdCl7dmFyIHI9dFswXS1lWzBdLG49dFsxXS1lWzFdLGk9dFsyXS1lWzJdO3JldHVybiByKnIrbipuK2kqaX1mdW5jdGlvbiB4KGUpe3ZhciB0PWVbMF0scj1lWzFdLG49ZVsyXTtyZXR1cm4gdCp0K3IqcituKm59ZnVuY3Rpb24gVChlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZVswXT0xL3RbMF0sZVsxXT0xL3RbMV0sZVsyXT0xL3RbMl0sZX1mdW5jdGlvbiBQKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89cipyK24qbitpKmk7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobyksZVswXT10WzBdKm8sZVsxXT10WzFdKm8sZVsyXT10WzJdKm8pLGV9ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXX1mdW5jdGlvbiBPKGUsdCxyKXt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT1yWzBdLHU9clsxXSxzPXJbMl07cmV0dXJuIGVbMF09aSpzLW8qdSxlWzFdPW8qYS1uKnMsZVsyXT1uKnUtaSphLGV9ZnVuY3Rpb24gQShlLHQscixuKXt2YXIgaT10WzBdLG89dFsxXSxhPXRbMl07cmV0dXJuIGVbMF09aStuKihyWzBdLWkpLGVbMV09bytuKihyWzFdLW8pLGVbMl09YStuKihyWzJdLWEpLGV9ZnVuY3Rpb24gUihlLHQscixuLGksbyl7dmFyIGE9bypvLHU9YSooMipvLTMpKzEscz1hKihvLTIpK28sbD1hKihvLTEpLGM9YSooMy0yKm8pO3JldHVybiBlWzBdPXRbMF0qdStyWzBdKnMrblswXSpsK2lbMF0qYyxlWzFdPXRbMV0qdStyWzFdKnMrblsxXSpsK2lbMV0qYyxlWzJdPXRbMl0qdStyWzJdKnMrblsyXSpsK2lbMl0qYyxlfWZ1bmN0aW9uIEMoZSx0LHIsbixpLG8pe3ZhciBhPTEtbyx1PWEqYSxzPW8qbyxsPXUqYSxjPTMqbyp1LGY9MypzKmEsaD1zKm87cmV0dXJuIGVbMF09dFswXSpsK3JbMF0qYytuWzBdKmYraVswXSpoLGVbMV09dFsxXSpsK3JbMV0qYytuWzFdKmYraVsxXSpoLGVbMl09dFsyXSpsK3JbMl0qYytuWzJdKmYraVsyXSpoLGV9ZnVuY3Rpb24gaihlLHQpe3Q9dHx8MTt2YXIgcj0yKk1hdGgucmFuZG9tKCkqTWF0aC5QSSxuPTIqTWF0aC5yYW5kb20oKS0xLGk9TWF0aC5zcXJ0KDEtbipuKSp0O3JldHVybiBlWzBdPU1hdGguY29zKHIpKmksZVsxXT1NYXRoLnNpbihyKSppLGVbMl09bip0LGV9ZnVuY3Rpb24gRihlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9clszXSpuK3JbN10qaStyWzExXSpvK3JbMTVdO3JldHVybiBhPWF8fDEsZVswXT0oclswXSpuK3JbNF0qaStyWzhdKm8rclsxMl0pL2EsZVsxXT0oclsxXSpuK3JbNV0qaStyWzldKm8rclsxM10pL2EsZVsyXT0oclsyXSpuK3JbNl0qaStyWzEwXSpvK3JbMTRdKS9hLGV9ZnVuY3Rpb24gayhlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdO3JldHVybiBlWzBdPW4qclswXStpKnJbM10rbypyWzZdLGVbMV09bipyWzFdK2kqcls0XStvKnJbN10sZVsyXT1uKnJbMl0raSpyWzVdK28qcls4XSxlfWZ1bmN0aW9uIEwoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXJbMF0sdT1yWzFdLHM9clsyXSxsPXJbM10sYz1sKm4rdSpvLXMqaSxmPWwqaStzKm4tYSpvLGg9bCpvK2EqaS11Km4scD0tYSpuLXUqaS1zKm87cmV0dXJuIGVbMF09YypsK3AqLWErZiotcy1oKi11LGVbMV09ZipsK3AqLXUraCotYS1jKi1zLGVbMl09aCpsK3AqLXMrYyotdS1mKi1hLGV9ZnVuY3Rpb24gUyhlLHQscixuKXt2YXIgaT1bXSxvPVtdO3JldHVybiBpWzBdPXRbMF0tclswXSxpWzFdPXRbMV0tclsxXSxpWzJdPXRbMl0tclsyXSxvWzBdPWlbMF0sb1sxXT1pWzFdKk1hdGguY29zKG4pLWlbMl0qTWF0aC5zaW4obiksb1syXT1pWzFdKk1hdGguc2luKG4pK2lbMl0qTWF0aC5jb3MobiksZVswXT1vWzBdK3JbMF0sZVsxXT1vWzFdK3JbMV0sZVsyXT1vWzJdK3JbMl0sZX1mdW5jdGlvbiBEKGUsdCxyLG4pe3ZhciBpPVtdLG89W107cmV0dXJuIGlbMF09dFswXS1yWzBdLGlbMV09dFsxXS1yWzFdLGlbMl09dFsyXS1yWzJdLG9bMF09aVsyXSpNYXRoLnNpbihuKStpWzBdKk1hdGguY29zKG4pLG9bMV09aVsxXSxvWzJdPWlbMl0qTWF0aC5jb3MobiktaVswXSpNYXRoLnNpbihuKSxlWzBdPW9bMF0rclswXSxlWzFdPW9bMV0rclsxXSxlWzJdPW9bMl0rclsyXSxlfWZ1bmN0aW9uIEkoZSx0LHIsbil7dmFyIGk9W10sbz1bXTtyZXR1cm4gaVswXT10WzBdLXJbMF0saVsxXT10WzFdLXJbMV0saVsyXT10WzJdLXJbMl0sb1swXT1pWzBdKk1hdGguY29zKG4pLWlbMV0qTWF0aC5zaW4obiksb1sxXT1pWzBdKk1hdGguc2luKG4pK2lbMV0qTWF0aC5jb3Mobiksb1syXT1pWzJdLGVbMF09b1swXStyWzBdLGVbMV09b1sxXStyWzFdLGVbMl09b1syXStyWzJdLGV9ZnVuY3Rpb24gVShlLHQpe3ZhciByPWEoZVswXSxlWzFdLGVbMl0pLG49YSh0WzBdLHRbMV0sdFsyXSk7UChyLHIpLFAobixuKTt2YXIgaT13KHIsbik7cmV0dXJuIGk+MT8wOmk8LTE/TWF0aC5QSTpNYXRoLmFjb3MoaSl9ZnVuY3Rpb24geihlKXtyZXR1cm5cInZlYzMoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIilcIn1mdW5jdGlvbiBOKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl19ZnVuY3Rpb24gVihlLHQpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxvPXRbMF0sYT10WzFdLHU9dFsyXTtyZXR1cm4gTWF0aC5hYnMoci1vKTw9QipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMobi1hKTw9QipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMoaS11KTw9QipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKHUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNyZWF0ZT1uLHQuY2xvbmU9aSx0Lmxlbmd0aD1vLHQuZnJvbVZhbHVlcz1hLHQuY29weT11LHQuc2V0PXMsdC5hZGQ9bCx0LnN1YnRyYWN0PWMsdC5tdWx0aXBseT1mLHQuZGl2aWRlPWgsdC5jZWlsPXAsdC5mbG9vcj12LHQubWluPXksdC5tYXg9ZCx0LnJvdW5kPW0sdC5zY2FsZT1iLHQuc2NhbGVBbmRBZGQ9Zyx0LmRpc3RhbmNlPU0sdC5zcXVhcmVkRGlzdGFuY2U9Xyx0LnNxdWFyZWRMZW5ndGg9eCx0Lm5lZ2F0ZT1ULHQuaW52ZXJzZT1FLHQubm9ybWFsaXplPVAsdC5kb3Q9dyx0LmNyb3NzPU8sdC5sZXJwPUEsdC5oZXJtaXRlPVIsdC5iZXppZXI9Qyx0LnJhbmRvbT1qLHQudHJhbnNmb3JtTWF0ND1GLHQudHJhbnNmb3JtTWF0Mz1rLHQudHJhbnNmb3JtUXVhdD1MLHQucm90YXRlWD1TLHQucm90YXRlWT1ELHQucm90YXRlWj1JLHQuYW5nbGU9VSx0LnN0cj16LHQuZXhhY3RFcXVhbHM9Tix0LmVxdWFscz1WO3ZhciBCPTFlLTY7dC5zdWI9Yyx0Lm11bD1mLHQuZGl2PWgsdC5kaXN0PU0sdC5zcXJEaXN0PV8sdC5sZW49byx0LnNxckxlbj14LHQuZm9yRWFjaD1mdW5jdGlvbigpe3ZhciBlPW4oKTtyZXR1cm4gZnVuY3Rpb24odCxyLG4saSxvLGEpe3ZhciB1PXZvaWQgMCxzPXZvaWQgMDtmb3Iocnx8KHI9Myksbnx8KG49MCkscz1pP01hdGgubWluKGkqcituLHQubGVuZ3RoKTp0Lmxlbmd0aCx1PW47dTxzO3UrPXIpZVswXT10W3VdLGVbMV09dFt1KzFdLGVbMl09dFt1KzJdLG8oZSxlLGEpLHRbdV09ZVswXSx0W3UrMV09ZVsxXSx0W3UrMl09ZVsyXTtyZXR1cm4gdH19KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0wLGV9ZnVuY3Rpb24gaShlKXt2YXIgdD1uZXcgRmxvYXQzMkFycmF5KDQpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH1mdW5jdGlvbiBvKGUsdCxyLG4pe3ZhciBpPW5ldyBGbG9hdDMyQXJyYXkoNCk7cmV0dXJuIGlbMF09ZSxpWzFdPXQsaVsyXT1yLGlbM109bixpfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGV9ZnVuY3Rpb24gdShlLHQscixuLGkpe3JldHVybiBlWzBdPXQsZVsxXT1yLGVbMl09bixlWzNdPWksZX1mdW5jdGlvbiBzKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdK3JbMF0sZVsxXT10WzFdK3JbMV0sZVsyXT10WzJdK3JbMl0sZVszXT10WzNdK3JbM10sZX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdLXJbMF0sZVsxXT10WzFdLXJbMV0sZVsyXT10WzJdLXJbMl0sZVszXT10WzNdLXJbM10sZX1mdW5jdGlvbiBjKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnJbMF0sZVsxXT10WzFdKnJbMV0sZVsyXT10WzJdKnJbMl0sZVszXT10WzNdKnJbM10sZX1mdW5jdGlvbiBmKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdL3JbMF0sZVsxXT10WzFdL3JbMV0sZVsyXT10WzJdL3JbMl0sZVszXT10WzNdL3JbM10sZX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGVbMl09TWF0aC5jZWlsKHRbMl0pLGVbM109TWF0aC5jZWlsKHRbM10pLGV9ZnVuY3Rpb24gcChlLHQpe3JldHVybiBlWzBdPU1hdGguZmxvb3IodFswXSksZVsxXT1NYXRoLmZsb29yKHRbMV0pLGVbMl09TWF0aC5mbG9vcih0WzJdKSxlWzNdPU1hdGguZmxvb3IodFszXSksZX1mdW5jdGlvbiB2KGUsdCxyKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLHJbMF0pLGVbMV09TWF0aC5taW4odFsxXSxyWzFdKSxlWzJdPU1hdGgubWluKHRbMl0sclsyXSksZVszXT1NYXRoLm1pbih0WzNdLHJbM10pLGV9ZnVuY3Rpb24geShlLHQscil7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxyWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0sclsxXSksZVsyXT1NYXRoLm1heCh0WzJdLHJbMl0pLGVbM109TWF0aC5tYXgodFszXSxyWzNdKSxlfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZVswXT1NYXRoLnJvdW5kKHRbMF0pLGVbMV09TWF0aC5yb3VuZCh0WzFdKSxlWzJdPU1hdGgucm91bmQodFsyXSksZVszXT1NYXRoLnJvdW5kKHRbM10pLGV9ZnVuY3Rpb24gbShlLHQscil7cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109dFszXSpyLGV9ZnVuY3Rpb24gYihlLHQscixuKXtyZXR1cm4gZVswXT10WzBdK3JbMF0qbixlWzFdPXRbMV0rclsxXSpuLGVbMl09dFsyXStyWzJdKm4sZVszXT10WzNdK3JbM10qbixlfWZ1bmN0aW9uIGcoZSx0KXt2YXIgcj10WzBdLWVbMF0sbj10WzFdLWVbMV0saT10WzJdLWVbMl0sbz10WzNdLWVbM107cmV0dXJuIE1hdGguc3FydChyKnIrbipuK2kqaStvKm8pfWZ1bmN0aW9uIE0oZSx0KXt2YXIgcj10WzBdLWVbMF0sbj10WzFdLWVbMV0saT10WzJdLWVbMl0sbz10WzNdLWVbM107cmV0dXJuIHIqcituKm4raSppK28qb31mdW5jdGlvbiBfKGUpe3ZhciB0PWVbMF0scj1lWzFdLG49ZVsyXSxpPWVbM107cmV0dXJuIE1hdGguc3FydCh0KnQrcipyK24qbitpKmkpfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9ZVswXSxyPWVbMV0sbj1lWzJdLGk9ZVszXTtyZXR1cm4gdCp0K3IqcituKm4raSppfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT0tdFszXSxlfWZ1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZVswXT0xL3RbMF0sZVsxXT0xL3RbMV0sZVsyXT0xL3RbMl0sZVszXT0xL3RbM10sZX1mdW5jdGlvbiBQKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXIqcituKm4raSppK28qbztyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSxlWzBdPXIqYSxlWzFdPW4qYSxlWzJdPWkqYSxlWzNdPW8qYSksZX1mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdK2VbM10qdFszXX1mdW5jdGlvbiBPKGUsdCxyLG4pe3ZhciBpPXRbMF0sbz10WzFdLGE9dFsyXSx1PXRbM107cmV0dXJuIGVbMF09aStuKihyWzBdLWkpLGVbMV09bytuKihyWzFdLW8pLGVbMl09YStuKihyWzJdLWEpLGVbM109dStuKihyWzNdLXUpLGV9ZnVuY3Rpb24gQShlLHQpe3JldHVybiB0PXR8fDEsZVswXT1NYXRoLnJhbmRvbSgpLGVbMV09TWF0aC5yYW5kb20oKSxlWzJdPU1hdGgucmFuZG9tKCksZVszXT1NYXRoLnJhbmRvbSgpLFAoZSxlKSxtKGUsZSx0KSxlfWZ1bmN0aW9uIFIoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM107cmV0dXJuIGVbMF09clswXSpuK3JbNF0qaStyWzhdKm8rclsxMl0qYSxlWzFdPXJbMV0qbityWzVdKmkrcls5XSpvK3JbMTNdKmEsZVsyXT1yWzJdKm4rcls2XSppK3JbMTBdKm8rclsxNF0qYSxlWzNdPXJbM10qbityWzddKmkrclsxMV0qbytyWzE1XSphLGV9ZnVuY3Rpb24gQyhlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9clswXSx1PXJbMV0scz1yWzJdLGw9clszXSxjPWwqbit1Km8tcyppLGY9bCppK3Mqbi1hKm8saD1sKm8rYSppLXUqbixwPS1hKm4tdSppLXMqbztyZXR1cm4gZVswXT1jKmwrcCotYStmKi1zLWgqLXUsZVsxXT1mKmwrcCotdStoKi1hLWMqLXMsZVsyXT1oKmwrcCotcytjKi11LWYqLWEsZVszXT10WzNdLGV9ZnVuY3Rpb24gaihlKXtyZXR1cm5cInZlYzQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn1mdW5jdGlvbiBGKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl0mJmVbM109PT10WzNdfWZ1bmN0aW9uIGsoZSx0KXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sbz1lWzNdLGE9dFswXSx1PXRbMV0scz10WzJdLGw9dFszXTtyZXR1cm4gTWF0aC5hYnMoci1hKTw9TCpNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMobi11KTw9TCpNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKHUpKSYmTWF0aC5hYnMoaS1zKTw9TCpNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoby1sKTw9TCpNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGwpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNyZWF0ZT1uLHQuY2xvbmU9aSx0LmZyb21WYWx1ZXM9byx0LmNvcHk9YSx0LnNldD11LHQuYWRkPXMsdC5zdWJ0cmFjdD1sLHQubXVsdGlwbHk9Yyx0LmRpdmlkZT1mLHQuY2VpbD1oLHQuZmxvb3I9cCx0Lm1pbj12LHQubWF4PXksdC5yb3VuZD1kLHQuc2NhbGU9bSx0LnNjYWxlQW5kQWRkPWIsdC5kaXN0YW5jZT1nLHQuc3F1YXJlZERpc3RhbmNlPU0sdC5sZW5ndGg9Xyx0LnNxdWFyZWRMZW5ndGg9eCx0Lm5lZ2F0ZT1ULHQuaW52ZXJzZT1FLHQubm9ybWFsaXplPVAsdC5kb3Q9dyx0LmxlcnA9Tyx0LnJhbmRvbT1BLHQudHJhbnNmb3JtTWF0ND1SLHQudHJhbnNmb3JtUXVhdD1DLHQuc3RyPWosdC5leGFjdEVxdWFscz1GLHQuZXF1YWxzPWs7dmFyIEw9MWUtNjt0LnN1Yj1sLHQubXVsPWMsdC5kaXY9Zix0LmRpc3Q9Zyx0LnNxckRpc3Q9TSx0Lmxlbj1fLHQuc3FyTGVuPXgsdC5mb3JFYWNoPWZ1bmN0aW9uKCl7dmFyIGU9bigpO3JldHVybiBmdW5jdGlvbih0LHIsbixpLG8sYSl7dmFyIHU9dm9pZCAwLHM9dm9pZCAwO2ZvcihyfHwocj00KSxufHwobj0wKSxzPWk/TWF0aC5taW4oaSpyK24sdC5sZW5ndGgpOnQubGVuZ3RoLHU9bjt1PHM7dSs9cillWzBdPXRbdV0sZVsxXT10W3UrMV0sZVsyXT10W3UrMl0sZVszXT10W3UrM10sbyhlLGUsYSksdFt1XT1lWzBdLHRbdSsxXT1lWzFdLHRbdSsyXT1lWzJdLHRbdSszXT1lWzNdO3JldHVybiB0fX0oKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjEpLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKTt0LmRlZmF1bHQ9aSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIsbil7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG8sYSx1LHMsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGM9KG89cihbXCJpbWFnZVwiXSxcImlzRGlydHlcIiksYT1uKFwiaXNEaXJ0eVwiLCEwKSxvKChzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5vZmZzZXQ9e3g6MCx5OjB9LHRoaXMuaW1hZ2U9bmV3IFVpbnQ4QXJyYXkoWzI1NSwyNTUsMjU1LDI1NV0pLHRoaXMubWF0ZXJpYWw9bnVsbCx0aGlzLm1hdGVyaWFsPXR9cmV0dXJuIGwoZSxbe2tleTpcImdldEltYWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnZX19LHtrZXk6XCJnZXRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRlcmlhbC5tZXNoLnNjZW5lLmVuZ2luZS5jcmVhdGVUZXh0dXJlKHRoaXMuZ2V0SW1hZ2UoKSl9fV0pLGV9KCksZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW5bZV19KSxvLmVudW1lcmFibGU9ISFvLmVudW1lcmFibGUsby5jb25maWd1cmFibGU9ISFvLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gb3x8by5pbml0aWFsaXplcikmJihvLndyaXRhYmxlPSEwKSxvPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxvKSxpJiZ2b2lkIDAhPT1vLmluaXRpYWxpemVyJiYoby52YWx1ZT1vLmluaXRpYWxpemVyP28uaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsby5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PW8uaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LG8pLG89bnVsbCksb30ocy5wcm90b3R5cGUsXCJnZXRUZXh0dXJlXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJnZXRUZXh0dXJlXCIpLHMucHJvdG90eXBlKSx1PXMpKXx8dSk7dC5kZWZhdWx0PWMsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDIpLHIoMSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIsbil7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG8sYSx1LHMsbD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksZj0obz1yKFtcInZlcnRpY2VzXCIsXCJpbmRpY2VzXCJdLFwiaXNEaXJ0eVwiKSxhPW4oXCJpc0RpcnR5XCIsITApLG8oKHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLnZlcnRpY2VzPVtdLHRoaXMuaW5kaWNlcz17ZGVmYXVsdDpbXX0sdGhpcy5tZXNoPW51bGwsdGhpcy5tZXNoPXR9cmV0dXJuIGMoZSxbe2tleTpcImdldFZlcnRpY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzKX19LHtrZXk6XCJnZXRJbmRpY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1sKHt9LHRoaXMuaW5kaWNlcyk7Zm9yKHZhciB0IGluIGUpZVt0XT1uZXcgVWludDMyQXJyYXkoZVt0XSk7cmV0dXJuIGV9fSx7a2V5OlwiZ2V0QnVmZmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMubWVzaC5zY2VuZS5lbmdpbmUsdD10aGlzLmdldFZlcnRpY2VzKCkscj1lLmNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcih0KSxuPXt9LGk9e30sbz1bXSxhPVtdLHU9MDt1PHQubGVuZ3RoO3UrPTMpby5wdXNoKDAsMCksYS5wdXNoKDAsMCwxKTt2YXIgcz1lLmNyZWF0ZUF0dHJpYnV0ZUJ1ZmZlcihuZXcgRmxvYXQzMkFycmF5KG8pKSxsPWUuY3JlYXRlQXR0cmlidXRlQnVmZmVyKG5ldyBGbG9hdDMyQXJyYXkoYSkpLGM9dGhpcy5nZXRJbmRpY2VzKCk7Zm9yKHZhciBmIGluIGMpbltmXT1lLmNyZWF0ZUVsZW1lbnRCdWZmZXIoY1tmXSksaVtmXT1jW2ZdLmxlbmd0aDtyZXR1cm57dmVydGljZXM6cixpbmRpY2VzOm4saW5kaWNlc0xlbmd0aDppLHV2czpzLG5vcm1hbHM6bH19fV0pLGV9KCksZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW5bZV19KSxvLmVudW1lcmFibGU9ISFvLmVudW1lcmFibGUsby5jb25maWd1cmFibGU9ISFvLmNvbmZpZ3VyYWJsZSwoXCJ2YWx1ZVwiaW4gb3x8by5pbml0aWFsaXplcikmJihvLndyaXRhYmxlPSEwKSxvPXIuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG4oZSx0LHIpfHxyfSxvKSxpJiZ2b2lkIDAhPT1vLmluaXRpYWxpemVyJiYoby52YWx1ZT1vLmluaXRpYWxpemVyP28uaW5pdGlhbGl6ZXIuY2FsbChpKTp2b2lkIDAsby5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PW8uaW5pdGlhbGl6ZXImJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LG8pLG89bnVsbCksb30ocy5wcm90b3R5cGUsXCJnZXRCdWZmZXJzXCIsW2FdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocy5wcm90b3R5cGUsXCJnZXRCdWZmZXJzXCIpLHMucHJvdG90eXBlKSx1PXMpKXx8dSk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDIpLHIoMSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIsbixpLG8sYSl7ZnVuY3Rpb24gdShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyhlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGwoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt1KHRoaXMsdCk7dmFyIHI9cyh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gci5zY2VuZT1udWxsLHIuY2VudGVyPXt4OjAseTowLHo6MH0sci51cD17eDowLHk6MSx6OjB9LHIubmVhcj0xLHIuZmFyPTFlMyxyLmZvdj05MCxyLnNjZW5lPWUsZS5hY3RpdmVDYW1lcmE9cixyfXJldHVybiBsKHQsZSksYyh0LFt7a2V5OlwiZ2V0Vk1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bi5jcmVhdGUoKSx0PWkuZnJvbVZhbHVlcyh0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnksdGhpcy5jZW50ZXIueikscj1pLmZyb21WYWx1ZXModGhpcy51cC54LHRoaXMudXAueSx0aGlzLnVwLnopLG89aS5mcm9tVmFsdWVzKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56KTtuLmxvb2tBdChlLG8sdCxyKSxuLmludmVydChlLGUpO3ZhciBhPW4uY3JlYXRlKCk7cmV0dXJuIG4uaW52ZXJ0KGEsZSksYX19LHtrZXk6XCJnZXRQTWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNjZW5lLHQ9dGhpcy5uZWFyLHI9dGhpcy5mYXIsaT10aGlzLmZvdixhPWUuZW5naW5lLHU9YS53aWR0aCxzPWEuaGVpZ2h0O3JldHVybiBuLnBlcnNwZWN0aXZlKG4uY3JlYXRlKCksby5kZWcycmFkKGkpLHUvcyx0LHIpfX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbdGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnpdKX19LHtrZXk6XCJnZXRWaWV3UmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdLG89dGhpcy5zY2VuZS5lbmdpbmUsdT1vLndpZHRoLHM9by5oZWlnaHQ7ciYmKHQ9cy10KTt2YXIgbD0yKihlL3UtLjUpLGM9MioodC9zLS41KSxmPXRoaXMuZ2V0UE1hdHJpeCgpLGg9aS5mcm9tVmFsdWVzKGwsYywxKTtpLnRyYW5zZm9ybU1hdDQoaCxoLG4uaW52ZXJ0KG4uY3JlYXRlKCksZikpLGkudHJhbnNmb3JtTWF0NChoLGgsbi5pbnZlcnQobi5jcmVhdGUoKSx0aGlzLmdldFZNYXRyaXgoKSkpO3ZhciBwPWkuc3ViKGkuY3JlYXRlKCksaCxpLmZyb21WYWx1ZXModGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnopKSx2PW5ldyBhO3JldHVybiB2Lm9yaWdpbi54PXRoaXMucG9zaXRpb24ueCx2Lm9yaWdpbi55PXRoaXMucG9zaXRpb24ueSx2Lm9yaWdpbi56PXRoaXMucG9zaXRpb24ueix2LmRpcmVjdGlvbi54PXBbMF0sdi5kaXJlY3Rpb24ueT1wWzFdLHYuZGlyZWN0aW9uLno9cFsyXSx2fX1dKSx0fShyKTt0LmRlZmF1bHQ9ZixlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoOCkscig5KSxyKDApLHIoMjYpLHIoMjcpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17cmFkMmRlZzpmdW5jdGlvbihlKXtyZXR1cm4gMTgwKmUvTWF0aC5QSX0sZGVnMnJhZDpmdW5jdGlvbihlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocil7ZnVuY3Rpb24gbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24odGhpcyxlKSx0aGlzLm9yaWdpbj17eDowLHk6MCx6OjB9LHRoaXMuZGlyZWN0aW9uPXt4OjAseTowLHo6MX19cmV0dXJuIGkoZSxbe2tleTpcImludGVyc2VjdFBsYW5lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub3JtYWwsbj1lLm9mZnNldCxpPXRoaXMuZGlzdGFuY2VUb1BsYW5lKHtub3JtYWw6dCxvZmZzZXQ6bn0pO2lmKG51bGw9PT1pKXJldHVybiBudWxsO3ZhciBvPXIuZnJvbVZhbHVlcyh0aGlzLm9yaWdpbi54LHRoaXMub3JpZ2luLnksdGhpcy5vcmlnaW4ueiksYT1yLm5vcm1hbGl6ZShyLmNyZWF0ZSgpLHIuZnJvbVZhbHVlcyh0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueikpLHU9ci5zY2FsZShyLmNyZWF0ZSgpLGEsaSkscz1yLmFkZChyLmNyZWF0ZSgpLG8sdSk7cmV0dXJue3g6c1swXSx5OnNbMV0sejpzWzJdfX19LHtrZXk6XCJkaXN0YW5jZVRvUGxhbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLm5vcm1hbCxuPWUub2Zmc2V0O3Q9ci5ub3JtYWxpemUoci5jcmVhdGUoKSxyLmZyb21WYWx1ZXModC54LHQueSx0LnopKTt2YXIgaT1yLmZyb21WYWx1ZXModGhpcy5vcmlnaW4ueCx0aGlzLm9yaWdpbi55LHRoaXMub3JpZ2luLnopLG89ci5ub3JtYWxpemUoci5jcmVhdGUoKSxyLmZyb21WYWx1ZXModGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnopKSxhPXIuZG90KHQsbyk7aWYoMD09PWEpcmV0dXJuIG51bGw7dmFyIHU9LShyLmRvdChpLHQpLW4pL2E7cmV0dXJuIHU+MD91Om51bGx9fV0pLGV9KCk7dC5kZWZhdWx0PW8sZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyKXtmdW5jdGlvbiBuKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZVt0XTtyZXR1cm4gcn1yZXR1cm4gQXJyYXkuZnJvbShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcj1bXSxuPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSx1PWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEobj0oYT11Lm5leHQoKSkuZG9uZSkmJihyLnB1c2goYS52YWx1ZSksIXR8fHIubGVuZ3RoIT09dCk7bj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5eyFuJiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIHJ9cmV0dXJuIGZ1bmN0aW9uKHQscil7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBlKHQscik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLG89L3YoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLGE9L3ZuKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspLyx1PS92dCggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLHM9L2ZcXHMrKCgoW1xcZF17MSx9XFwvW1xcZF17MSx9W1xcc10/KXszLH0pKykvLGw9L2ZcXHMrKCgoW1xcZF17MSx9XFwvW1xcZF17MSx9XFwvW1xcZF17MSx9W1xcc10/KXszLH0pKykvLGM9L151c2VtdGwgLyxmPS9ebXRsbGliIC8saD0vXmcvLHA9e3BhcnNlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7eShlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIvXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUpLTF9KSxyPWkodCwzKTt2KHJbMF0sclsxXSxyWzJdKX0pfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9eShlKSxvPTA7dC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCxhKXt2YXIgdT1lLnNwbGl0KFwiL1wiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKS0xfSkscz1pKHUsMiksbD1zWzBdLGM9c1sxXTtpZih0JTM9PTApe3ZhciBmLGgscCx5PShmPXIpLmZyb21WYWx1ZXMuYXBwbHkoZixuKG1bbF0pKSxkPWFbdCsxXS5zcGxpdChcIi9cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSktMX0pLGc9aShkLDEpLE09Z1swXSxfPShoPXIpLmZyb21WYWx1ZXMuYXBwbHkoaCxuKG1bTV0pKSx4PWFbdCsyXS5zcGxpdChcIi9cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSktMX0pLFQ9aSh4LDEpLEU9VFswXSxQPShwPXIpLmZyb21WYWx1ZXMuYXBwbHkocCxuKG1bRV0pKSx3PXIuc3ViKHIuY3JlYXRlKCksXyx5KSxPPXIuc3ViKHIuY3JlYXRlKCksUCx5KSxBPXIuY3Jvc3Moci5jcmVhdGUoKSx3LE8pO2IucHVzaChbXS5jb25jYXQobihBKSkpLG89Yi5sZW5ndGgtMX12KGwsYyxvKX0pfWZ1bmN0aW9uIHYoZSx0LHIpe2lmKE1bZV0pe3ZhciBuPWQoTVtlXS51dnMsdCxNW2VdLm5vcm1hbHMscik7LTEhPT1uP18uaW5kaWNlc1tUXS5wdXNoKE1bZV0ucG9zW25dKTooTVtlXS51dnMucHVzaCh0KSxNW2VdLm5vcm1hbHMucHVzaChyKSxNW2VdLnBvcy5wdXNoKHgpLF8ucG9zaXRpb25zLnB1c2gobVtlXSksXy51dnMucHVzaChnW3RdKSxfLm5vcm1hbHMucHVzaChiW3JdKSxfLmluZGljZXNbVF0ucHVzaCh4KyspKX1lbHNlIE1bZV09e3V2czpbdF0sbm9ybWFsczpbcl0scG9zOlt4XX0sXy5wb3NpdGlvbnMucHVzaChtW2VdKSxfLnV2cy5wdXNoKGdbdF0pLF8ubm9ybWFscy5wdXNoKGJbcl0pLF8uaW5kaWNlc1tUXS5wdXNoKHgrKyl9ZnVuY3Rpb24geShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLHI9MTtyKzE8ZS5sZW5ndGg7KXQucHVzaChlWzBdLGVbcl0sZVtyKzFdKSxyKys7cmV0dXJuIHR9ZnVuY3Rpb24gZChlLHQscixuKXtmb3IodmFyIGk9ZS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6ZSxpOnR9fSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlPT09dH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pfSksbz0wO288aS5sZW5ndGg7bysrKWlmKHJbaVtvXV09PT1uKXJldHVybiBpW29dO3JldHVybi0xfXZhciBtPVtdLGI9W10sZz1bXSxNPVtdLF89e3Bvc2l0aW9uczpbXSx1dnM6W10sbm9ybWFsczpbXSxpbmRpY2VzOnt9LG10bHM6ZS5tdGw/dGhpcy5wYXJzZU10bChlLm10bCk6e319LHg9MCxUPW51bGw7cmV0dXJuIGUub2JqLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1lLnRyaW0oKTt2YXIgcj12b2lkIDA7aWYoMCE9PWUubGVuZ3RoJiZcIiNcIiE9PWUuY2hhckF0KDApKWlmKG51bGwhPT0ocj1vLmV4ZWMoZSkpKW0ucHVzaChyLnNwbGljZSgxKS5tYXAoTnVtYmVyKSk7ZWxzZSBpZihudWxsIT09KHI9YS5leGVjKGUpKSliLnB1c2goci5zcGxpY2UoMSkubWFwKE51bWJlcikpO2Vsc2UgaWYobnVsbCE9PShyPXUuZXhlYyhlKSkpZy5wdXNoKHIuc3BsaWNlKDEpLm1hcChOdW1iZXIpKTtlbHNlIGlmKG51bGwhPT0ocj1sLmV4ZWMoZSkpKXQoclsxXS50cmltKCkuc3BsaXQoXCIgXCIpKTtlbHNlIGlmKG51bGwhPT0ocj1zLmV4ZWMoZSkpKXAoclsxXS50cmltKCkuc3BsaXQoXCIgXCIpKTtlbHNlIGlmKGMudGVzdChlKSl7dmFyIG49ZS5zdWJzdHJpbmcoNykudHJpbSgpO18uaW5kaWNlc1tuXXx8KF8uaW5kaWNlc1tuXT1bXSksVD1ufWVsc2UgZi50ZXN0KGUpP2Uuc3Vic3RyaW5nKDcpLnRyaW0oKTpoLnRlc3QoZSk/ZS5zdWJzdHJpbmcoMikudHJpbSgpOmNvbnNvbGUubG9nKFwiVW5oYW5kbGVkIGV4cHJlc3Npb24gYXQgbGluZSA6IFwiK2UpfSksX30scGFyc2VNdGw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIlxcblwiKSxyPXt9LG49bnVsbDtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGU9ZS50cmltKCksMCE9PWUubGVuZ3RoJiZcIiNcIiE9PWUuY2hhckF0KDApKXt2YXIgdD1lLmluZGV4T2YoXCIgXCIpLGk9KHQ+PTA/ZS5zdWJzdHJpbmcoMCx0KTplKS50b0xvd2VyQ2FzZSgpLG89dD49MD9lLnN1YnN0cmluZyh0KzEpLnRyaW0oKTpcIlwiO1wibmV3bXRsXCI9PT1pPyhyW29dPXt9LG49byk6XCJrZFwiPT09aT9yW25dLmRpZmZ1c2VDb2xvcj1vLnNwbGl0KFwiIFwiKS5tYXAoTnVtYmVyKTpcImthXCI9PT1pP3Jbbl0uYW1iaWVudENvbG9yPW8uc3BsaXQoXCIgXCIpLm1hcChOdW1iZXIpOlwia3NcIj09PWk/cltuXS5zcGVjdWxhckNvbG9yPW8uc3BsaXQoXCIgXCIpLm1hcChOdW1iZXIpOlwibWFwX2tkXCI9PT1pP3Jbbl0uZGlmZnVzZVRleHR1cmU9bzpcIm1hcF9rYVwiPT09aT9yW25dLmFtYmllbnRUZXh0dXJlPW86XCJtYXBfa3NcIj09PWk/cltuXS5zcGVjdWxhclRleHR1cmU9bzpcIm5zXCI9PT1pP3Jbbl0uZ2xvc3NpbmVzcz1OdW1iZXIobyk6Y29uc29sZS5sb2coXCJVbmhhbmRsZWQgZXhwcmVzc2lvbiBhdCBsaW5lIDogXCIrZSl9fSkscn19O3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscigwKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj17cGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90aGlzLnBhcnNlQmluYXJ5KGUpOnRoaXMucGFyc2VBU0NJSShlKX0scGFyc2VCaW5hcnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBEYXRhVmlldyhlKSxyPXQuZ2V0VWludDMyKDgwLCEwKSxuPVtdLGk9W10sbz1bXSxhPVtdLHU9MDt1PHI7dSsrKWZvcih2YXIgcz04NCs1MCp1LGw9dC5nZXRGbG9hdDMyKHMsITApLGM9dC5nZXRGbG9hdDMyKHMrNCwhMCksZj10LmdldEZsb2F0MzIocys4LCEwKSxoPTE7aDw9MztoKyspe3ZhciBwPXMrMTIqaDtuLnB1c2godC5nZXRGbG9hdDMyKHAsITApKSxuLnB1c2godC5nZXRGbG9hdDMyKHArNCwhMCkpLG4ucHVzaCh0LmdldEZsb2F0MzIocCs4LCEwKSksaS5wdXNoKGwsYyxmKSxvLnB1c2goMCwwKSxhLnB1c2goYS5sZW5ndGgpfXJldHVybntwb3NpdGlvbnM6bixub3JtYWxzOmksdXZzOm8saW5kaWNlczphfX0scGFyc2VBU0NJSTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9L2ZhY2V0KFtcXHNcXFNdKj8pZW5kZmFjZXQvZyxyPS9bXFxzXSsoWystXT8oPzpcXGQrLlxcZCt8XFxkKy58XFxkK3wuXFxkKykoPzpbZUVdWystXT9cXGQrKT8pLy5zb3VyY2Usbj1uZXcgUmVnRXhwKFwidmVydGV4XCIrcityK3IsXCJnXCIpLGk9bmV3IFJlZ0V4cChcIm5vcm1hbFwiK3IrcityLFwiZ1wiKSxvPTAsYT1bXSx1PVtdLHM9W10sbD1bXSxjPXt4OjAseTowLHo6MH0sZj12b2lkIDA7bnVsbCE9PShmPXQuZXhlYyhlKSk7KXtmb3IodmFyIGg9MCxwPTAsdj1mWzBdO251bGwhPT0oZj1pLmV4ZWModikpOyljLng9cGFyc2VGbG9hdChmWzFdKSxjLnk9cGFyc2VGbG9hdChmWzJdKSxjLno9cGFyc2VGbG9hdChmWzNdKSxwKys7Zm9yKDtudWxsIT09KGY9bi5leGVjKHYpKTspYS5wdXNoKHBhcnNlRmxvYXQoZlsxXSkscGFyc2VGbG9hdChmWzJdKSxwYXJzZUZsb2F0KGZbM10pKSx1LnB1c2goYy54LGMueSxjLnopLHMucHVzaCgwLDApLGwucHVzaChsLmxlbmd0aCksaCsrOzEhPT1wJiZjb25zb2xlLmxvZyhcIm5vcm1hbENvdW50UGVyRmFjZSBpcyBub3QgMVwiKSwzIT09aCYmY29uc29sZS5sb2coXCJ2ZXJ0ZXhDb3VudFBlckZhY2UgaXMgbm90IDNcIiksbysrfXJldHVybntwb3NpdGlvbnM6YSxub3JtYWxzOnUsdXZzOnMsaW5kaWNlczpsfX19O3QuZGVmYXVsdD1uLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigzMSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuLGksbyxhLHUscyxsLGMsZixoLHAsdix5LGQsbSxiLGcsTSxfLHgsVCxFLFAsdyxPKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9e0VuZ2luZTpyLFNjZW5lOm4sTm9kZTppLEVudjpvLFBlcnNwZWN0aXZlQ2FtZXJhOmEsQXJjUm90YXRlQ2FtZXJhOnUsTGlnaHQ6cyxEaXJlY3Rpb25hbExpZ2h0OmwsSGVtaXNwaGVyZUxpZ2h0OmMsQW1iaWVudExpZ2h0OmYsUG9pbnRMaWdodDpoLE1lc2hCdWlsZGVyOnAsTWVzaDp2LExpbmVNZXNoOnksTWF0ZXJpYWw6ZCxSYXdNYXRlcmlhbDptLFN0YW5kYXJkTWF0ZXJpYWw6YixHZW9tZXRyeTpnLExpbmVHZW9tZXRyeTpNLE1hdDQ6XyxWZWMzOngsVmVjNDpULFF1YXQ6RSxSYXk6UCxPYmpQYXJzZXI6dyxTdGxQYXJzZXI6T30sZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDMyKSxyKDM4KSxyKDgpLHIoMykscigyNSkscig0Mykscig0KSxyKDEzKSxyKDE0KSxyKDE1KSxyKDE2KSxyKDQ0KSxyKDUpLHIoMTEpLHIoNikscigxMikscig3KSxyKDEwKSxyKDI0KSxyKDkpLHIoMCkscigyMikscigxOSkscigyNykscigyOCkscigyOSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKG4saSl7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gYShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxyPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9cmV0dXJuIEFycmF5LmZyb20oZSl9ZnVuY3Rpb24gdShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxsPXIoMzQpLGM9byhsKSxmPXIoMzUpLGg9byhmKSxwPXIoMzYpLHY9byhwKSx5PXIoMzcpLGQ9byh5KSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt1KHRoaXMsZSksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY3VycmVudFByb2dyYW09bnVsbCx0aGlzLl9wcm9ncmFtcz17fSx0aGlzLl9mcmFtZWJ1ZmZlcnM9e307dmFyIHI9dGhpcy5fZ2w9dC5nZXRDb250ZXh0KFwid2ViZ2xcIix7YW50aWFsaWFzOiEwfSk7dGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuX3Byb2dyYW1zPXtkZWZhdWx0Om5ldyBuKHtnbDpyLGZTaGFkZXJTb3VyY2U6Yy5kZWZhdWx0LHZTaGFkZXJTb3VyY2U6aC5kZWZhdWx0fSkscGlja2VyOm5ldyBuKHtnbDpyLGZTaGFkZXJTb3VyY2U6di5kZWZhdWx0LHZTaGFkZXJTb3VyY2U6ZC5kZWZhdWx0fSl9LHRoaXMuX2ZyYW1lYnVmZmVycz17cGlja2VyOmkuZnJhbWVidWZmZXJOb3RSZWFkeT9udWxsOnRoaXMuY3JlYXRlRnJhbWVidWZmZXIoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSkuZnJhbWVidWZmZXJ9LHIudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHIuZW5hYmxlKHIuREVQVEhfVEVTVCksci5nZXRFeHRlbnNpb24oXCJPRVNfZWxlbWVudF9pbmRleF91aW50XCIpLHIucGl4ZWxTdG9yZWkoci5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKX1yZXR1cm4gcyhlLFt7a2V5OlwiY2xlYXJDb2xvckJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsO3QuY2xlYXJDb2xvcihlLnIvMjU1LGUuZy8yNTUsZS5iLzI1NSx2b2lkIDAhPT1lLmE/ZS5hLzI1NToxKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCl9fSx7a2V5OlwiY2xlYXJEZXB0aEJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2w7ZS5jbGVhcihlLkRFUFRIX0JVRkZFUl9CSVQpfX0se2tleTpcInVzZVByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jdXJyZW50UHJvZ3JhbT10aGlzLl9wcm9ncmFtc1tlXSx0aGlzLl9nbC51c2VQcm9ncmFtKHRoaXMuX2N1cnJlbnRQcm9ncmFtLl9wcm9ncmFtKX19LHtrZXk6XCJ1bmlmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50UHJvZ3JhbS51bmlmb3JtKGUsdCl9fSx7a2V5OlwiYXR0cmlidXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50UHJvZ3JhbS5hdHRyaWJ1dGUoZSx0KX19LHtrZXk6XCJlbmFibGVEZXB0aE1hc2tcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2dsLmRlcHRoTWFzayghMCl9fSx7a2V5OlwiZGlzYWJsZURlcHRoTWFza1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZ2wuZGVwdGhNYXNrKCExKX19LHtrZXk6XCJlbmFibGVCbGVuZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2w7ZS5lbmFibGUoZS5CTEVORCksZS5ibGVuZEZ1bmMoZS5TUkNfQUxQSEEsZS5PTkVfTUlOVVNfU1JDX0FMUEhBKX19LHtrZXk6XCJkaXNhYmxlQmxlbmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dsO2UuZGlzYWJsZShlLkJMRU5EKX19LHtrZXk6XCJjcmVhdGVBdHRyaWJ1dGVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nbCxyPXQuY3JlYXRlQnVmZmVyKCk7cmV0dXJuIHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixyKSx0LmJ1ZmZlckRhdGEodC5BUlJBWV9CVUZGRVIsZSx0LlNUQVRJQ19EUkFXKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsbnVsbCkscn19LHtrZXk6XCJjcmVhdGVFbGVtZW50QnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2wscj10LmNyZWF0ZUJ1ZmZlcigpO3JldHVybiB0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyKSx0LmJ1ZmZlckRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixlLHQuU1RBVElDX0RSQVcpLHQuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLG51bGwpLHJ9fSx7a2V5OlwiY3JlYXRlVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsLHI9dC5jcmVhdGVUZXh0dXJlKCk7aWYodC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsciksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0LkxJTkVBUiksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuQ0xBTVBfVE9fRURHRSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuQ0xBTVBfVE9fRURHRSksZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSwxLDEsMCx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUpO2Vsc2V7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUpO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKS9NYXRoLmxvZygyKSUxPT0wfTtuKGUud2lkdGgpJiZuKGUuaGVpZ2h0KSYmKHQuZ2VuZXJhdGVNaXBtYXAodC5URVhUVVJFXzJEKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCkpfXJldHVybiByfX0se2tleTpcImNyZWF0ZUZyYW1lYnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS53aWR0aCxyPWUuaGVpZ2h0LG49ZS51c2VDb2xvckJ1ZmZlcixpPXZvaWQgMCE9PW4mJm4sbz10aGlzLl9nbCxhPW8uY3JlYXRlRnJhbWVidWZmZXIoKTtvLmJpbmRGcmFtZWJ1ZmZlcihvLkZSQU1FQlVGRkVSLGEpO3ZhciB1PXZvaWQgMCxzPXZvaWQgMDtpZihpKXt2YXIgbD1vLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO28uYmluZFJlbmRlcmJ1ZmZlcihvLlJFTkRFUkJVRkZFUixsKSxvLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uoby5SRU5ERVJCVUZGRVIsby5SR0JBNCx0LHIpLG8uZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoby5GUkFNRUJVRkZFUixvLkNPTE9SX0FUVEFDSE1FTlQwLG8uUkVOREVSQlVGRkVSLGwpLHU9bH1lbHNle3ZhciBjPW8uY3JlYXRlVGV4dHVyZSgpO28uYWN0aXZlVGV4dHVyZShvLlRFWFRVUkUwKSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxjKSxvLnRleEltYWdlMkQoby5URVhUVVJFXzJELDAsby5SR0JBLHQsciwwLG8uUkdCQSxvLlVOU0lHTkVEX0JZVEUsbnVsbCksby50ZXhQYXJhbWV0ZXJpKG8uVEVYVFVSRV8yRCxvLlRFWFRVUkVfTUlOX0ZJTFRFUixvLkxJTkVBUiksby5mcmFtZWJ1ZmZlclRleHR1cmUyRChvLkZSQU1FQlVGRkVSLG8uQ09MT1JfQVRUQUNITUVOVDAsby5URVhUVVJFXzJELGMsMCksdT1jfXZhciBmPW8uY3JlYXRlUmVuZGVyYnVmZmVyKCk7aWYoby5iaW5kUmVuZGVyYnVmZmVyKG8uUkVOREVSQlVGRkVSLGYpLG8ucmVuZGVyYnVmZmVyU3RvcmFnZShvLlJFTkRFUkJVRkZFUixvLkRFUFRIX0NPTVBPTkVOVDE2LHQsciksby5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihvLkZSQU1FQlVGRkVSLG8uREVQVEhfQVRUQUNITUVOVCxvLlJFTkRFUkJVRkZFUixmKSxzPWYsby5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKG8uRlJBTUVCVUZGRVIpIT09by5GUkFNRUJVRkZFUl9DT01QTEVURSl0aHJvdyBuZXcgRXJyb3IoXCJmcmFtZWJ1ZmZlciBub3QgcmVhZHkgXCIrby5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKG8uRlJBTUVCVUZGRVIpKTtyZXR1cm4gby5iaW5kRnJhbWVidWZmZXIoby5GUkFNRUJVRkZFUixudWxsKSx7ZnJhbWVidWZmZXI6YSxjb2xvclRhcmdldDp1LGRlcHRoVGFyZ2V0OnN9fX0se2tleTpcImJpbmRGcmFtZWJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsLHI9dGhpcy5fZnJhbWVidWZmZXJzW2VdO3I/dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixyKTp0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpfX0se2tleTpcImxpbmVXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2dsLmxpbmVXaWR0aChlKX19LHtrZXk6XCJlbGVtZW50c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dsO3QuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10LmxpbmVzLG49dGhpcy5fZ2wsaT1yP24uTElORVM6bi5UUklBTkdMRVM7bi5kcmF3RWxlbWVudHMoaSxlLG4uVU5TSUdORURfSU5ULDApfX0se2tleTpcInJlYWRGcmFtZWJ1ZmZlclBpeGVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX2dsO2lmKHRoaXMuX2ZyYW1lYnVmZmVyc1tlXSl7dGhpcy5iaW5kRnJhbWVidWZmZXIoZSk7dmFyIGk9bmV3IFVpbnQ4QXJyYXkoNCk7cmV0dXJuIG4ucmVhZFBpeGVscyh0LHIsMSwxLG4uUkdCQSxuLlVOU0lHTkVEX0JZVEUsaSksdGhpcy5iaW5kRnJhbWVidWZmZXIobnVsbCksW10uY29uY2F0KGEoaSkpfXRocm93IG5ldyBFcnJvcihcImZyYW1lYnVmZmVyIFwiK2UrXCIgbm90IGV4aXRzXCIpfX1dKSxlfSgpO3QuZGVmYXVsdD1tLGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscigzMykscigzKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXQuZ2wsaT10LmZTaGFkZXJTb3VyY2Usbz10LnZTaGFkZXJTb3VyY2U7bih0aGlzLGUpLHRoaXMuX2dsPW51bGwsdGhpcy5fcHJvZ3JhbT1udWxsLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2F0dHJpYnV0ZXM9e30sdGhpcy5fdGV4dHVyZUNvdW50PTAsdGhpcy5fZ2w9cix0aGlzLl9mU2hhZGVyU291cmNlPWksdGhpcy5fdlNoYWRlclNvdXJjZT1vLHRoaXMuX2luaXRQcm9ncmFtKCl9cmV0dXJuIGkoZSxbe2tleTpcIl9pbml0UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dmFyIG49ZS5jcmVhdGVTaGFkZXIodCk7aWYoZS5zaGFkZXJTb3VyY2UobixyKSxlLmNvbXBpbGVTaGFkZXIobiksIWUuZ2V0U2hhZGVyUGFyYW1ldGVyKG4sZS5DT01QSUxFX1NUQVRVUykpdGhyb3dcIkFuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogXCIrZS5nZXRTaGFkZXJJbmZvTG9nKG4pO3JldHVybiBufWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIHI9W1wiRkxPQVRcIixcIkZMT0FUX1ZFQzJcIixcIkZMT0FUX1ZFQzNcIixcIkZMT0FUX1ZFQzRcIixcIkZMT0FUX01BVDJcIixcIkZMT0FUX01BVDNcIixcIkZMT0FUX01BVDRcIixcIklOVFwiLFwiSU5UX1ZFQzJcIixcIklOVF9WRUMzXCIsXCJJTlRfVkVDNFwiLFwiQk9PTFwiLFwiQk9PTF9WRUMyXCIsXCJCT09MX1ZFQzNcIixcIkJPT0xfVkVDNFwiLFwiU0FNUExFUl8yRFwiLFwiU0FNUExFUl9DVUJFXCJdLG49MDtuPHIubGVuZ3RoO24rKylpZihlW3Jbbl1dPT09dClyZXR1cm4gcltuXTt0aHJvdyBuZXcgRXJyb3IoXCJnZXQgdHlwZSBmYWlsZWQgJyArIHZhbHVlXCIpfXZhciByPXRoaXMuX2dsLG49dGhpcy5fZlNoYWRlclNvdXJjZSxpPXRoaXMuX3ZTaGFkZXJTb3VyY2Usbz1lKHIsci5GUkFHTUVOVF9TSEFERVIsbiksYT1lKHIsci5WRVJURVhfU0hBREVSLGkpLHU9ci5jcmVhdGVQcm9ncmFtKCk7aWYoci5hdHRhY2hTaGFkZXIodSxhKSxyLmF0dGFjaFNoYWRlcih1LG8pLHIubGlua1Byb2dyYW0odSksIXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih1LHIuTElOS19TVEFUVVMpKXRocm93XCJVbmFibGUgdG8gaW5pdGlhbGl6ZSB0aGUgc2hhZGVyIHByb2dyYW06IFwiK3IuZ2V0UHJvZ3JhbUluZm9Mb2codSk7Zm9yKHZhciBzPXt9LGw9e30sYz1yLmdldFByb2dyYW1QYXJhbWV0ZXIodSxyLkFDVElWRV9BVFRSSUJVVEVTKSxmPTA7ZjxjO2YrKyl7dmFyIGg9ci5nZXRBY3RpdmVBdHRyaWIodSxmKSxwPXt0eXBlOnQocixoLnR5cGUpLHBvc2l0aW9uOnIuZ2V0QXR0cmliTG9jYXRpb24odSxoLm5hbWUpLGluZm86aH07bFtoLm5hbWVdPXB9Zm9yKHZhciB2PXIuZ2V0UHJvZ3JhbVBhcmFtZXRlcih1LHIuQUNUSVZFX1VOSUZPUk1TKSx5PTA7eTx2O3krKyl7dmFyIGQ9ci5nZXRBY3RpdmVVbmlmb3JtKHUseSksbT17dHlwZTp0KHIsZC50eXBlKSxwb3NpdGlvbjpyLmdldFVuaWZvcm1Mb2NhdGlvbih1LGQubmFtZSksaW5mbzpkfTtpZihcIjJEXCI9PT10aGlzLl9wYXJzZVR5cGUobS50eXBlKS5iYXNlVmVjVHlwZSl7dmFyIGI9Kyt0aGlzLl90ZXh0dXJlQ291bnQ7bS51bml0PWJ9dmFyIGc9ZC5uYW1lO2cuZW5kc1dpdGgoXCJbMF1cIikmJihnPWcucmVwbGFjZShcIlswXVwiLFwiXCIpKSxzW2ddPW19dGhpcy5fcHJvZ3JhbT11LHRoaXMuX2F0dHJpYnV0ZXM9bCx0aGlzLl91bmlmb3Jtcz1zfX0se2tleTpcIl9wYXJzZVR5cGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiX1wiKVswXSxyPWUuc3BsaXQoXCJfXCIpLmxlbmd0aD4xP2Uuc3BsaXQoXCJfXCIpWzFdOlwiVkVDMVwiO3JldHVybntiYXNlVHlwZTp0LHZlY1R5cGU6cixiYXNlVmVjVHlwZTpyLnN1YnN0cigwLDMpLHZlY1NpemU6TnVtYmVyKHJbM10pfX19LHtrZXk6XCJ1bmlmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl91bmlmb3Jtc1tlXSl7dmFyIHI9dGhpcy5fZ2wsbj10aGlzLl91bmlmb3Jtc1tlXSxpPW4udHlwZSxvPShuLmluZm8sbi5wb3NpdGlvbiksYT1uLnVuaXQsdT10aGlzLl9wYXJzZVR5cGUoaSkscz11LmJhc2VUeXBlLGw9KHUudmVjVHlwZSx1LmJhc2VWZWNUeXBlKSxjPXUudmVjU2l6ZTtzd2l0Y2gobCl7Y2FzZVwiVkVDXCI6cltbXCJ1bmlmb3JtXCIsYyxcIkZMT0FUXCI9PT1zP1wiZlwiOlwiaVwiLFwidlwiXS5qb2luKFwiXCIpXShvLHQpO2JyZWFrO2Nhc2VcIk1BVFwiOnJbW1widW5pZm9ybVwiLFwiTWF0cml4XCIsYyxcImZ2XCJdLmpvaW4oXCJcIildKG8sITEsdCk7YnJlYWs7Y2FzZVwiMkRcIjpyLmFjdGl2ZVRleHR1cmUocltcIlRFWFRVUkVcIithXSksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsdCksci51bmlmb3JtMWkobyxhKTticmVhaztkZWZhdWx0OnRocm93XCJiYXNlVmVjVHlwZSBpbnZhbGlkXCJ9fX19LHtrZXk6XCJhdHRyaWJ1dGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2F0dHJpYnV0ZXNbZV0pe3ZhciByPXRoaXMuX2dsLG49dGhpcy5fYXR0cmlidXRlc1tlXSxpPW4udHlwZSxvPShuLmluZm8sbi5wb3NpdGlvbiksYT10aGlzLl9wYXJzZVR5cGUoaSksdT1hLmJhc2VUeXBlLHM9KGEudmVjVHlwZSxhLmJhc2VWZWNUeXBlLGEudmVjU2l6ZSk7ci5iaW5kQnVmZmVyKHIuQVJSQVlfQlVGRkVSLHQpLHIudmVydGV4QXR0cmliUG9pbnRlcihvLHMsclt1XSwhMSwwLDApLHIuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyl9fX1dKSxlfSgpO3QuZGVmYXVsdD1vLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuI2RlZmluZSBQSSAzLjE0MTU5MjZcXG5cXG4jZGVmaW5lIExJR0hUX01BWF9DT1VOVCAxNlxcbiNkZWZpbmUgTElHSFRfVFlQRV9OVUxMIDFcXG4jZGVmaW5lIExJR0hUX1RZUEVfQU1CSUVOVCAyXFxuI2RlZmluZSBMSUdIVF9UWVBFX0RJUkVDVElPTkFMIDNcXG4jZGVmaW5lIExJR0hUX1RZUEVfUE9JTlQgNFxcbiNkZWZpbmUgTElHSFRfVFlQRV9IRU1JU1BIRVJFIDVcXG5cXG4jZGVmaW5lIE1BVEVSSUFMX1RZUEVfUkFXIDFcXG4jZGVmaW5lIE1BVEVSSUFMX1RZUEVfU1RBTkRBUkQgMlxcblxcbnVuaWZvcm0gdmVjMyB1Q2FtZXJhUG9zaXRpb247XFxuXFxudW5pZm9ybSBpbnQgdUxpZ2h0VHlwZVtMSUdIVF9NQVhfQ09VTlRdO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHRDb2xvcjFbTElHSFRfTUFYX0NPVU5UXTtcXG51bmlmb3JtIHZlYzMgdUxpZ2h0Q29sb3IyW0xJR0hUX01BWF9DT1VOVF07XFxudW5pZm9ybSBmbG9hdCB1TGlnaHRJbnRlbnNpdHlbTElHSFRfTUFYX0NPVU5UXTtcXG51bmlmb3JtIHZlYzMgdUxpZ2h0UG9zaXRpb25bTElHSFRfTUFYX0NPVU5UXTtcXG5cXG51bmlmb3JtIGludCB1TWF0ZXJpYWxUeXBlO1xcbnVuaWZvcm0gZmxvYXQgdU1hdGVyaWFsT3BhY2l0eTtcXG51bmlmb3JtIHZlYzIgdU1hdGVyaWFsT2Zmc2V0O1xcbnVuaWZvcm0gYm9vbCB1TWF0ZXJpYWxBbWJpZW50VGV4dHVyZUZsYWc7XFxudW5pZm9ybSBib29sIHVNYXRlcmlhbERpZmZ1c2VUZXh0dXJlRmxhZztcXG51bmlmb3JtIGJvb2wgdU1hdGVyaWFsU3BlY3VsYXJUZXh0dXJlRmxhZztcXG51bmlmb3JtIHZlYzMgdUFtYmllbnRDb2xvcjtcXG51bmlmb3JtIHZlYzMgdURpZmZ1c2VDb2xvcjtcXG51bmlmb3JtIHZlYzMgdVNwZWN1bGFyQ29sb3I7XFxudW5pZm9ybSBzYW1wbGVyMkQgdUFtYmllbnRUZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVEaWZmdXNlVGV4dHVyZTtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U3BlY3VsYXJUZXh0dXJlO1xcbnVuaWZvcm0gZmxvYXQgdUdsb3NzaW5lc3M7XFxudW5pZm9ybSBib29sIHVFbnZNYXBGbGFnO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVFbnZNYXBUZXh0dXJlO1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG5cXG51bmlmb3JtIGJvb2wgbWFudWFsbHlGbGlwWTtcXG5cXG52ZWMyIGRlczJwb2wodmVjMyBwb3Mpe1xcbiAgICBmbG9hdCByID0gZGlzdGFuY2UodmVjMihwb3MueCwgcG9zLnopLCB2ZWMyKDAuMCkpO1xcbiAgICBmbG9hdCBiZXRhID0gYXRhbihwb3MueSwgcik7XFxuICAgIGZsb2F0IHYgPSBiZXRhIC8gUEkgKyAwLjU7XFxuICAgIGZsb2F0IGFscGhhID0gYXRhbihwb3MueCwgcG9zLnopO1xcbiAgICBmbG9hdCB1ID0gYWxwaGEgLyAoUEkgKiAyLjApICsgMC41O1xcbiAgICByZXR1cm4gdmVjMih1LCB2KTtcXG59XFxuXFxuXFxudmVjMyBhcHBseUxpZ2h0cyh2ZWMzIGFtYmllbnRDb2xvclNvdXJjZSwgdmVjMyBkaWZmdXNlQ29sb3JTb3VyY2UsIHZlYzMgc3BlY3VsYXJDb2xvclNvdXJjZSl7XFxuICAgIHZlYzMgY29sb3JMaWdodGVkID0gdmVjMygwLjApO1xcblxcbiAgICB2ZWMzIG5Ob3JtYWwgPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgIHZlYzMgblZpZXdEaXJlY3Rpb24gPSBub3JtYWxpemUodUNhbWVyYVBvc2l0aW9uIC0gdlBvc2l0aW9uKTtcXG5cXG4gICAgaWYodUVudk1hcEZsYWcpe1xcbiAgICAgICAgdmVjMyB2aWV3UmVmbGVjdCA9IHJlZmxlY3QoLW5WaWV3RGlyZWN0aW9uLCBuTm9ybWFsKTtcXG4gICAgICAgIHZlYzIgdmlld1JlZmxlY3RVViA9IGRlczJwb2wodmlld1JlZmxlY3QpO1xcbiAgICAgICAgdmVjMyBlbnZNYXBGYWN0b3IgPSB0ZXh0dXJlMkQodUVudk1hcFRleHR1cmUsIHZpZXdSZWZsZWN0VVYpLnh5ejtcXG4gICAgICAgIHNwZWN1bGFyQ29sb3JTb3VyY2UgKj0gZW52TWFwRmFjdG9yO1xcbiAgICB9XFxuXFxuICAgIGZvcihpbnQgaSA9IDA7IGkgPCBMSUdIVF9NQVhfQ09VTlQ7IGkrKyl7XFxuICAgICAgICBpbnQgdHlwZSA9IHVMaWdodFR5cGVbaV07XFxuICAgICAgICBpZih0eXBlID09IExJR0hUX1RZUEVfRElSRUNUSU9OQUwpe1xcblxcbiAgICAgICAgICAgIHZlYzMgbkxpZ2h0RGlyID0gbm9ybWFsaXplKHVMaWdodFBvc2l0aW9uW2ldKTtcXG5cXG4gICAgICAgICAgICBmbG9hdCBmYWN0b3JMYW1iZXJ0ID0gbWF4KGRvdChuTm9ybWFsLCBuTGlnaHREaXIpLCAwLjApO1xcbiAgICAgICAgICAgIHZlYzMgZGlmZnVzZUluY3JlbWVudCA9IGZhY3RvckxhbWJlcnQgKiB1TGlnaHRDb2xvcjFbaV0gKiB1TGlnaHRJbnRlbnNpdHlbaV0gKiBkaWZmdXNlQ29sb3JTb3VyY2U7XFxuICAgICAgICAgICAgY29sb3JMaWdodGVkICs9IGRpZmZ1c2VJbmNyZW1lbnQ7XFxuXFxuICAgICAgICAgICAgZmxvYXQgZmFjdG9yUGhvbmcgPSBwb3cobWF4KGRvdChyZWZsZWN0KC1uTGlnaHREaXIsIG5Ob3JtYWwpLCBuVmlld0RpcmVjdGlvbiksIDAuMCksIHVHbG9zc2luZXNzKTtcXG4gICAgICAgICAgICB2ZWMzIHNwZWN1bGFySW5jcmVtZW50ID0gZmFjdG9yUGhvbmcgKiB1TGlnaHRDb2xvcjFbaV0gKiB1TGlnaHRJbnRlbnNpdHlbaV0gKiBzcGVjdWxhckNvbG9yU291cmNlO1xcbiAgICAgICAgICAgIGNvbG9yTGlnaHRlZCArPSBzcGVjdWxhckluY3JlbWVudDtcXG5cXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT0gIExJR0hUX1RZUEVfUE9JTlQpe1xcblxcbiAgICAgICAgICAgIHZlYzMgcmF5ID0gdUxpZ2h0UG9zaXRpb25baV0gLSB2UG9zaXRpb247XFxuICAgICAgICAgICAgZmxvYXQgcmF5TGVuID0gbGVuZ3RoKHJheSk7XFxuICAgICAgICAgICAgZmxvYXQgZGVjYXllZEludGVuc2l0eSA9IDEuMCAvIChyYXlMZW4gKiByYXlMZW4pICogdUxpZ2h0SW50ZW5zaXR5W2ldO1xcblxcbiAgICAgICAgICAgIHZlYzMgbkxpZ2h0RGlyID0gbm9ybWFsaXplKHJheSk7XFxuXFxuICAgICAgICAgICAgZmxvYXQgZmFjdG9yTGFtYmVydCA9IGFicyhkb3Qobm9ybWFsaXplKHZOb3JtYWwpLCBuTGlnaHREaXIpKTtcXG4gICAgICAgICAgICB2ZWMzIGRpZmZ1c2VJbmNyZW1lbnQgPSBmYWN0b3JMYW1iZXJ0ICogdUxpZ2h0Q29sb3IxW2ldICogZGVjYXllZEludGVuc2l0eSAqIGRpZmZ1c2VDb2xvclNvdXJjZTtcXG4gICAgICAgICAgICBjb2xvckxpZ2h0ZWQgKz0gZGlmZnVzZUluY3JlbWVudDtcXG5cXG4gICAgICAgICAgICBmbG9hdCBmYWN0b3JQaG9uZyA9IHBvdyhtYXgoZG90KHJlZmxlY3QoLW5MaWdodERpciwgbk5vcm1hbCksIG5WaWV3RGlyZWN0aW9uKSwgMC4wKSwgdUdsb3NzaW5lc3MpO1xcbiAgICAgICAgICAgIHZlYzMgc3BlY3VsYXJJbmNyZW1lbnQgPSBmYWN0b3JQaG9uZyAqIHVMaWdodENvbG9yMVtpXSAqIGRlY2F5ZWRJbnRlbnNpdHkgKiBzcGVjdWxhckNvbG9yU291cmNlO1xcbiAgICAgICAgICAgIGNvbG9yTGlnaHRlZCArPSBzcGVjdWxhckluY3JlbWVudDtcXG5cXG4gICAgICAgIH1lbHNlIGlmKHR5cGUgPT0gTElHSFRfVFlQRV9BTUJJRU5UKXtcXG5cXG4gICAgICAgICAgICB2ZWMzIGluY3JlbWVudCA9IHVMaWdodENvbG9yMVtpXSAqIHVMaWdodEludGVuc2l0eVtpXSAqIGFtYmllbnRDb2xvclNvdXJjZTtcXG4gICAgICAgICAgICBjb2xvckxpZ2h0ZWQgKz0gaW5jcmVtZW50O1xcblxcbiAgICAgICAgfWVsc2UgaWYodHlwZSA9PSBMSUdIVF9UWVBFX0hFTUlTUEhFUkUpe1xcblxcbiAgICAgICAgICAgIGZsb2F0IGZhY3RvciA9IGRvdChub3JtYWxpemUodk5vcm1hbCksIG5vcm1hbGl6ZSh1TGlnaHRQb3NpdGlvbltpXSkpO1xcbiAgICAgICAgICAgIHZlYzMgaW5jcmVtZW50ID0gbWl4KHVMaWdodENvbG9yMltpXSwgdUxpZ2h0Q29sb3IxW2ldLCBmYWN0b3IgKiAwLjUgKyAwLjUpICogdUxpZ2h0SW50ZW5zaXR5W2ldICogZGlmZnVzZUNvbG9yU291cmNlO1xcbiAgICAgICAgICAgIGNvbG9yTGlnaHRlZCArPSBpbmNyZW1lbnQ7XFxuXFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgcmV0dXJuIGNvbG9yTGlnaHRlZDtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICB2ZWMyIG9mZnNldGVkVVYgPSB2VVY7XFxuICAgIG9mZnNldGVkVVYgPSBmcmFjdChvZmZzZXRlZFVWICsgdU1hdGVyaWFsT2Zmc2V0KTtcXG4gICAgaWYobWFudWFsbHlGbGlwWSl7XFxuICAgICAgICBvZmZzZXRlZFVWLnkgPSAxLjAgLSBvZmZzZXRlZFVWLnk7XFxuICAgIH1cXG5cXG4gICAgdmVjNCBkaWZmdXNlQ29sb3JTb3VyY2UgPSB1TWF0ZXJpYWxEaWZmdXNlVGV4dHVyZUZsYWcgPyB0ZXh0dXJlMkQodURpZmZ1c2VUZXh0dXJlLCBvZmZzZXRlZFVWKSA6IHZlYzQodURpZmZ1c2VDb2xvciwgMS4wKTtcXG5cXG4gICAgaWYodU1hdGVyaWFsVHlwZSA9PSBNQVRFUklBTF9UWVBFX1NUQU5EQVJEKXtcXG4gICAgICAgIHZlYzQgYW1iaWVudENvbG9yU291cmNlID0gdU1hdGVyaWFsQW1iaWVudFRleHR1cmVGbGFnID8gdGV4dHVyZTJEKHVBbWJpZW50VGV4dHVyZSwgb2Zmc2V0ZWRVVikgOiB2ZWM0KHVBbWJpZW50Q29sb3IsIDEuMCk7XFxuICAgICAgICB2ZWM0IHNwZWN1bGFyQ29sb3JTb3VyY2UgPSB1TWF0ZXJpYWxTcGVjdWxhclRleHR1cmVGbGFnID8gdGV4dHVyZTJEKHVTcGVjdWxhclRleHR1cmUsIG9mZnNldGVkVVYpIDogdmVjNCh1U3BlY3VsYXJDb2xvciwgMS4wKTtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoYXBwbHlMaWdodHMoYW1iaWVudENvbG9yU291cmNlLnh5eiwgZGlmZnVzZUNvbG9yU291cmNlLnh5eiwgc3BlY3VsYXJDb2xvclNvdXJjZS54eXopLCB1TWF0ZXJpYWxPcGFjaXR5KTtcXG4gICAgfWVsc2UgaWYodU1hdGVyaWFsVHlwZSA9PSBNQVRFUklBTF9UWVBFX1JBVyl7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGRpZmZ1c2VDb2xvclNvdXJjZS54eXosIHVNYXRlcmlhbE9wYWNpdHkpO1xcbiAgICB9XFxufVwifSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVVY7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1TU1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdU1vcnBoVGFyZ2V0RmxhZztcXG51bmlmb3JtIGZsb2F0IHVNb3JwaFBoYXNlO1xcbmF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjI7XFxuYXR0cmlidXRlIHZlYzIgYVVWMjtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsMjtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICB2ZWMzIGFQb3NpdGlvblJlcyA9IGFQb3NpdGlvbjtcXG4gICAgdmVjMiBhVVZSZXMgPSBhVVY7XFxuICAgIHZlYzMgYU5vcm1hbFJlcyA9IGFOb3JtYWw7XFxuXFxuICAgIGlmKHVNb3JwaFRhcmdldEZsYWcpe1xcbiAgICAgICAgYVBvc2l0aW9uUmVzID0gbWl4KGFQb3NpdGlvbiwgYVBvc2l0aW9uMiwgdU1vcnBoUGhhc2UpO1xcbiAgICAgICAgYVVWUmVzID0gbWl4KGFVViwgYVVWMiwgdU1vcnBoUGhhc2UpO1xcbiAgICAgICAgYU5vcm1hbFJlcyA9IG1peChhTm9ybWFsLCBhTm9ybWFsMiwgdU1vcnBoUGhhc2UpO1xcbiAgICB9XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdVBNYXRyaXggKiB1Vk1hdHJpeCAqIHVNTWF0cml4ICogdmVjNChhUG9zaXRpb25SZXMsIDEuMCk7XFxuXFxuICAgIHZVViA9IGFVVlJlcztcXG4gICAgdk5vcm1hbCA9IG5vcm1hbGl6ZSgodU1NYXRyaXggKiB2ZWM0KCBhTm9ybWFsUmVzLCAwLjApKS54eXopO1xcbiAgICB2UG9zaXRpb24gPSAodU1NYXRyaXggKiB2ZWM0KGFQb3NpdGlvblJlcywgMS4wKSkueHl6O1xcbn1cIn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGludCBtZXNoSWQ7XFxudm9pZCBtYWluKCkge1xcbiAgICBmbG9hdCBuID0gZmxvYXQobWVzaElkKTtcXG4gICAgZmxvYXQgbjEgPSBmcmFjdChuIC8gMTYuMCk7XFxuICAgIG4gPSBuIC8gMTYuMCAtIG4xO1xcbiAgICBmbG9hdCBuMiA9IGZyYWN0KG4gLyAxNi4wKTtcXG4gICAgbiA9IG4gLyAxNi4wIC0gbjI7XFxuICAgIGZsb2F0IG4zID0gZnJhY3QobiAvIDE2LjApO1xcbiAgICBuID0gbiAvIDE2LjAgLSBuMztcXG4gICAgZmxvYXQgbjQgPSBmcmFjdChuIC8gMTYuMCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobjEsIG4yLCBuMywgbjQpO1xcbn1cIn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCJhdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU1NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVNb3JwaFRhcmdldEZsYWc7XFxudW5pZm9ybSBmbG9hdCB1TW9ycGhQaGFzZTtcXG5hdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb24yO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgdmVjMyBhUG9zaXRpb25SZXMgPSBhUG9zaXRpb247XFxuXFxuICAgIGlmKHVNb3JwaFRhcmdldEZsYWcpe1xcbiAgICAgICAgYVBvc2l0aW9uUmVzID0gbWl4KGFQb3NpdGlvbiwgYVBvc2l0aW9uMiwgdU1vcnBoUGhhc2UpO1xcbiAgICB9XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdVBNYXRyaXggKiB1Vk1hdHJpeCAqIHVNTWF0cml4ICogdmVjNChhUG9zaXRpb25SZXMsIDEuMCk7XFxufVwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIsbil7ZnVuY3Rpb24gaShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxyPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9cmV0dXJuIEFycmF5LmZyb20oZSl9ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSksdGhpcy5jbGVhckNvbG9yPXtyOjIwMCxnOjIwMCxiOjIwMH0sdGhpcy5lbmdpbmU9bnVsbCx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsLHRoaXMubWVzaGVzPVtdLHRoaXMubGlnaHRzPVtdLHRoaXMucmVuZGVyTWFuYWdlcj1uZXcgcih0aGlzKSx0aGlzLmVuZ2luZT10fXJldHVybiBhKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVuZGVyTWFuYWdlci5yZW5kZXIoKX19LHtrZXk6XCJwaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO3JldHVybiBuLmZyYW1lYnVmZmVyTm90UmVhZHk/bnVsbDoociYmKHQ9dGhpcy5lbmdpbmUuaGVpZ2h0LXQpLFtdLmNvbmNhdChpKHRoaXMuZW5naW5lLnJlYWRGcmFtZWJ1ZmZlclBpeGVsKFwicGlja2VyXCIsZSx0KSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5yb3VuZChlLzE2KX0pLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDE2KmUrdH0sMCkpfX1dKSxlfSgpO3QuZGVmYXVsdD11LGUuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscigzOSkscigzKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocixuLGksbyxhLHUscyxsLGMsZixoKXtmdW5jdGlvbiBwKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZVt0XTtyZXR1cm4gcn1yZXR1cm4gQXJyYXkuZnJvbShlKX1mdW5jdGlvbiB2KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3YodGhpcyxlKSx0aGlzLnNjZW5lPW51bGwsdGhpcy5yZW5kZXJEYXRhPXt9LHRoaXMubmVlZFVwZGF0ZVJlbmRlckRhdGE9ITAsdGhpcy5zY2VuZT10fXJldHVybiB5KGUsW3trZXk6XCJjb21wb3NlTGlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2NlbmUsdD1lLmxpZ2h0cztpZih0Lmxlbmd0aD4xNil0aHJvdyBuZXcgRXJyb3IoXCJbRzNEXSBTY2VuZSBjb3VsZCBub3QgaGF2ZSBtb3JlIHRoYW4gMTYgbGlnaHRzLlwiKTtmb3IodmFyIGE9e3R5cGU6W10sY29sb3IxOltdLGNvbG9yMjpbXSxpbnRlbnNpdHk6W10scG9zaXRpb246W119LHU9MDt1PDE2O3UrKyl7dmFyIHM9dFt1XTtpZihzIGluc3RhbmNlb2Ygcil7dmFyIGwsYzthLnR5cGUucHVzaCgzKSwobD1hLmNvbG9yMSkucHVzaC5hcHBseShsLHAocy5nZXRDb2xvcigpKSksYS5jb2xvcjIucHVzaCgwLDAsMCksYS5pbnRlbnNpdHkucHVzaChzLmdldEludGVuc2l0eSgpKSwoYz1hLnBvc2l0aW9uKS5wdXNoLmFwcGx5KGMscChzLmdldERpcmVjdGlvbigpKSl9ZWxzZSBpZihzIGluc3RhbmNlb2Ygbil7dmFyIGYsaCx2O2EudHlwZS5wdXNoKDUpLChmPWEuY29sb3IxKS5wdXNoLmFwcGx5KGYscChzLmdldFNreSgpKSksKGg9YS5jb2xvcjIpLnB1c2guYXBwbHkoaCxwKHMuZ2V0R3JvdW5kKCkpKSxhLmludGVuc2l0eS5wdXNoKHMuZ2V0SW50ZW5zaXR5KCkpLCh2PWEucG9zaXRpb24pLnB1c2guYXBwbHkodixwKHMuZ2V0VXAoKSkpfWVsc2UgaWYocyBpbnN0YW5jZW9mIGkpe3ZhciB5O2EudHlwZS5wdXNoKDIpLCh5PWEuY29sb3IxKS5wdXNoLmFwcGx5KHkscChzLmdldENvbG9yKCkpKSxhLmNvbG9yMi5wdXNoKDAsMCwwKSxhLmludGVuc2l0eS5wdXNoKHMuZ2V0SW50ZW5zaXR5KCkpLGEucG9zaXRpb24ucHVzaCgwLDAsMCl9ZWxzZSBpZihzIGluc3RhbmNlb2Ygbyl7dmFyIGQsbTthLnR5cGUucHVzaCg0KSwoZD1hLmNvbG9yMSkucHVzaC5hcHBseShkLHAocy5nZXRDb2xvcigpKSksYS5jb2xvcjIucHVzaCgwLDAsMCksYS5pbnRlbnNpdHkucHVzaChzLmdldEludGVuc2l0eSgpKSwobT1hLnBvc2l0aW9uKS5wdXNoLmFwcGx5KG0scChzLmdldFBvc2l0aW9uKCkpKX1lbHNlIGEudHlwZS5wdXNoKDEpLGEuY29sb3IxLnB1c2goMCwwLDApLGEuY29sb3IyLnB1c2goMCwwLDApLGEuaW50ZW5zaXR5LnB1c2goMCksYS5wb3NpdGlvbi5wdXNoKDAsMCwwKX1yZXR1cm57dHlwZTpuZXcgSW50MzJBcnJheShhLnR5cGUpLGNvbG9yMTpuZXcgRmxvYXQzMkFycmF5KGEuY29sb3IxLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS8yNTV9KSksY29sb3IyOm5ldyBGbG9hdDMyQXJyYXkoYS5jb2xvcjIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKSxpbnRlbnNpdHk6bmV3IEZsb2F0MzJBcnJheShhLmludGVuc2l0eSkscG9zaXRpb246bmV3IEZsb2F0MzJBcnJheShhLnBvc2l0aW9uKX19fSx7a2V5OlwiZ3JvdXBNZXNoTGF5ZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNjZW5lLHQ9ZS5tZXNoZXMscj1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UmVuZGVyTGF5ZXJJbmRleCgpO3JbdF18fChyW3RdPVtdKSxyW3RdLnB1c2goZSl9KSxyLmZpbHRlcihCb29sZWFuKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuc2NlbmUuYWN0aXZlQ2FtZXJhKXt2YXIgZT10aGlzLmdyb3VwTWVzaExheWVycygpO3RoaXMucmVuZGVyTWFpbkxheWVyKGUpLGEuZnJhbWVidWZmZXJOb3RSZWFkeXx8dGhpcy5yZW5kZXJQaWNraW5nTGF5ZXIoZSl9fX0se2tleTpcInJlbmRlck1haW5MYXllclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLnNjZW5lLG49ci5lbmdpbmU7bi51c2VQcm9ncmFtKFwiZGVmYXVsdFwiKSxuLnVuaWZvcm0oXCJtYW51YWxseUZsaXBZXCIsW051bWJlcihhLm1hbnVhbGx5RmxpcFkpXSksci5lbmdpbmUudW5pZm9ybShcInVWTWF0cml4XCIsci5hY3RpdmVDYW1lcmEuZ2V0Vk1hdHJpeCgpKSxyLmVuZ2luZS51bmlmb3JtKFwidVBNYXRyaXhcIixyLmFjdGl2ZUNhbWVyYS5nZXRQTWF0cml4KCkpLHIuZW5naW5lLnVuaWZvcm0oXCJ1Q2FtZXJhUG9zaXRpb25cIixyLmFjdGl2ZUNhbWVyYS5nZXRQb3NpdGlvbigpKTt2YXIgaT10aGlzLmNvbXBvc2VMaWdodCgpO24udW5pZm9ybShcInVMaWdodFR5cGVcIixpLnR5cGUpLG4udW5pZm9ybShcInVMaWdodENvbG9yMVwiLGkuY29sb3IxKSxuLnVuaWZvcm0oXCJ1TGlnaHRDb2xvcjJcIixpLmNvbG9yMiksbi51bmlmb3JtKFwidUxpZ2h0SW50ZW5zaXR5XCIsaS5pbnRlbnNpdHkpLG4udW5pZm9ybShcInVMaWdodFBvc2l0aW9uXCIsaS5wb3NpdGlvbiksbi5jbGVhckNvbG9yQnVmZmVyKHIuY2xlYXJDb2xvciksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uY2xlYXJEZXB0aEJ1ZmZlcigpLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEdsb2JhbFZpc2liaWxpdHkoKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7dC5yZW5kZXJNZXNoTWFpbkxheWVyKGUpfSl9KX19LHtrZXk6XCJyZW5kZXJNZXNoTWFpbkxheWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zY2VuZSxyPXQuZW5naW5lO2lmKHIudW5pZm9ybShcInVNTWF0cml4XCIsZS5nZXRXb3JsZE1hdHJpeCgpKSxlIGluc3RhbmNlb2YgdSl7dmFyIG49ZS5nZXRNb3JwaFBoYXNlSW5mbygpLGk9bi5iZWZvcmUsbz1uLmFmdGVyLGE9bi5waGFzZSxwPWUubW9ycGhUYXJnZXRzR2VvbWV0cmllc1tpXS5nZXRCdWZmZXJzKCksdj1lLm1vcnBoVGFyZ2V0c0dlb21ldHJpZXNbb10uZ2V0QnVmZmVycygpO3IudW5pZm9ybShcInVNb3JwaFRhcmdldEZsYWdcIixbITBdKSxyLmF0dHJpYnV0ZShcImFQb3NpdGlvblwiLHAudmVydGljZXMpLHIuYXR0cmlidXRlKFwiYVVWXCIscC51dnMpLHIuYXR0cmlidXRlKFwiYU5vcm1hbFwiLHAubm9ybWFscyksci5hdHRyaWJ1dGUoXCJhUG9zaXRpb24yXCIsdi52ZXJ0aWNlcyksci5hdHRyaWJ1dGUoXCJhVVYyXCIsdi51dnMpLHIuYXR0cmlidXRlKFwiYU5vcm1hbDJcIix2Lm5vcm1hbHMpLHIudW5pZm9ybShcInVNb3JwaFBoYXNlXCIsW2FdKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBzfHxlIGluc3RhbmNlb2YgbCl7dmFyIHk9ZS5nZW9tZXRyeS5nZXRCdWZmZXJzKCk7ci51bmlmb3JtKFwidU1vcnBoVGFyZ2V0RmxhZ1wiLFshMV0pLHIuYXR0cmlidXRlKFwiYVBvc2l0aW9uXCIseS52ZXJ0aWNlcyksci5hdHRyaWJ1dGUoXCJhUG9zaXRpb24yXCIseS52ZXJ0aWNlcyksci5hdHRyaWJ1dGUoXCJhVVZcIix5LnV2cyksci5hdHRyaWJ1dGUoXCJhVVYyXCIseS51dnMpLHIuYXR0cmlidXRlKFwiYU5vcm1hbFwiLHkubm9ybWFscyksci5hdHRyaWJ1dGUoXCJhTm9ybWFsMlwiLHkubm9ybWFscyl9dmFyIGQ9ZS5tYXRlcmlhbHM7Zm9yKHZhciBtIGluIGQpe3ZhciBiPW0sZz1kW2JdO2cgaW5zdGFuY2VvZiBjPyhyLnVuaWZvcm0oXCJ1TWF0ZXJpYWxUeXBlXCIsWzJdKSxyLnVuaWZvcm0oXCJ1TWF0ZXJpYWxBbWJpZW50VGV4dHVyZUZsYWdcIixbTnVtYmVyKGcuZ2V0QW1iaWVudFNvdXJjZSgpPT09Zi5URVhUVVJFKV0pLHIudW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VUZXh0dXJlRmxhZ1wiLFtOdW1iZXIoZy5nZXREaWZmdXNlU291cmNlKCk9PT1mLlRFWFRVUkUpXSksci51bmlmb3JtKFwidU1hdGVyaWFsU3BlY3VsYXJUZXh0dXJlRmxhZ1wiLFtOdW1iZXIoZy5nZXRTcGVjdWxhclNvdXJjZSgpPT09Zi5URVhUVVJFKV0pLGcuZ2V0VXNlRW52TWFwKCk/KHIudW5pZm9ybShcInVFbnZNYXBGbGFnXCIsW051bWJlcighMCldKSxyLnVuaWZvcm0oXCJ1RW52TWFwVGV4dHVyZVwiLGcuZW52TWFwVGV4dHVyZS5nZXRUZXh0dXJlKCkpKTpyLnVuaWZvcm0oXCJ1RW52TWFwRmxhZ1wiLFtOdW1iZXIoITEpXSksci51bmlmb3JtKFwidUFtYmllbnRDb2xvclwiLGcuZ2V0QW1iaWVudENvbG9yKCkpLHIudW5pZm9ybShcInVBbWJpZW50VGV4dHVyZVwiLGcuYW1iaWVudFRleHR1cmUuZ2V0VGV4dHVyZSgpKSxyLnVuaWZvcm0oXCJ1RGlmZnVzZUNvbG9yXCIsZy5nZXREaWZmdXNlQ29sb3IoKSksci51bmlmb3JtKFwidURpZmZ1c2VUZXh0dXJlXCIsZy5kaWZmdXNlVGV4dHVyZS5nZXRUZXh0dXJlKCkpLHIudW5pZm9ybShcInVTcGVjdWxhckNvbG9yXCIsZy5nZXRTcGVjdWxhckNvbG9yKCkpLHIudW5pZm9ybShcInVTcGVjdWxhclRleHR1cmVcIixnLnNwZWN1bGFyVGV4dHVyZS5nZXRUZXh0dXJlKCkpLHIudW5pZm9ybShcInVHbG9zc2luZXNzXCIsW2cuZ2V0R2xvc3NpbmVzcygpXSkpOmcgaW5zdGFuY2VvZiBoJiYoci51bmlmb3JtKFwidU1hdGVyaWFsVHlwZVwiLFsxXSksZy5nZXRTb3VyY2UoKT09PWYuQ09MT1I/ci51bmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVRleHR1cmVGbGFnXCIsW051bWJlcighMSldKTpyLnVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlVGV4dHVyZUZsYWdcIixbTnVtYmVyKCEwKV0pLHIudW5pZm9ybShcInVEaWZmdXNlQ29sb3JcIixnLmdldENvbG9yKCkpLHIudW5pZm9ybShcInVEaWZmdXNlVGV4dHVyZVwiLGcudGV4dHVyZS5nZXRUZXh0dXJlKCkpKSxyLnVuaWZvcm0oXCJ1TWF0ZXJpYWxPcGFjaXR5XCIsW2cuZ2V0T3BhY2l0eSgpXSksci51bmlmb3JtKFwidU1hdGVyaWFsT2Zmc2V0XCIsZy5nZXRPZmZzZXQoKSksZy5nZXRPcGFjaXR5KCk8MT8oci5lbmFibGVCbGVuZCgpLHIuZGlzYWJsZURlcHRoTWFzaygpKTooci5lbmFibGVEZXB0aE1hc2soKSxyLmRpc2FibGVCbGVuZCgpKTt2YXIgTT1lLmdlb21ldHJ5LmdldEJ1ZmZlcnMoKTtyLmVsZW1lbnRzKE0uaW5kaWNlc1tiXSksZSBpbnN0YW5jZW9mIGw/KHIubGluZVdpZHRoKGUubGluZVdpZHRoKSxyLmRyYXcoTS5pbmRpY2VzTGVuZ3RoW2JdLHtsaW5lczohMH0pKTpyLmRyYXcoTS5pbmRpY2VzTGVuZ3RoW2JdKX1lLmlzRGlydHk9ITF9fSx7a2V5OlwicmVuZGVyUGlja2luZ0xheWVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuc2NlbmUsbj1yLmVuZ2luZTtuLnVzZVByb2dyYW0oXCJwaWNrZXJcIiksbi5iaW5kRnJhbWVidWZmZXIoXCJwaWNrZXJcIiksbi51bmlmb3JtKFwidVZNYXRyaXhcIixyLmFjdGl2ZUNhbWVyYS5nZXRWTWF0cml4KCkpLG4udW5pZm9ybShcInVQTWF0cml4XCIsci5hY3RpdmVDYW1lcmEuZ2V0UE1hdHJpeCgpKSxuLmNsZWFyQ29sb3JCdWZmZXIoe3I6MCxnOjAsYjowLGE6MX0pLGUuZm9yRWFjaChmdW5jdGlvbihlKXtuLmNsZWFyRGVwdGhCdWZmZXIoKSxlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQaWNrYWJsZSgpfSkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnJlbmRlck1lc2hQaWNraW5nTGF5ZXIoZSl9KX0pLG4uYmluZEZyYW1lYnVmZmVyKG51bGwpfX0se2tleTpcInJlbmRlck1lc2hQaWNraW5nTGF5ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjZW5lLHI9dC5lbmdpbmU7aWYoci51bmlmb3JtKFwidU1NYXRyaXhcIixlLmdldFdvcmxkTWF0cml4KCkpLGUgaW5zdGFuY2VvZiB1KXt2YXIgbj1lLmdldE1vcnBoUGhhc2VJbmZvKCksaT1uLmJlZm9yZSxvPW4uYWZ0ZXIsYT1uLnBoYXNlLGM9ZS5tb3JwaFRhcmdldHNHZW9tZXRyaWVzW2ldLmdldEJ1ZmZlcnMoKSxmPWUubW9ycGhUYXJnZXRzR2VvbWV0cmllc1tvXS5nZXRCdWZmZXJzKCk7ci51bmlmb3JtKFwidU1vcnBoVGFyZ2V0RmxhZ1wiLFshMF0pLHIuYXR0cmlidXRlKFwiYVBvc2l0aW9uXCIsYy52ZXJ0aWNlcyksci5hdHRyaWJ1dGUoXCJhUG9zaXRpb24yXCIsZi52ZXJ0aWNlcyksci51bmlmb3JtKFwidU1vcnBoUGhhc2VcIixbYV0pfWVsc2UgaWYoZSBpbnN0YW5jZW9mIHN8fGUgaW5zdGFuY2VvZiBsKXt2YXIgaD1lLmdlb21ldHJ5LmdldEJ1ZmZlcnMoKTtyLnVuaWZvcm0oXCJ1TW9ycGhUYXJnZXRGbGFnXCIsWyExXSksci5hdHRyaWJ1dGUoXCJhUG9zaXRpb25cIixoLnZlcnRpY2VzKSxyLmF0dHJpYnV0ZShcImFQb3NpdGlvbjJcIixoLnZlcnRpY2VzKSxyLnVuaWZvcm0oXCJ1TW9ycGhQaGFzZVwiLFswXSl9ci51bmlmb3JtKFwibWVzaElkXCIsW2UuaWRdKTt2YXIgcD1lLm1hdGVyaWFscztmb3IodmFyIHYgaW4gcCl7dmFyIHk9KHBbdl0sZS5nZW9tZXRyeS5nZXRCdWZmZXJzKCkpO3IuZWxlbWVudHMoeS5pbmRpY2VzW3ZdKSxlIGluc3RhbmNlb2YgbD8oci5saW5lV2lkdGgoZS5saW5lV2lkdGgpLHIuZHJhdyh5LmluZGljZXNMZW5ndGhbdl0se2xpbmVzOiEwfSkpOnIuZHJhdyh5LmluZGljZXNMZW5ndGhbdl0pfX19XSksZX0oKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoMTMpLHIoMTQpLHIoMTUpLHIoMTYpLHIoMykscigxNykscig1KSxyKDExKSxyKDcpLHIoNikscigxMikpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09MSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX1mdW5jdGlvbiBpKGUpe3ZhciB0PW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVs4XT10WzhdLGVbOV09dFs5XSxlWzEwXT10WzEwXSxlWzExXT10WzExXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfWZ1bmN0aW9uIGEoZSx0LHIsbixpLG8sYSx1LHMsbCxjLGYsaCxwLHYseSl7dmFyIGQ9bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIGRbMF09ZSxkWzFdPXQsZFsyXT1yLGRbM109bixkWzRdPWksZFs1XT1vLGRbNl09YSxkWzddPXUsZFs4XT1zLGRbOV09bCxkWzEwXT1jLGRbMTFdPWYsZFsxMl09aCxkWzEzXT1wLGRbMTRdPXYsZFsxNV09eSxkfWZ1bmN0aW9uIHUoZSx0LHIsbixpLG8sYSx1LHMsbCxjLGYsaCxwLHYseSxkKXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW4sZVszXT1pLGVbNF09byxlWzVdPWEsZVs2XT11LGVbN109cyxlWzhdPWwsZVs5XT1jLGVbMTBdPWYsZVsxMV09aCxlWzEyXT1wLGVbMTNdPXYsZVsxNF09eSxlWzE1XT1kLGV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPTEsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTEsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24gbChlLHQpe2lmKGU9PT10KXt2YXIgcj10WzFdLG49dFsyXSxpPXRbM10sbz10WzZdLGE9dFs3XSx1PXRbMTFdO2VbMV09dFs0XSxlWzJdPXRbOF0sZVszXT10WzEyXSxlWzRdPXIsZVs2XT10WzldLGVbN109dFsxM10sZVs4XT1uLGVbOV09byxlWzExXT10WzE0XSxlWzEyXT1pLGVbMTNdPWEsZVsxNF09dX1lbHNlIGVbMF09dFswXSxlWzFdPXRbNF0sZVsyXT10WzhdLGVbM109dFsxMl0sZVs0XT10WzFdLGVbNV09dFs1XSxlWzZdPXRbOV0sZVs3XT10WzEzXSxlWzhdPXRbMl0sZVs5XT10WzZdLGVbMTBdPXRbMTBdLGVbMTFdPXRbMTRdLGVbMTJdPXRbM10sZVsxM109dFs3XSxlWzE0XT10WzExXSxlWzE1XT10WzE1XTtyZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXRbNF0sdT10WzVdLHM9dFs2XSxsPXRbN10sYz10WzhdLGY9dFs5XSxoPXRbMTBdLHA9dFsxMV0sdj10WzEyXSx5PXRbMTNdLGQ9dFsxNF0sbT10WzE1XSxiPXIqdS1uKmEsZz1yKnMtaSphLE09cipsLW8qYSxfPW4qcy1pKnUseD1uKmwtbyp1LFQ9aSpsLW8qcyxFPWMqeS1mKnYsUD1jKmQtaCp2LHc9YyptLXAqdixPPWYqZC1oKnksQT1mKm0tcCp5LFI9aCptLXAqZCxDPWIqUi1nKkErTSpPK18qdy14KlArVCpFO3JldHVybiBDPyhDPTEvQyxlWzBdPSh1KlItcypBK2wqTykqQyxlWzFdPShpKkEtbipSLW8qTykqQyxlWzJdPSh5KlQtZCp4K20qXykqQyxlWzNdPShoKngtZipULXAqXykqQyxlWzRdPShzKnctYSpSLWwqUCkqQyxlWzVdPShyKlItaSp3K28qUCkqQyxlWzZdPShkKk0tdipULW0qZykqQyxlWzddPShjKlQtaCpNK3AqZykqQyxlWzhdPShhKkEtdSp3K2wqRSkqQyxlWzldPShuKnctcipBLW8qRSkqQyxlWzEwXT0odip4LXkqTSttKmIpKkMsZVsxMV09KGYqTS1jKngtcCpiKSpDLGVbMTJdPSh1KlAtYSpPLXMqRSkqQyxlWzEzXT0ocipPLW4qUCtpKkUpKkMsZVsxNF09KHkqZy12Kl8tZCpiKSpDLGVbMTVdPShjKl8tZipnK2gqYikqQyxlKTpudWxsfWZ1bmN0aW9uIGYoZSx0KXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sbz10WzNdLGE9dFs0XSx1PXRbNV0scz10WzZdLGw9dFs3XSxjPXRbOF0sZj10WzldLGg9dFsxMF0scD10WzExXSx2PXRbMTJdLHk9dFsxM10sZD10WzE0XSxtPXRbMTVdO3JldHVybiBlWzBdPXUqKGgqbS1wKmQpLWYqKHMqbS1sKmQpK3kqKHMqcC1sKmgpLGVbMV09LShuKihoKm0tcCpkKS1mKihpKm0tbypkKSt5KihpKnAtbypoKSksZVsyXT1uKihzKm0tbCpkKS11KihpKm0tbypkKSt5KihpKmwtbypzKSxlWzNdPS0obioocypwLWwqaCktdSooaSpwLW8qaCkrZiooaSpsLW8qcykpLGVbNF09LShhKihoKm0tcCpkKS1jKihzKm0tbCpkKSt2KihzKnAtbCpoKSksZVs1XT1yKihoKm0tcCpkKS1jKihpKm0tbypkKSt2KihpKnAtbypoKSxlWzZdPS0ocioocyptLWwqZCktYSooaSptLW8qZCkrdiooaSpsLW8qcykpLGVbN109cioocypwLWwqaCktYSooaSpwLW8qaCkrYyooaSpsLW8qcyksZVs4XT1hKihmKm0tcCp5KS1jKih1Km0tbCp5KSt2Kih1KnAtbCpmKSxlWzldPS0ociooZiptLXAqeSktYyoobiptLW8qeSkrdioobipwLW8qZikpLGVbMTBdPXIqKHUqbS1sKnkpLWEqKG4qbS1vKnkpK3YqKG4qbC1vKnUpLGVbMTFdPS0ocioodSpwLWwqZiktYSoobipwLW8qZikrYyoobipsLW8qdSkpLGVbMTJdPS0oYSooZipkLWgqeSktYyoodSpkLXMqeSkrdioodSpoLXMqZikpLGVbMTNdPXIqKGYqZC1oKnkpLWMqKG4qZC1pKnkpK3YqKG4qaC1pKmYpLGVbMTRdPS0ocioodSpkLXMqeSktYSoobipkLWkqeSkrdioobipzLWkqdSkpLGVbMTVdPXIqKHUqaC1zKmYpLWEqKG4qaC1pKmYpK2MqKG4qcy1pKnUpLGV9ZnVuY3Rpb24gaChlKXt2YXIgdD1lWzBdLHI9ZVsxXSxuPWVbMl0saT1lWzNdLG89ZVs0XSxhPWVbNV0sdT1lWzZdLHM9ZVs3XSxsPWVbOF0sYz1lWzldLGY9ZVsxMF0saD1lWzExXSxwPWVbMTJdLHY9ZVsxM10seT1lWzE0XSxkPWVbMTVdO3JldHVybih0KmEtcipvKSooZipkLWgqeSktKHQqdS1uKm8pKihjKmQtaCp2KSsodCpzLWkqbykqKGMqeS1mKnYpKyhyKnUtbiphKSoobCpkLWgqcCktKHIqcy1pKmEpKihsKnktZipwKSsobipzLWkqdSkqKGwqdi1jKnApfWZ1bmN0aW9uIHAoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLGY9dFs4XSxoPXRbOV0scD10WzEwXSx2PXRbMTFdLHk9dFsxMl0sZD10WzEzXSxtPXRbMTRdLGI9dFsxNV0sZz1yWzBdLE09clsxXSxfPXJbMl0seD1yWzNdO3JldHVybiBlWzBdPWcqbitNKnUrXypmK3gqeSxlWzFdPWcqaStNKnMrXypoK3gqZCxlWzJdPWcqbytNKmwrXypwK3gqbSxlWzNdPWcqYStNKmMrXyp2K3gqYixnPXJbNF0sTT1yWzVdLF89cls2XSx4PXJbN10sZVs0XT1nKm4rTSp1K18qZit4KnksZVs1XT1nKmkrTSpzK18qaCt4KmQsZVs2XT1nKm8rTSpsK18qcCt4Km0sZVs3XT1nKmErTSpjK18qdit4KmIsZz1yWzhdLE09cls5XSxfPXJbMTBdLHg9clsxMV0sZVs4XT1nKm4rTSp1K18qZit4KnksZVs5XT1nKmkrTSpzK18qaCt4KmQsZVsxMF09ZypvK00qbCtfKnAreCptLGVbMTFdPWcqYStNKmMrXyp2K3gqYixnPXJbMTJdLE09clsxM10sXz1yWzE0XSx4PXJbMTVdLGVbMTJdPWcqbitNKnUrXypmK3gqeSxlWzEzXT1nKmkrTSpzK18qaCt4KmQsZVsxNF09ZypvK00qbCtfKnAreCptLGVbMTVdPWcqYStNKmMrXyp2K3gqYixlfWZ1bmN0aW9uIHYoZSx0LHIpe3ZhciBuPXJbMF0saT1yWzFdLG89clsyXSxhPXZvaWQgMCx1PXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMCxjPXZvaWQgMCxmPXZvaWQgMCxoPXZvaWQgMCxwPXZvaWQgMCx2PXZvaWQgMCx5PXZvaWQgMCxkPXZvaWQgMCxtPXZvaWQgMDtyZXR1cm4gdD09PWU/KGVbMTJdPXRbMF0qbit0WzRdKmkrdFs4XSpvK3RbMTJdLGVbMTNdPXRbMV0qbit0WzVdKmkrdFs5XSpvK3RbMTNdLGVbMTRdPXRbMl0qbit0WzZdKmkrdFsxMF0qbyt0WzE0XSxlWzE1XT10WzNdKm4rdFs3XSppK3RbMTFdKm8rdFsxNV0pOihhPXRbMF0sdT10WzFdLHM9dFsyXSxsPXRbM10sYz10WzRdLGY9dFs1XSxoPXRbNl0scD10WzddLHY9dFs4XSx5PXRbOV0sZD10WzEwXSxtPXRbMTFdLGVbMF09YSxlWzFdPXUsZVsyXT1zLGVbM109bCxlWzRdPWMsZVs1XT1mLGVbNl09aCxlWzddPXAsZVs4XT12LGVbOV09eSxlWzEwXT1kLGVbMTFdPW0sZVsxMl09YSpuK2MqaSt2Km8rdFsxMl0sZVsxM109dSpuK2YqaSt5Km8rdFsxM10sZVsxNF09cypuK2gqaStkKm8rdFsxNF0sZVsxNV09bCpuK3AqaSttKm8rdFsxNV0pLGV9ZnVuY3Rpb24geShlLHQscil7dmFyIG49clswXSxpPXJbMV0sbz1yWzJdO3JldHVybiBlWzBdPXRbMF0qbixlWzFdPXRbMV0qbixlWzJdPXRbMl0qbixlWzNdPXRbM10qbixlWzRdPXRbNF0qaSxlWzVdPXRbNV0qaSxlWzZdPXRbNl0qaSxlWzddPXRbN10qaSxlWzhdPXRbOF0qbyxlWzldPXRbOV0qbyxlWzEwXT10WzEwXSpvLGVbMTFdPXRbMTFdKm8sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX1mdW5jdGlvbiBkKGUsdCxyLG4pe3ZhciBpPW5bMF0sbz1uWzFdLGE9blsyXSx1PU1hdGguc3FydChpKmkrbypvK2EqYSkscz12b2lkIDAsbD12b2lkIDAsYz12b2lkIDAsZj12b2lkIDAsaD12b2lkIDAscD12b2lkIDAsdj12b2lkIDAseT12b2lkIDAsZD12b2lkIDAsbT12b2lkIDAsYj12b2lkIDAsZz12b2lkIDAsTT12b2lkIDAsXz12b2lkIDAseD12b2lkIDAsVD12b2lkIDAsRT12b2lkIDAsUD12b2lkIDAsdz12b2lkIDAsTz12b2lkIDAsQT12b2lkIDAsUj12b2lkIDAsQz12b2lkIDAsaj12b2lkIDA7cmV0dXJuIE1hdGguYWJzKHUpPEg/bnVsbDoodT0xL3UsaSo9dSxvKj11LGEqPXUscz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpLGM9MS1sLGY9dFswXSxoPXRbMV0scD10WzJdLHY9dFszXSx5PXRbNF0sZD10WzVdLG09dFs2XSxiPXRbN10sZz10WzhdLE09dFs5XSxfPXRbMTBdLHg9dFsxMV0sVD1pKmkqYytsLEU9byppKmMrYSpzLFA9YSppKmMtbypzLHc9aSpvKmMtYSpzLE89bypvKmMrbCxBPWEqbypjK2kqcyxSPWkqYSpjK28qcyxDPW8qYSpjLWkqcyxqPWEqYSpjK2wsZVswXT1mKlQreSpFK2cqUCxlWzFdPWgqVCtkKkUrTSpQLGVbMl09cCpUK20qRStfKlAsZVszXT12KlQrYipFK3gqUCxlWzRdPWYqdyt5Kk8rZypBLGVbNV09aCp3K2QqTytNKkEsZVs2XT1wKncrbSpPK18qQSxlWzddPXYqdytiKk8reCpBLGVbOF09ZipSK3kqQytnKmosZVs5XT1oKlIrZCpDK00qaixlWzEwXT1wKlIrbSpDK18qaixlWzExXT12KlIrYipDK3gqaix0IT09ZSYmKGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlKX1mdW5jdGlvbiBtKGUsdCxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLG89dFs0XSxhPXRbNV0sdT10WzZdLHM9dFs3XSxsPXRbOF0sYz10WzldLGY9dFsxMF0saD10WzExXTtyZXR1cm4gdCE9PWUmJihlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbNF09byppK2wqbixlWzVdPWEqaStjKm4sZVs2XT11KmkrZipuLGVbN109cyppK2gqbixlWzhdPWwqaS1vKm4sZVs5XT1jKmktYSpuLGVbMTBdPWYqaS11Km4sZVsxMV09aCppLXMqbixlfWZ1bmN0aW9uIGIoZSx0LHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mociksbz10WzBdLGE9dFsxXSx1PXRbMl0scz10WzNdLGw9dFs4XSxjPXRbOV0sZj10WzEwXSxoPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVswXT1vKmktbCpuLGVbMV09YSppLWMqbixlWzJdPXUqaS1mKm4sZVszXT1zKmktaCpuLGVbOF09bypuK2wqaSxlWzldPWEqbitjKmksZVsxMF09dSpuK2YqaSxlWzExXT1zKm4raCppLGV9ZnVuY3Rpb24gZyhlLHQscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxvPXRbMF0sYT10WzFdLHU9dFsyXSxzPXRbM10sbD10WzRdLGM9dFs1XSxmPXRbNl0saD10WzddO3JldHVybiB0IT09ZSYmKGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09byppK2wqbixlWzFdPWEqaStjKm4sZVsyXT11KmkrZipuLGVbM109cyppK2gqbixlWzRdPWwqaS1vKm4sZVs1XT1jKmktYSpuLGVbNl09ZippLXUqbixlWzddPWgqaS1zKm4sZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09dFswXSxlWzEzXT10WzFdLGVbMTRdPXRbMl0sZVsxNV09MSxlfWZ1bmN0aW9uIF8oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXRbMV0sZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPXRbMl0sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24geChlLHQscil7dmFyIG49clswXSxpPXJbMV0sbz1yWzJdLGE9TWF0aC5zcXJ0KG4qbitpKmkrbypvKSx1PXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMDtyZXR1cm4gTWF0aC5hYnMoYSk8SD9udWxsOihhPTEvYSxuKj1hLGkqPWEsbyo9YSx1PU1hdGguc2luKHQpLHM9TWF0aC5jb3ModCksbD0xLXMsZVswXT1uKm4qbCtzLGVbMV09aSpuKmwrbyp1LGVbMl09bypuKmwtaSp1LGVbM109MCxlWzRdPW4qaSpsLW8qdSxlWzVdPWkqaSpsK3MsZVs2XT1vKmkqbCtuKnUsZVs3XT0wLGVbOF09bipvKmwraSp1LGVbOV09aSpvKmwtbip1LGVbMTBdPW8qbypsK3MsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGUpfWZ1bmN0aW9uIFQoZSx0KXt2YXIgcj1NYXRoLnNpbih0KSxuPU1hdGguY29zKHQpO3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09bixlWzZdPXIsZVs3XT0wLGVbOF09MCxlWzldPS1yLGVbMTBdPW4sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24gRShlLHQpe3ZhciByPU1hdGguc2luKHQpLG49TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09bixlWzFdPTAsZVsyXT0tcixlWzNdPTAsZVs0XT0wLGVbNV09MSxlWzZdPTAsZVs3XT0wLGVbOF09cixlWzldPTAsZVsxMF09bixlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX1mdW5jdGlvbiBQKGUsdCl7dmFyIHI9TWF0aC5zaW4odCksbj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1uLGVbMV09cixlWzJdPTAsZVszXT0wLGVbNF09LXIsZVs1XT1uLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIHcoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT1uK24scz1pK2ksbD1vK28sYz1uKnUsZj1uKnMsaD1uKmwscD1pKnMsdj1pKmwseT1vKmwsZD1hKnUsbT1hKnMsYj1hKmw7cmV0dXJuIGVbMF09MS0ocCt5KSxlWzFdPWYrYixlWzJdPWgtbSxlWzNdPTAsZVs0XT1mLWIsZVs1XT0xLShjK3kpLGVbNl09ditkLGVbN109MCxlWzhdPWgrbSxlWzldPXYtZCxlWzEwXT0xLShjK3ApLGVbMTFdPTAsZVsxMl09clswXSxlWzEzXT1yWzFdLGVbMTRdPXJbMl0sZVsxNV09MSxlfWZ1bmN0aW9uIE8oZSx0KXtyZXR1cm4gZVswXT10WzEyXSxlWzFdPXRbMTNdLGVbMl09dFsxNF0sZX1mdW5jdGlvbiBBKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFs0XSxhPXRbNV0sdT10WzZdLHM9dFs4XSxsPXRbOV0sYz10WzEwXTtyZXR1cm4gZVswXT1NYXRoLnNxcnQocipyK24qbitpKmkpLGVbMV09TWF0aC5zcXJ0KG8qbythKmErdSp1KSxlWzJdPU1hdGguc3FydChzKnMrbCpsK2MqYyksZX1mdW5jdGlvbiBSKGUsdCl7dmFyIHI9dFswXSt0WzVdK3RbMTBdLG49MDtyZXR1cm4gcj4wPyhuPTIqTWF0aC5zcXJ0KHIrMSksZVszXT0uMjUqbixlWzBdPSh0WzZdLXRbOV0pL24sZVsxXT0odFs4XS10WzJdKS9uLGVbMl09KHRbMV0tdFs0XSkvbik6dFswXT50WzVdJnRbMF0+dFsxMF0/KG49MipNYXRoLnNxcnQoMSt0WzBdLXRbNV0tdFsxMF0pLGVbM109KHRbNl0tdFs5XSkvbixlWzBdPS4yNSpuLGVbMV09KHRbMV0rdFs0XSkvbixlWzJdPSh0WzhdK3RbMl0pL24pOnRbNV0+dFsxMF0/KG49MipNYXRoLnNxcnQoMSt0WzVdLXRbMF0tdFsxMF0pLGVbM109KHRbOF0tdFsyXSkvbixlWzBdPSh0WzFdK3RbNF0pL24sZVsxXT0uMjUqbixlWzJdPSh0WzZdK3RbOV0pL24pOihuPTIqTWF0aC5zcXJ0KDErdFsxMF0tdFswXS10WzVdKSxlWzNdPSh0WzFdLXRbNF0pL24sZVswXT0odFs4XSt0WzJdKS9uLGVbMV09KHRbNl0rdFs5XSkvbixlWzJdPS4yNSpuKSxlfWZ1bmN0aW9uIEMoZSx0LHIsbil7dmFyIGk9dFswXSxvPXRbMV0sYT10WzJdLHU9dFszXSxzPWkraSxsPW8rbyxjPWErYSxmPWkqcyxoPWkqbCxwPWkqYyx2PW8qbCx5PW8qYyxkPWEqYyxtPXUqcyxiPXUqbCxnPXUqYyxNPW5bMF0sXz1uWzFdLHg9blsyXTtyZXR1cm4gZVswXT0oMS0oditkKSkqTSxlWzFdPShoK2cpKk0sZVsyXT0ocC1iKSpNLGVbM109MCxlWzRdPShoLWcpKl8sZVs1XT0oMS0oZitkKSkqXyxlWzZdPSh5K20pKl8sZVs3XT0wLGVbOF09KHArYikqeCxlWzldPSh5LW0pKngsZVsxMF09KDEtKGYrdikpKngsZVsxMV09MCxlWzEyXT1yWzBdLGVbMTNdPXJbMV0sZVsxNF09clsyXSxlWzE1XT0xLGV9ZnVuY3Rpb24gaihlLHQscixuLGkpe3ZhciBvPXRbMF0sYT10WzFdLHU9dFsyXSxzPXRbM10sbD1vK28sYz1hK2EsZj11K3UsaD1vKmwscD1vKmMsdj1vKmYseT1hKmMsZD1hKmYsbT11KmYsYj1zKmwsZz1zKmMsTT1zKmYsXz1uWzBdLHg9blsxXSxUPW5bMl0sRT1pWzBdLFA9aVsxXSx3PWlbMl07cmV0dXJuIGVbMF09KDEtKHkrbSkpKl8sZVsxXT0ocCtNKSpfLGVbMl09KHYtZykqXyxlWzNdPTAsZVs0XT0ocC1NKSp4LGVbNV09KDEtKGgrbSkpKngsZVs2XT0oZCtiKSp4LGVbN109MCxlWzhdPSh2K2cpKlQsZVs5XT0oZC1iKSpULGVbMTBdPSgxLShoK3kpKSpULGVbMTFdPTAsZVsxMl09clswXStFLShlWzBdKkUrZVs0XSpQK2VbOF0qdyksZVsxM109clsxXStQLShlWzFdKkUrZVs1XSpQK2VbOV0qdyksZVsxNF09clsyXSt3LShlWzJdKkUrZVs2XSpQK2VbMTBdKncpLGVbMTVdPTEsZX1mdW5jdGlvbiBGKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXIrcix1PW4rbixzPWkraSxsPXIqYSxjPW4qYSxmPW4qdSxoPWkqYSxwPWkqdSx2PWkqcyx5PW8qYSxkPW8qdSxtPW8qcztyZXR1cm4gZVswXT0xLWYtdixlWzFdPWMrbSxlWzJdPWgtZCxlWzNdPTAsZVs0XT1jLW0sZVs1XT0xLWwtdixlWzZdPXAreSxlWzddPTAsZVs4XT1oK2QsZVs5XT1wLXksZVsxMF09MS1sLWYsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24gayhlLHQscixuLGksbyxhKXt2YXIgdT0xLyhyLXQpLHM9MS8oaS1uKSxsPTEvKG8tYSk7cmV0dXJuIGVbMF09MipvKnUsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09MipvKnMsZVs2XT0wLGVbN109MCxlWzhdPShyK3QpKnUsZVs5XT0oaStuKSpzLGVbMTBdPShhK28pKmwsZVsxMV09LTEsZVsxMl09MCxlWzEzXT0wLGVbMTRdPWEqbyoyKmwsZVsxNV09MCxlfWZ1bmN0aW9uIEwoZSx0LHIsbixpKXt2YXIgbz0xL01hdGgudGFuKHQvMiksYT0xLyhuLWkpO3JldHVybiBlWzBdPW8vcixlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1vLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0oaStuKSphLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT0yKmkqbiphLGVbMTVdPTAsZX1mdW5jdGlvbiBTKGUsdCxyLG4pe3ZhciBpPU1hdGgudGFuKHQudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxvPU1hdGgudGFuKHQuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLGE9TWF0aC50YW4odC5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksdT1NYXRoLnRhbih0LnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCkscz0yLyhhK3UpLGw9Mi8oaStvKTtyZXR1cm4gZVswXT1zLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPWwsZVs2XT0wLGVbN109MCxlWzhdPS0oYS11KSpzKi41LGVbOV09KGktbykqbCouNSxlWzEwXT1uLyhyLW4pLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT1uKnIvKHItbiksZVsxNV09MCxlfWZ1bmN0aW9uIEQoZSx0LHIsbixpLG8sYSl7dmFyIHU9MS8odC1yKSxzPTEvKG4taSksbD0xLyhvLWEpO3JldHVybiBlWzBdPS0yKnUsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqcyxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MipsLGVbMTFdPTAsZVsxMl09KHQrcikqdSxlWzEzXT0oaStuKSpzLGVbMTRdPShhK28pKmwsZVsxNV09MSxlfWZ1bmN0aW9uIEkoZSx0LHIsbil7dmFyIGk9dm9pZCAwLG89dm9pZCAwLGE9dm9pZCAwLHU9dm9pZCAwLGw9dm9pZCAwLGM9dm9pZCAwLGY9dm9pZCAwLGg9dm9pZCAwLHA9dm9pZCAwLHY9dm9pZCAwLHk9dFswXSxkPXRbMV0sbT10WzJdLGI9blswXSxnPW5bMV0sTT1uWzJdLF89clswXSx4PXJbMV0sVD1yWzJdO3JldHVybiBNYXRoLmFicyh5LV8pPEgmJk1hdGguYWJzKGQteCk8SCYmTWF0aC5hYnMobS1UKTxIP3MoZSk6KGY9eS1fLGg9ZC14LHA9bS1ULHY9MS9NYXRoLnNxcnQoZipmK2gqaCtwKnApLGYqPXYsaCo9dixwKj12LGk9ZypwLU0qaCxvPU0qZi1iKnAsYT1iKmgtZypmLHY9TWF0aC5zcXJ0KGkqaStvKm8rYSphKSx2Pyh2PTEvdixpKj12LG8qPXYsYSo9dik6KGk9MCxvPTAsYT0wKSx1PWgqYS1wKm8sbD1wKmktZiphLGM9ZipvLWgqaSx2PU1hdGguc3FydCh1KnUrbCpsK2MqYyksdj8odj0xL3YsdSo9dixsKj12LGMqPXYpOih1PTAsbD0wLGM9MCksZVswXT1pLGVbMV09dSxlWzJdPWYsZVszXT0wLGVbNF09byxlWzVdPWwsZVs2XT1oLGVbN109MCxlWzhdPWEsZVs5XT1jLGVbMTBdPXAsZVsxMV09MCxlWzEyXT0tKGkqeStvKmQrYSptKSxlWzEzXT0tKHUqeStsKmQrYyptKSxlWzE0XT0tKGYqeStoKmQrcCptKSxlWzE1XT0xLGUpfWZ1bmN0aW9uIFUoZSx0LHIsbil7dmFyIGk9dFswXSxvPXRbMV0sYT10WzJdLHU9blswXSxzPW5bMV0sbD1uWzJdLGM9aS1yWzBdLGY9by1yWzFdLGg9YS1yWzJdLHA9YypjK2YqZitoKmg7cD4wJiYocD0xL01hdGguc3FydChwKSxjKj1wLGYqPXAsaCo9cCk7dmFyIHY9cypoLWwqZix5PWwqYy11KmgsZD11KmYtcypjO3JldHVybiBlWzBdPXYsZVsxXT15LGVbMl09ZCxlWzNdPTAsZVs0XT1mKmQtaCp5LGVbNV09aCp2LWMqZCxlWzZdPWMqeS1mKnYsZVs3XT0wLGVbOF09YyxlWzldPWYsZVsxMF09aCxlWzExXT0wLGVbMTJdPWksZVsxM109byxlWzE0XT1hLGVbMTVdPTEsZX1mdW5jdGlvbiB6KGUpe3JldHVyblwibWF0NChcIitlWzBdK1wiLCBcIitlWzFdK1wiLCBcIitlWzJdK1wiLCBcIitlWzNdK1wiLCBcIitlWzRdK1wiLCBcIitlWzVdK1wiLCBcIitlWzZdK1wiLCBcIitlWzddK1wiLCBcIitlWzhdK1wiLCBcIitlWzldK1wiLCBcIitlWzEwXStcIiwgXCIrZVsxMV0rXCIsIFwiK2VbMTJdK1wiLCBcIitlWzEzXStcIiwgXCIrZVsxNF0rXCIsIFwiK2VbMTVdK1wiKVwifWZ1bmN0aW9uIE4oZSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhlWzBdLDIpK01hdGgucG93KGVbMV0sMikrTWF0aC5wb3coZVsyXSwyKStNYXRoLnBvdyhlWzNdLDIpK01hdGgucG93KGVbNF0sMikrTWF0aC5wb3coZVs1XSwyKStNYXRoLnBvdyhlWzZdLDIpK01hdGgucG93KGVbN10sMikrTWF0aC5wb3coZVs4XSwyKStNYXRoLnBvdyhlWzldLDIpK01hdGgucG93KGVbMTBdLDIpK01hdGgucG93KGVbMTFdLDIpK01hdGgucG93KGVbMTJdLDIpK01hdGgucG93KGVbMTNdLDIpK01hdGgucG93KGVbMTRdLDIpK01hdGgucG93KGVbMTVdLDIpKX1mdW5jdGlvbiBWKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdK3JbMF0sZVsxXT10WzFdK3JbMV0sZVsyXT10WzJdK3JbMl0sZVszXT10WzNdK3JbM10sZVs0XT10WzRdK3JbNF0sZVs1XT10WzVdK3JbNV0sZVs2XT10WzZdK3JbNl0sZVs3XT10WzddK3JbN10sZVs4XT10WzhdK3JbOF0sZVs5XT10WzldK3JbOV0sZVsxMF09dFsxMF0rclsxMF0sZVsxMV09dFsxMV0rclsxMV0sZVsxMl09dFsxMl0rclsxMl0sZVsxM109dFsxM10rclsxM10sZVsxNF09dFsxNF0rclsxNF0sZVsxNV09dFsxNV0rclsxNV0sZX1mdW5jdGlvbiBCKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdLXJbMF0sZVsxXT10WzFdLXJbMV0sZVsyXT10WzJdLXJbMl0sZVszXT10WzNdLXJbM10sZVs0XT10WzRdLXJbNF0sZVs1XT10WzVdLXJbNV0sZVs2XT10WzZdLXJbNl0sZVs3XT10WzddLXJbN10sZVs4XT10WzhdLXJbOF0sZVs5XT10WzldLXJbOV0sZVsxMF09dFsxMF0tclsxMF0sZVsxMV09dFsxMV0tclsxMV0sZVsxMl09dFsxMl0tclsxMl0sZVsxM109dFsxM10tclsxM10sZVsxNF09dFsxNF0tclsxNF0sZVsxNV09dFsxNV0tclsxNV0sZX1mdW5jdGlvbiBHKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZVsyXT10WzJdKnIsZVszXT10WzNdKnIsZVs0XT10WzRdKnIsZVs1XT10WzVdKnIsZVs2XT10WzZdKnIsZVs3XT10WzddKnIsZVs4XT10WzhdKnIsZVs5XT10WzldKnIsZVsxMF09dFsxMF0qcixlWzExXT10WzExXSpyLGVbMTJdPXRbMTJdKnIsZVsxM109dFsxM10qcixlWzE0XT10WzE0XSpyLGVbMTVdPXRbMTVdKnIsZX1mdW5jdGlvbiBxKGUsdCxyLG4pe3JldHVybiBlWzBdPXRbMF0rclswXSpuLGVbMV09dFsxXStyWzFdKm4sZVsyXT10WzJdK3JbMl0qbixlWzNdPXRbM10rclszXSpuLGVbNF09dFs0XStyWzRdKm4sZVs1XT10WzVdK3JbNV0qbixlWzZdPXRbNl0rcls2XSpuLGVbN109dFs3XStyWzddKm4sZVs4XT10WzhdK3JbOF0qbixlWzldPXRbOV0rcls5XSpuLGVbMTBdPXRbMTBdK3JbMTBdKm4sZVsxMV09dFsxMV0rclsxMV0qbixlWzEyXT10WzEyXStyWzEyXSpuLGVbMTNdPXRbMTNdK3JbMTNdKm4sZVsxNF09dFsxNF0rclsxNF0qbixlWzE1XT10WzE1XStyWzE1XSpuLGV9ZnVuY3Rpb24gWChlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdJiZlWzldPT09dFs5XSYmZVsxMF09PT10WzEwXSYmZVsxMV09PT10WzExXSYmZVsxMl09PT10WzEyXSYmZVsxM109PT10WzEzXSYmZVsxNF09PT10WzE0XSYmZVsxNV09PT10WzE1XX1mdW5jdGlvbiBZKGUsdCl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLG89ZVszXSxhPWVbNF0sdT1lWzVdLHM9ZVs2XSxsPWVbN10sYz1lWzhdLGY9ZVs5XSxoPWVbMTBdLHA9ZVsxMV0sdj1lWzEyXSx5PWVbMTNdLGQ9ZVsxNF0sbT1lWzE1XSxiPXRbMF0sZz10WzFdLE09dFsyXSxfPXRbM10seD10WzRdLFQ9dFs1XSxFPXRbNl0sUD10WzddLHc9dFs4XSxPPXRbOV0sQT10WzEwXSxSPXRbMTFdLEM9dFsxMl0saj10WzEzXSxGPXRbMTRdLGs9dFsxNV07cmV0dXJuIE1hdGguYWJzKHItYik8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKG4tZyk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhnKSkmJk1hdGguYWJzKGktTSk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhNKSkmJk1hdGguYWJzKG8tXyk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhfKSkmJk1hdGguYWJzKGEteCk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyh4KSkmJk1hdGguYWJzKHUtVCk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhUKSkmJk1hdGguYWJzKHMtRSk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhFKSkmJk1hdGguYWJzKGwtUCk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhQKSkmJk1hdGguYWJzKGMtdyk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyh3KSkmJk1hdGguYWJzKGYtTyk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhmKSxNYXRoLmFicyhPKSkmJk1hdGguYWJzKGgtQSk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHAtUik8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhwKSxNYXRoLmFicyhSKSkmJk1hdGguYWJzKHYtQyk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyh2KSxNYXRoLmFicyhDKSkmJk1hdGguYWJzKHktaik8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyh5KSxNYXRoLmFicyhqKSkmJk1hdGguYWJzKGQtRik8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyhGKSkmJk1hdGguYWJzKG0tayk8PUgqTWF0aC5tYXgoMSxNYXRoLmFicyhtKSxNYXRoLmFicyhrKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGU9bix0LmNsb25lPWksdC5jb3B5PW8sdC5mcm9tVmFsdWVzPWEsdC5zZXQ9dSx0LmlkZW50aXR5PXMsdC50cmFuc3Bvc2U9bCx0LmludmVydD1jLHQuYWRqb2ludD1mLHQuZGV0ZXJtaW5hbnQ9aCx0Lm11bHRpcGx5PXAsdC50cmFuc2xhdGU9dix0LnNjYWxlPXksdC5yb3RhdGU9ZCx0LnJvdGF0ZVg9bSx0LnJvdGF0ZVk9Yix0LnJvdGF0ZVo9Zyx0LmZyb21UcmFuc2xhdGlvbj1NLHQuZnJvbVNjYWxpbmc9Xyx0LmZyb21Sb3RhdGlvbj14LHQuZnJvbVhSb3RhdGlvbj1ULHQuZnJvbVlSb3RhdGlvbj1FLHQuZnJvbVpSb3RhdGlvbj1QLHQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249dyx0LmdldFRyYW5zbGF0aW9uPU8sdC5nZXRTY2FsaW5nPUEsdC5nZXRSb3RhdGlvbj1SLHQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1DLHQuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbj1qLHQuZnJvbVF1YXQ9Rix0LmZydXN0dW09ayx0LnBlcnNwZWN0aXZlPUwsdC5wZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldz1TLHQub3J0aG89RCx0Lmxvb2tBdD1JLHQudGFyZ2V0VG89VSx0LnN0cj16LHQuZnJvYj1OLHQuYWRkPVYsdC5zdWJ0cmFjdD1CLHQubXVsdGlwbHlTY2FsYXI9Ryx0Lm11bHRpcGx5U2NhbGFyQW5kQWRkPXEsdC5leGFjdEVxdWFscz1YLHQuZXF1YWxzPVk7dmFyIEg9MWUtNjt0Lm11bD1wLHQuc3ViPUJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSg0KTtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9ZnVuY3Rpb24gYShlLHQscil7cio9LjU7dmFyIG49TWF0aC5zaW4ocik7cmV0dXJuIGVbMF09bip0WzBdLGVbMV09bip0WzFdLGVbMl09bip0WzJdLGVbM109TWF0aC5jb3MociksZX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9MipNYXRoLmFjb3ModFszXSksbj1NYXRoLnNpbihyLzIpO3JldHVybiAwIT1uPyhlWzBdPXRbMF0vbixlWzFdPXRbMV0vbixlWzJdPXRbMl0vbik6KGVbMF09MSxlWzFdPTAsZVsyXT0wKSxyfWZ1bmN0aW9uIHMoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT1yWzBdLHM9clsxXSxsPXJbMl0sYz1yWzNdO3JldHVybiBlWzBdPW4qYythKnUraSpsLW8qcyxlWzFdPWkqYythKnMrbyp1LW4qbCxlWzJdPW8qYythKmwrbipzLWkqdSxlWzNdPWEqYy1uKnUtaSpzLW8qbCxlfWZ1bmN0aW9uIGwoZSx0LHIpe3IqPS41O3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT1NYXRoLnNpbihyKSxzPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW4qcythKnUsZVsxXT1pKnMrbyp1LGVbMl09bypzLWkqdSxlWzNdPWEqcy1uKnUsZX1mdW5jdGlvbiBjKGUsdCxyKXtyKj0uNTt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT10WzNdLHU9TWF0aC5zaW4ocikscz1NYXRoLmNvcyhyKTtyZXR1cm4gZVswXT1uKnMtbyp1LGVbMV09aSpzK2EqdSxlWzJdPW8qcytuKnUsZVszXT1hKnMtaSp1LGV9ZnVuY3Rpb24gZihlLHQscil7cio9LjU7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSx1PU1hdGguc2luKHIpLHM9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bipzK2kqdSxlWzFdPWkqcy1uKnUsZVsyXT1vKnMrYSp1LGVbM109YSpzLW8qdSxlfWZ1bmN0aW9uIGgoZSx0KXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl07cmV0dXJuIGVbMF09cixlWzFdPW4sZVsyXT1pLGVbM109TWF0aC5zcXJ0KE1hdGguYWJzKDEtcipyLW4qbi1pKmkpKSxlfWZ1bmN0aW9uIHAoZSx0LHIsbil7dmFyIGk9dFswXSxvPXRbMV0sYT10WzJdLHU9dFszXSxzPXJbMF0sbD1yWzFdLGM9clsyXSxmPXJbM10saD12b2lkIDAscD12b2lkIDAsdj12b2lkIDAseT12b2lkIDAsZD12b2lkIDA7cmV0dXJuIHA9aSpzK28qbCthKmMrdSpmLHA8MCYmKHA9LXAscz0tcyxsPS1sLGM9LWMsZj0tZiksMS1wPjFlLTY/KGg9TWF0aC5hY29zKHApLHY9TWF0aC5zaW4oaCkseT1NYXRoLnNpbigoMS1uKSpoKS92LGQ9TWF0aC5zaW4obipoKS92KTooeT0xLW4sZD1uKSxlWzBdPXkqaStkKnMsZVsxXT15Km8rZCpsLGVbMl09eSphK2QqYyxlWzNdPXkqdStkKmYsZX1mdW5jdGlvbiB2KGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXIqcituKm4raSppK28qbyx1PWE/MS9hOjA7cmV0dXJuIGVbMF09LXIqdSxlWzFdPS1uKnUsZVsyXT0taSp1LGVbM109byp1LGV9ZnVuY3Rpb24geShlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlWzNdPXRbM10sZX1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9dFswXSt0WzRdK3RbOF0sbj12b2lkIDA7aWYocj4wKW49TWF0aC5zcXJ0KHIrMSksZVszXT0uNSpuLG49LjUvbixlWzBdPSh0WzVdLXRbN10pKm4sZVsxXT0odFs2XS10WzJdKSpuLGVbMl09KHRbMV0tdFszXSkqbjtlbHNle3ZhciBpPTA7dFs0XT50WzBdJiYoaT0xKSx0WzhdPnRbMyppK2ldJiYoaT0yKTt2YXIgbz0oaSsxKSUzLGE9KGkrMiklMztuPU1hdGguc3FydCh0WzMqaStpXS10WzMqbytvXS10WzMqYSthXSsxKSxlW2ldPS41Km4sbj0uNS9uLGVbM109KHRbMypvK2FdLXRbMyphK29dKSpuLGVbb109KHRbMypvK2ldK3RbMyppK29dKSpuLGVbYV09KHRbMyphK2ldK3RbMyppK2FdKSpufXJldHVybiBlfWZ1bmN0aW9uIG0oZSx0LHIsbil7dmFyIGk9LjUqTWF0aC5QSS8xODA7dCo9aSxyKj1pLG4qPWk7dmFyIG89TWF0aC5zaW4odCksYT1NYXRoLmNvcyh0KSx1PU1hdGguc2luKHIpLHM9TWF0aC5jb3MociksbD1NYXRoLnNpbihuKSxjPU1hdGguY29zKG4pO3JldHVybiBlWzBdPW8qcypjLWEqdSpsLGVbMV09YSp1KmMrbypzKmwsZVsyXT1hKnMqbC1vKnUqYyxlWzNdPWEqcypjK28qdSpsLGV9ZnVuY3Rpb24gYihlKXtyZXR1cm5cInF1YXQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNldEF4ZXM9dC5zcWxlcnA9dC5yb3RhdGlvblRvPXQuZXF1YWxzPXQuZXhhY3RFcXVhbHM9dC5ub3JtYWxpemU9dC5zcXJMZW49dC5zcXVhcmVkTGVuZ3RoPXQubGVuPXQubGVuZ3RoPXQubGVycD10LmRvdD10LnNjYWxlPXQubXVsPXQuYWRkPXQuc2V0PXQuY29weT10LmZyb21WYWx1ZXM9dC5jbG9uZT12b2lkIDAsdC5jcmVhdGU9aSx0LmlkZW50aXR5PW8sdC5zZXRBeGlzQW5nbGU9YSx0LmdldEF4aXNBbmdsZT11LHQubXVsdGlwbHk9cyx0LnJvdGF0ZVg9bCx0LnJvdGF0ZVk9Yyx0LnJvdGF0ZVo9Zix0LmNhbGN1bGF0ZVc9aCx0LnNsZXJwPXAsdC5pbnZlcnQ9dix0LmNvbmp1Z2F0ZT15LHQuZnJvbU1hdDM9ZCx0LmZyb21FdWxlcj1tLHQuc3RyPWI7dmFyIGc9cig0MiksTT1uKGcpLF89cigyMCkseD1uKF8pLFQ9cigyMSksRT1uKFQpLFA9KHQuY2xvbmU9RS5jbG9uZSx0LmZyb21WYWx1ZXM9RS5mcm9tVmFsdWVzLHQuY29weT1FLmNvcHksdC5zZXQ9RS5zZXQsdC5hZGQ9RS5hZGQsdC5tdWw9cyx0LnNjYWxlPUUuc2NhbGUsdC5kb3Q9RS5kb3QsdC5sZXJwPUUubGVycCx0Lmxlbmd0aD1FLmxlbmd0aCksdz0odC5sZW49UCx0LnNxdWFyZWRMZW5ndGg9RS5zcXVhcmVkTGVuZ3RoKSxPPSh0LnNxckxlbj13LHQubm9ybWFsaXplPUUubm9ybWFsaXplKTt0LmV4YWN0RXF1YWxzPUUuZXhhY3RFcXVhbHMsdC5lcXVhbHM9RS5lcXVhbHMsdC5yb3RhdGlvblRvPWZ1bmN0aW9uKCl7dmFyIGU9eC5jcmVhdGUoKSx0PXguZnJvbVZhbHVlcygxLDAsMCkscj14LmZyb21WYWx1ZXMoMCwxLDApO3JldHVybiBmdW5jdGlvbihuLGksbyl7dmFyIHU9eC5kb3QoaSxvKTtyZXR1cm4gdTwtLjk5OTk5OT8oeC5jcm9zcyhlLHQsaSkseC5sZW4oZSk8MWUtNiYmeC5jcm9zcyhlLHIsaSkseC5ub3JtYWxpemUoZSxlKSxhKG4sZSxNYXRoLlBJKSxuKTp1Pi45OTk5OTk/KG5bMF09MCxuWzFdPTAsblsyXT0wLG5bM109MSxuKTooeC5jcm9zcyhlLGksbyksblswXT1lWzBdLG5bMV09ZVsxXSxuWzJdPWVbMl0sblszXT0xK3UsTyhuLG4pKX19KCksdC5zcWxlcnA9ZnVuY3Rpb24oKXt2YXIgZT1pKCksdD1pKCk7cmV0dXJuIGZ1bmN0aW9uKHIsbixpLG8sYSx1KXtyZXR1cm4gcChlLG4sYSx1KSxwKHQsaSxvLHUpLHAocixlLHQsMip1KigxLXUpKSxyfX0oKSx0LnNldEF4ZXM9ZnVuY3Rpb24oKXt2YXIgZT1NLmNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbih0LHIsbixpKXtyZXR1cm4gZVswXT1uWzBdLGVbM109blsxXSxlWzZdPW5bMl0sZVsxXT1pWzBdLGVbNF09aVsxXSxlWzddPWlbMl0sZVsyXT0tclswXSxlWzVdPS1yWzFdLGVbOF09LXJbMl0sTyh0LGQodCxlKSl9fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPW5ldyBGbG9hdDMyQXJyYXkoOSk7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTEsZVs1XT0wLGVbNl09MCxlWzddPTAsZVs4XT0xLGV9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbNF0sZVs0XT10WzVdLGVbNV09dFs2XSxlWzZdPXRbOF0sZVs3XT10WzldLGVbOF09dFsxMF0sZX1mdW5jdGlvbiBvKGUpe3ZhciB0PW5ldyBGbG9hdDMyQXJyYXkoOSk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHR9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlfWZ1bmN0aW9uIHUoZSx0LHIsbixpLG8sYSx1LHMpe3ZhciBsPW5ldyBGbG9hdDMyQXJyYXkoOSk7cmV0dXJuIGxbMF09ZSxsWzFdPXQsbFsyXT1yLGxbM109bixsWzRdPWksbFs1XT1vLGxbNl09YSxsWzddPXUsbFs4XT1zLGx9ZnVuY3Rpb24gcyhlLHQscixuLGksbyxhLHUscyxsKXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW4sZVszXT1pLGVbNF09byxlWzVdPWEsZVs2XT11LGVbN109cyxlWzhdPWwsZX1mdW5jdGlvbiBsKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0xLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfWZ1bmN0aW9uIGMoZSx0KXtpZihlPT09dCl7dmFyIHI9dFsxXSxuPXRbMl0saT10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1yLGVbNV09dFs3XSxlWzZdPW4sZVs3XT1pfWVsc2UgZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF07cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT10WzRdLHU9dFs1XSxzPXRbNl0sbD10WzddLGM9dFs4XSxmPWMqYS11KmwsaD0tYypvK3UqcyxwPWwqby1hKnMsdj1yKmYrbipoK2kqcDtyZXR1cm4gdj8odj0xL3YsZVswXT1mKnYsZVsxXT0oLWMqbitpKmwpKnYsZVsyXT0odSpuLWkqYSkqdixlWzNdPWgqdixlWzRdPShjKnItaSpzKSp2LGVbNV09KC11KnIraSpvKSp2LGVbNl09cCp2LGVbN109KC1sKnIrbipzKSp2LGVbOF09KGEqci1uKm8pKnYsZSk6bnVsbH1mdW5jdGlvbiBoKGUsdCl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLG89dFszXSxhPXRbNF0sdT10WzVdLHM9dFs2XSxsPXRbN10sYz10WzhdO3JldHVybiBlWzBdPWEqYy11KmwsZVsxXT1pKmwtbipjLGVbMl09bip1LWkqYSxlWzNdPXUqcy1vKmMsZVs0XT1yKmMtaSpzLGVbNV09aSpvLXIqdSxlWzZdPW8qbC1hKnMsZVs3XT1uKnMtcipsLGVbOF09ciphLW4qbyxlfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZVswXSxyPWVbMV0sbj1lWzJdLGk9ZVszXSxvPWVbNF0sYT1lWzVdLHU9ZVs2XSxzPWVbN10sbD1lWzhdO3JldHVybiB0KihsKm8tYSpzKStyKigtbCppK2EqdSkrbioocyppLW8qdSl9ZnVuY3Rpb24gdihlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSx1PXRbNF0scz10WzVdLGw9dFs2XSxjPXRbN10sZj10WzhdLGg9clswXSxwPXJbMV0sdj1yWzJdLHk9clszXSxkPXJbNF0sbT1yWzVdLGI9cls2XSxnPXJbN10sTT1yWzhdO3JldHVybiBlWzBdPWgqbitwKmErdipsLGVbMV09aCppK3AqdSt2KmMsZVsyXT1oKm8rcCpzK3YqZixlWzNdPXkqbitkKmErbSpsLGVbNF09eSppK2QqdSttKmMsZVs1XT15Km8rZCpzK20qZixlWzZdPWIqbitnKmErTSpsLGVbN109YippK2cqdStNKmMsZVs4XT1iKm8rZypzK00qZixlfWZ1bmN0aW9uIHkoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLGY9dFs4XSxoPXJbMF0scD1yWzFdO3JldHVybiBlWzBdPW4sZVsxXT1pLGVbMl09byxlWzNdPWEsZVs0XT11LGVbNV09cyxlWzZdPWgqbitwKmErbCxlWzddPWgqaStwKnUrYyxlWzhdPWgqbytwKnMrZixlfWZ1bmN0aW9uIGQoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10sdT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLGY9dFs4XSxoPU1hdGguc2luKHIpLHA9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09cCpuK2gqYSxlWzFdPXAqaStoKnUsZVsyXT1wKm8raCpzLGVbM109cCphLWgqbixlWzRdPXAqdS1oKmksZVs1XT1wKnMtaCpvLGVbNl09bCxlWzddPWMsZVs4XT1mLGV9ZnVuY3Rpb24gbShlLHQscil7dmFyIG49clswXSxpPXJbMV07cmV0dXJuIGVbMF09bip0WzBdLGVbMV09bip0WzFdLGVbMl09bip0WzJdLGVbM109aSp0WzNdLGVbNF09aSp0WzRdLGVbNV09aSp0WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVs4XT10WzhdLGV9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0xLGVbNV09MCxlWzZdPXRbMF0sZVs3XT10WzFdLGVbOF09MSxlfWZ1bmN0aW9uIGcoZSx0KXt2YXIgcj1NYXRoLnNpbih0KSxuPU1hdGguY29zKHQpO3JldHVybiBlWzBdPW4sZVsxXT1yLGVbMl09MCxlWzNdPS1yLGVbNF09bixlWzVdPTAsZVs2XT0wLGVbN109MCxlWzhdPTEsZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPXRbMV0sZVs1XT0wLGVbNl09MCxlWzddPTAsZVs4XT0xLGV9ZnVuY3Rpb24gXyhlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09MCxlWzNdPXRbMl0sZVs0XT10WzNdLGVbNV09MCxlWzZdPXRbNF0sZVs3XT10WzVdLGVbOF09MSxlfWZ1bmN0aW9uIHgoZSx0KXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sbz10WzNdLGE9cityLHU9bituLHM9aStpLGw9ciphLGM9biphLGY9bip1LGg9aSphLHA9aSp1LHY9aSpzLHk9byphLGQ9byp1LG09bypzO3JldHVybiBlWzBdPTEtZi12LGVbM109Yy1tLGVbNl09aCtkLGVbMV09YyttLGVbNF09MS1sLXYsZVs3XT1wLXksZVsyXT1oLWQsZVs1XT1wK3ksZVs4XT0xLWwtZixlfWZ1bmN0aW9uIFQoZSx0KXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sbz10WzNdLGE9dFs0XSx1PXRbNV0scz10WzZdLGw9dFs3XSxjPXRbOF0sZj10WzldLGg9dFsxMF0scD10WzExXSx2PXRbMTJdLHk9dFsxM10sZD10WzE0XSxtPXRbMTVdLGI9cip1LW4qYSxnPXIqcy1pKmEsTT1yKmwtbyphLF89bipzLWkqdSx4PW4qbC1vKnUsVD1pKmwtbypzLEU9Yyp5LWYqdixQPWMqZC1oKnYsdz1jKm0tcCp2LE89ZipkLWgqeSxBPWYqbS1wKnksUj1oKm0tcCpkLEM9YipSLWcqQStNKk8rXyp3LXgqUCtUKkU7cmV0dXJuIEM/KEM9MS9DLGVbMF09KHUqUi1zKkErbCpPKSpDLGVbMV09KHMqdy1hKlItbCpQKSpDLGVbMl09KGEqQS11KncrbCpFKSpDLGVbM109KGkqQS1uKlItbypPKSpDLGVbNF09KHIqUi1pKncrbypQKSpDLGVbNV09KG4qdy1yKkEtbypFKSpDLGVbNl09KHkqVC1kKngrbSpfKSpDLGVbN109KGQqTS12KlQtbSpnKSpDLGVbOF09KHYqeC15Kk0rbSpiKSpDLGUpOm51bGx9ZnVuY3Rpb24gRShlLHQscil7cmV0dXJuIGVbMF09Mi90LGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09LTIvcixlWzVdPTAsZVs2XT0tMSxlWzddPTEsZVs4XT0xLGV9ZnVuY3Rpb24gUChlKXtyZXR1cm5cIm1hdDMoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIiwgXCIrZVs4XStcIilcIn1mdW5jdGlvbiB3KGUpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZVswXSwyKStNYXRoLnBvdyhlWzFdLDIpK01hdGgucG93KGVbMl0sMikrTWF0aC5wb3coZVszXSwyKStNYXRoLnBvdyhlWzRdLDIpK01hdGgucG93KGVbNV0sMikrTWF0aC5wb3coZVs2XSwyKStNYXRoLnBvdyhlWzddLDIpK01hdGgucG93KGVbOF0sMikpfWZ1bmN0aW9uIE8oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0rclswXSxlWzFdPXRbMV0rclsxXSxlWzJdPXRbMl0rclsyXSxlWzNdPXRbM10rclszXSxlWzRdPXRbNF0rcls0XSxlWzVdPXRbNV0rcls1XSxlWzZdPXRbNl0rcls2XSxlWzddPXRbN10rcls3XSxlWzhdPXRbOF0rcls4XSxlfWZ1bmN0aW9uIEEoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0tclswXSxlWzFdPXRbMV0tclsxXSxlWzJdPXRbMl0tclsyXSxlWzNdPXRbM10tclszXSxlWzRdPXRbNF0tcls0XSxlWzVdPXRbNV0tcls1XSxlWzZdPXRbNl0tcls2XSxlWzddPXRbN10tcls3XSxlWzhdPXRbOF0tcls4XSxlfWZ1bmN0aW9uIFIoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qcixlWzFdPXRbMV0qcixlWzJdPXRbMl0qcixlWzNdPXRbM10qcixlWzRdPXRbNF0qcixlWzVdPXRbNV0qcixlWzZdPXRbNl0qcixlWzddPXRbN10qcixlWzhdPXRbOF0qcixlfWZ1bmN0aW9uIEMoZSx0LHIsbil7cmV0dXJuIGVbMF09dFswXStyWzBdKm4sZVsxXT10WzFdK3JbMV0qbixlWzJdPXRbMl0rclsyXSpuLGVbM109dFszXStyWzNdKm4sZVs0XT10WzRdK3JbNF0qbixlWzVdPXRbNV0rcls1XSpuLGVbNl09dFs2XStyWzZdKm4sZVs3XT10WzddK3JbN10qbixlWzhdPXRbOF0rcls4XSpuLGV9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdfWZ1bmN0aW9uIEYoZSx0KXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sbz1lWzNdLGE9ZVs0XSx1PWVbNV0scz1lWzZdLGw9ZVs3XSxjPWVbOF0sZj10WzBdLGg9dFsxXSxwPXRbMl0sdj10WzNdLHk9dFs0XSxkPXRbNV0sbT10WzZdLGI9dFs3XSxnPXRbOF07cmV0dXJuIE1hdGguYWJzKHItZik8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhmKSkmJk1hdGguYWJzKG4taCk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhoKSkmJk1hdGguYWJzKGktcCk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhwKSkmJk1hdGguYWJzKG8tdik8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyh2KSkmJk1hdGguYWJzKGEteSk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKHUtZCk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhkKSkmJk1hdGguYWJzKHMtbSk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhtKSkmJk1hdGguYWJzKGwtYik8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKGMtZyk8PWsqTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyhnKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGU9bix0LmZyb21NYXQ0PWksdC5jbG9uZT1vLHQuY29weT1hLHQuZnJvbVZhbHVlcz11LHQuc2V0PXMsdC5pZGVudGl0eT1sLHQudHJhbnNwb3NlPWMsdC5pbnZlcnQ9Zix0LmFkam9pbnQ9aCx0LmRldGVybWluYW50PXAsdC5tdWx0aXBseT12LHQudHJhbnNsYXRlPXksdC5yb3RhdGU9ZCx0LnNjYWxlPW0sdC5mcm9tVHJhbnNsYXRpb249Yix0LmZyb21Sb3RhdGlvbj1nLHQuZnJvbVNjYWxpbmc9TSx0LmZyb21NYXQyZD1fLHQuZnJvbVF1YXQ9eCx0Lm5vcm1hbEZyb21NYXQ0PVQsdC5wcm9qZWN0aW9uPUUsdC5zdHI9UCx0LmZyb2I9dyx0LmFkZD1PLHQuc3VidHJhY3Q9QSx0Lm11bHRpcGx5U2NhbGFyPVIsdC5tdWx0aXBseVNjYWxhckFuZEFkZD1DLHQuZXhhY3RFcXVhbHM9aix0LmVxdWFscz1GO3ZhciBrPTFlLTY7dC5tdWw9dix0LnN1Yj1BfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHIsbil7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyhlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLHM9ZnVuY3Rpb24gZSh0LHIsbil7bnVsbD09PXQmJih0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpO2lmKHZvaWQgMD09PWkpe3ZhciBvPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbnVsbD09PW8/dm9pZCAwOmUobyxyLG4pfWlmKFwidmFsdWVcImluIGkpcmV0dXJuIGkudmFsdWU7dmFyIGE9aS5nZXQ7aWYodm9pZCAwIT09YSlyZXR1cm4gYS5jYWxsKG4pfSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4sYSx1KXtpKHRoaXMsdCk7dmFyIHM9byh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMsZSxNYXRoLlBJLzIsMSwxMDEpKTtyZXR1cm4gcy5yYWRpdXM9MCxzLmFscGhhPTAscy5iZXRhPTAsc31yZXR1cm4gYSh0LGUpLHUodCxbe2tleTpcImdldFZNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU1hdGguY29zKG4uZGVnMnJhZCh0aGlzLmJldGEpKSp0aGlzLnJhZGl1cyxyPU1hdGguc2luKG4uZGVnMnJhZCh0aGlzLmJldGEpKSp0aGlzLnJhZGl1cyxpPU1hdGguc2luKG4uZGVnMnJhZCh0aGlzLmFscGhhKSkqZSxvPU1hdGguY29zKG4uZGVnMnJhZCh0aGlzLmFscGhhKSkqZSxhPXRoaXMuY2VudGVyO3JldHVybiB0aGlzLnBvc2l0aW9uLng9YS54K2ksdGhpcy5wb3NpdGlvbi55PWEueStyLHRoaXMucG9zaXRpb24uej1hLnorbyxzKHQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImdldFZNYXRyaXhcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSx0fShyKTt0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoMjUpLHIoMjYpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihyLG4saSxvLGEsdSxzLGwsYyxmKXtmdW5jdGlvbiBoKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZVt0XTtyZXR1cm4gcn1yZXR1cm4gQXJyYXkuZnJvbShlKX1mdW5jdGlvbiBwKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cCh0aGlzLGUpfXJldHVybiB2KGUsbnVsbCxbe2tleTpcImNyZWF0ZUdyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQsaT10LzIsbz1uLzIsYT1uZXcgcihlKTtyZXR1cm4gYS5nZW9tZXRyeS52ZXJ0aWNlcz1bLWksbywwLC1pLC1vLDAsaSwtbywwLGksbywwXSxhLmdlb21ldHJ5LnV2cz1bMCwxLDAsMCwxLDAsMSwxXSxhLmdlb21ldHJ5Lm5vcm1hbHM9WzAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxXSxhLmdlb21ldHJ5LmluZGljZXMuZGVmYXVsdD1bMCwxLDIsMCwyLDNdLGF9fSx7a2V5OlwiY3JlYXRlQ3ViZVwiLHZhbHVlOmZ1bmN0aW9uKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnIsaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106cixvPXIvMixhPW4vMix1PWkvMjtyZXR1cm4gZS5jcmVhdGVCb3godCwtbyxvLGEsLWEsdSwtdSl9fSx7a2V5OlwiY3JlYXRlQm94XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvLGEsdSl7dmFyIHM9bmV3IHIoZSk7cmV0dXJuIHMuZ2VvbWV0cnkudmVydGljZXM9W3QsaSxhLG4saSxhLG4sbyxhLHQsbyxhLHQsaSx1LG4saSx1LG4sbyx1LHQsbyx1LHQsbyxhLHQsaSxhLHQsaSx1LHQsbyx1LG4sbyxhLG4saSxhLG4saSx1LG4sbyx1LHQsaSxhLG4saSxhLG4saSx1LHQsaSx1LHQsbyxhLG4sbyxhLG4sbyx1LHQsbyx1XSxzLmdlb21ldHJ5LnV2cz1bMCwwLDAsMSwxLDEsMSwwLDAsMCwwLDEsMSwxLDEsMCwwLDAsMCwxLDEsMSwxLDAsMCwwLDAsMSwxLDEsMSwwLDAsMCwwLDEsMSwxLDEsMCwwLDAsMCwxLDEsMSwxLDBdLHMuZ2VvbWV0cnkubm9ybWFscz1bMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDBdLHMuZ2VvbWV0cnkuaW5kaWNlcy5kZWZhdWx0PVswLDEsMiwwLDIsMyw0LDUsNiw0LDYsNyw4LDksMTAsOCwxMCwxMSwxMiwxMywxNCwxMiwxNCwxNSwxNiwxNywxOCwxNiwxOCwxOSwyMCwyMSwyMiwyMCwyMiwyM10sc319LHtrZXk6XCJjcmVhdGVTcGhlcmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTYsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTIsYT0yKk1hdGguUEksdT1NYXRoLlBJLHM9W10sbD1bXSxjPVtdLGY9W10scD1bXSx2PTAseT0wO3k8PW87eSsrKXtmb3IodmFyIGQ9W10sbT15L28sYj0wO2I8PWk7YisrKXt2YXIgZz1iL2ksTT0tdCpNYXRoLmNvcygwK2cqYSkqTWF0aC5zaW4oMCttKnUpLF89dCpNYXRoLmNvcygwK20qdSkseD10Kk1hdGguc2luKDArZyphKSpNYXRoLnNpbigwK20qdSk7bC5wdXNoKE0sXyx4KTt2YXIgVD1uLm5vcm1hbGl6ZShuLmNyZWF0ZSgpLG4uZnJvbVZhbHVlcyhNLF8seCkpO2MucHVzaC5hcHBseShjLGgoVCkpLGYucHVzaChnLG0pLGQucHVzaCh2KyspfXAucHVzaChkKX1mb3IodmFyIEU9MDtFPG87RSsrKWZvcih2YXIgUD0wO1A8aTtQKyspe3ZhciB3PXBbRV1bUCsxXSxPPXBbRV1bUF0sQT1wW0UrMV1bUF0sUj1wW0UrMV1bUCsxXTswIT09RSYmcy5wdXNoKHcsTyxSKSwoRSE9PW8tMXx8dTxNYXRoLlBJKSYmcy5wdXNoKE8sQSxSKX12YXIgQz1uZXcgcihlKTtyZXR1cm4gQy5nZW9tZXRyeS52ZXJ0aWNlcz1sLEMuZ2VvbWV0cnkudXZzPWYsQy5nZW9tZXRyeS5ub3JtYWxzPWMsQy5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQ9cyxDfX0se2tleTpcImNyZWF0ZUN5bGluZGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxNixvPVtdLGE9W10sdT1bXSxzPVtdLGw9MipNYXRoLlBJL2ksYz1uLzIsZj1mdW5jdGlvbihlKXt2YXIgcj1vLmxlbmd0aC8zLG49WzAsYyplLDBdLGY9WzAsZSwwXSxoPVswLDBdO28ucHVzaC5hcHBseShvLG4pLHUucHVzaC5hcHBseSh1LGYpLGEucHVzaC5hcHBseShhLGgpO2Zvcih2YXIgcD0wO3A8aTtwKyspe3ZhciB2PXAqbCx5PVtNYXRoLmNvcyh2KSp0LGMqZSxNYXRoLnNpbih2KSp0XTtvLnB1c2guYXBwbHkobyx5KSx1LnB1c2guYXBwbHkodSxmKSxhLnB1c2guYXBwbHkoYSxoKSxwIT09aS0xP3MucHVzaChyLHIrcCsxLHIrcCsyKTpzLnB1c2gocixyK3ArMSxyKzEpfX07IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW8ubGVuZ3RoLzMscj0wO3I8aTtyKyspe3ZhciBuPWwqcixmPVtNYXRoLmNvcyhuKSp0LC1jLE1hdGguc2luKG4pKnRdLGg9W01hdGguY29zKG4pKnQsYyxNYXRoLnNpbihuKSp0XSxwPVtmWzBdLDAsZlsyXV0sdj1baFswXSwwLGhbMl1dO28ucHVzaC5hcHBseShvLGYuY29uY2F0KGgpKSxhLnB1c2goMCwwLDAsMCksdS5wdXNoLmFwcGx5KHUscC5jb25jYXQodikpO3ZhciB5PTIqcjtyPT09aS0xP3MucHVzaCh5LHkrMSxlKzEseSxlLGUrMSk6cy5wdXNoKHkseSsxLHkrMyx5LHkrMyx5KzIpfX0oKSxmKDEpLGYoLTEpO3ZhciBoPW5ldyByKGUpO3JldHVybiBoLmdlb21ldHJ5LnZlcnRpY2VzPW8saC5nZW9tZXRyeS51dnM9YSxoLmdlb21ldHJ5Lm5vcm1hbHM9dSxoLmdlb21ldHJ5LmluZGljZXMuZGVmYXVsdD1zLGh9fSx7a2V5OlwiY3JlYXRlQ29uZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTYsbz1bXSxhPVtdLHU9W10scz1bXSxsPW4vMixjPTIqTWF0aC5QSS9pOyFmdW5jdGlvbigpe2Zvcih2YXIgZT1vLmxlbmd0aC8zLHI9WzAsbCwwXSxmPU1hdGguYXRhbih0L24pLGg9TWF0aC5jb3MoZikscD1NYXRoLnNpbihmKSx2PTA7djxpO3YrKyl7dmFyIHk9Yyp2LGQ9W01hdGguY29zKHkpKnQsLWwsTWF0aC5zaW4oeSkqdF0sbT1bTWF0aC5jb3MoeSkqaCxwLE1hdGguc2luKHkpKmhdLGI9WzAsMF07by5wdXNoLmFwcGx5KG8sci5jb25jYXQoZCkpLHUucHVzaC5hcHBseSh1LG0uY29uY2F0KG0pKSxhLnB1c2guYXBwbHkoYSxiLmNvbmNhdChiKSk7dmFyIGc9ZSsyKnY7diE9PWktMT9zLnB1c2goZyxnKzEsZyszKTpzLnB1c2goZyxnKzEsZSsxKX19KCksZnVuY3Rpb24oZSl7dmFyIHI9by5sZW5ndGgvMyxuPVswLGwqZSwwXSxmPVswLGUsMF0saD1bMCwwXTtvLnB1c2guYXBwbHkobyxuKSx1LnB1c2guYXBwbHkodSxmKSxhLnB1c2guYXBwbHkoYSxoKTtmb3IodmFyIHA9MDtwPGk7cCsrKXt2YXIgdj1wKmMseT1bTWF0aC5jb3ModikqdCxsKmUsTWF0aC5zaW4odikqdF07by5wdXNoLmFwcGx5KG8seSksdS5wdXNoLmFwcGx5KHUsZiksYS5wdXNoLmFwcGx5KGEsaCkscCE9PWktMT9zLnB1c2gocixyK3ArMSxyK3ArMik6cy5wdXNoKHIscitwKzEscisxKX19KC0xKTt2YXIgZj1uZXcgcihlKTtyZXR1cm4gZi5nZW9tZXRyeS52ZXJ0aWNlcz1vLGYuZ2VvbWV0cnkudXZzPWEsZi5nZW9tZXRyeS5ub3JtYWxzPXUsZi5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQ9cyxmfX0se2tleTpcImNyZWF0ZUNvb3JkaW5hdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyByKGUpLG89bmV3IGkoZSk7by5nZW9tZXRyeS52ZXJ0aWNlcz1bMCwwLDAsdCwwLDBdLG8uZ2VvbWV0cnkuaW5kaWNlcy5kZWZhdWx0PVswLDFdLG8ubWF0ZXJpYWxzLmRlZmF1bHQuY29sb3Iucj0yNTYsby5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5nPTAsby5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5iPTAsby5wYXJlbnQ9bjt2YXIgYT1uZXcgaShlKTthLmdlb21ldHJ5LnZlcnRpY2VzPVswLDAsMCwwLHQsMF0sYS5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQ9WzAsMV0sYS5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5yPTAsYS5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5nPTI1NixhLm1hdGVyaWFscy5kZWZhdWx0LmNvbG9yLmI9MCxhLnBhcmVudD1uO3ZhciB1PW5ldyBpKGUpO3JldHVybiB1Lmdlb21ldHJ5LnZlcnRpY2VzPVswLDAsMCwwLDAsdF0sdS5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQ9WzAsMV0sdS5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5yPTAsdS5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5nPTAsdS5tYXRlcmlhbHMuZGVmYXVsdC5jb2xvci5iPTI1Nix1LnBhcmVudD1uLG59fSx7a2V5OlwiY3JlYXRlRnJvbU9iak1vZGVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0PW8ucGFyc2UodCk7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoLmFwcGx5KHQsaChlKSl9KSx0fSxpPW5ldyByKGUpO2kuZ2VvbWV0cnkudmVydGljZXM9bih0LnBvc2l0aW9ucyksaS5nZW9tZXRyeS51dnM9bih0LnV2cyksaS5nZW9tZXRyeS5ub3JtYWxzPW4odC5ub3JtYWxzKTtmb3IodmFyIGwgaW4gdC5pbmRpY2VzKSFmdW5jdGlvbihlKXt2YXIgcj10LmluZGljZXNbZV0sbj10Lm10bHNbZV07aWYobil7aWYoaS5nZW9tZXRyeS5pbmRpY2VzW2VdPXIsaS5tYXRlcmlhbHNbZV18fChpLm1hdGVyaWFsc1tlXT1uZXcgYShpKSksbi5hbWJpZW50Q29sb3ImJihpLm1hdGVyaWFsc1tlXS5hbWJpZW50Q29sb3I9e3I6MjU1Km4uYW1iaWVudENvbG9yWzBdLGc6MjU1Km4uYW1iaWVudENvbG9yWzFdLGI6MjU1Km4uYW1iaWVudENvbG9yWzJdfSksbi5hbWJpZW50VGV4dHVyZSl7dmFyIG89bmV3IHUuSW1hZ2U7by5jcm9zc09yaWdpbj0hMCxvLm9ubG9hZD1mdW5jdGlvbigpe2kubWF0ZXJpYWxzW2VdLmFtYmllbnRUZXh0dXJlLmltYWdlPW8saS5tYXRlcmlhbHNbZV0uYW1iaWVudFNvdXJjZT1zLlRFWFRVUkV9LG8uc3JjPW4uYW1iaWVudFRleHR1cmV9aWYobi5kaWZmdXNlQ29sb3ImJihpLm1hdGVyaWFsc1tlXS5kaWZmdXNlQ29sb3I9e3I6MjU1Km4uZGlmZnVzZUNvbG9yWzBdLGc6MjU1Km4uZGlmZnVzZUNvbG9yWzFdLGI6MjU1Km4uZGlmZnVzZUNvbG9yWzJdfSksbi5kaWZmdXNlVGV4dHVyZSl7dmFyIGw9bmV3IHUuSW1hZ2U7bC5jcm9zc09yaWdpbj0hMCxsLm9ubG9hZD1mdW5jdGlvbigpe2kubWF0ZXJpYWxzW2VdLmRpZmZ1c2VUZXh0dXJlLmltYWdlPWwsaS5tYXRlcmlhbHNbZV0uZGlmZnVzZVNvdXJjZT1zLlRFWFRVUkV9LGwuc3JjPW4uZGlmZnVzZVRleHR1cmV9aWYobi5zcGVjdWxhckNvbG9yJiYoaS5tYXRlcmlhbHNbZV0uc3BlY3VsYXJDb2xvcj17cjoyNTUqbi5zcGVjdWxhckNvbG9yWzBdLGc6MjU1Km4uc3BlY3VsYXJDb2xvclsxXSxiOjI1NSpuLnNwZWN1bGFyQ29sb3JbMl19KSxuLnNwZWN1bGFyVGV4dHVyZSl7dmFyIGM9bmV3IHUuSW1hZ2U7Yy5jcm9zc09yaWdpbj0hMCxjLm9ubG9hZD1mdW5jdGlvbigpe2kubWF0ZXJpYWxzW2VdLnNwZWN1bGFyVGV4dHVyZS5pbWFnZT1jLGkubWF0ZXJpYWxzW2VdLnNwZWN1bGFyU291cmNlPXMuVEVYVFVSRX0sYy5zcmM9bi5zcGVjdWxhclRleHR1cmV9fWVsc2UgaS5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQ9cn0obCk7cmV0dXJuIGl9fSx7a2V5OlwiY3JlYXRlRnJvbVN0bE1vZGVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0PWwucGFyc2UodCk7dmFyIG49bmV3IHIoZSk7cmV0dXJuIG4uZ2VvbWV0cnkudmVydGljZXM9dC5wb3NpdGlvbnMsbi5nZW9tZXRyeS51dnM9dC51dnMsbi5nZW9tZXRyeS5ub3JtYWxzPXQubm9ybWFscyxuLmdlb21ldHJ5LmluZGljZXMuZGVmYXVsdD10LmluZGljZXMsbn19LHtrZXk6XCJjcmVhdGVGcm9tRzNETW9kZWxcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBjKGUpO3IuZ2VvbWV0cnkudmVydGljZXM9W10sci5nZW9tZXRyeS51dnM9W10sci5nZW9tZXRyeS5ub3JtYWxzPVtdLHIuZ2VvbWV0cnkuaW5kaWNlcy5kZWZhdWx0PVtdO2Zvcih2YXIgaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPVtdLG89W10sYT0wO2E8dC5sZW5ndGg7YSs9OClmb3IodmFyIHUscyxsLGMsZj1bdFthKzFdLHRbYSsyXSx0W2ErM11dLHA9Zi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW2VbMyp0XSxlWzMqdCsxXSxlWzMqdCsyXV19KSx2PW4uc3ViKG4uY3JlYXRlKCksKHU9bikuZnJvbVZhbHVlcy5hcHBseSh1LGgocFswXSkpLChzPW4pLmZyb21WYWx1ZXMuYXBwbHkocyxoKHBbMV0pKSkseT1uLnN1YihuLmNyZWF0ZSgpLChsPW4pLmZyb21WYWx1ZXMuYXBwbHkobCxoKHBbMF0pKSwoYz1uKS5mcm9tVmFsdWVzLmFwcGx5KGMsaChwWzJdKSkpLGQ9bi5jcm9zcyhuLmNyZWF0ZSgpLHYseSksbT0wO208MzttKyspe2ZbbV07ci5wdXNoLmFwcGx5KHIsaChwW21dKSksaS5wdXNoKDAsMCksby5wdXNoLmFwcGx5KG8saChkKSl9cmV0dXJue3ZlcnRpY2VzOnIsdXZzOmksbm9ybWFsczpvfX0sbz0wO288dC5mYWNlcy5sZW5ndGg7bys9OCl7dmFyIGE9by84O3IuZ2VvbWV0cnkuaW5kaWNlcy5kZWZhdWx0LnB1c2goMyphLDMqYSsxLDMqYSsyKX12YXIgdT1pKHQudmVydGljZXMsdC5mYWNlcykscz11LnZlcnRpY2VzLGw9dS51dnMscD11Lm5vcm1hbHM7cmV0dXJuIHIuZ2VvbWV0cnkudmVydGljZXM9cyxyLmdlb21ldHJ5LnV2cz1sLHIuZ2VvbWV0cnkubm9ybWFscz1wLHIubW9ycGhUYXJnZXRzR2VvbWV0cmllcz10Lm1vcnBoVGFyZ2V0cy5tYXAoZnVuY3Rpb24oZSl7dmFyIG49aShlLnZlcnRpY2VzLHQuZmFjZXMpLG89bi52ZXJ0aWNlcyxhPW4udXZzLHU9bi5ub3JtYWxzLHM9bmV3IGYocik7cmV0dXJuIHMudmVydGljZXM9byxzLnV2cz1hLHMubm9ybWFscz11LHMuaW5kaWNlcz1yLmdlb21ldHJ5LmluZGljZXMsc30pLHJ9fSx7a2V5OlwiY3JlYXRlV2lyZUZyYW1lRnJvbU1lc2hcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0KXt2YXIgcj1lK1wiLVwiK3QsaT10K1wiLVwiK2U7b1tyXXx8b1tpXXx8bi5nZW9tZXRyeS5pbmRpY2VzLmRlZmF1bHQucHVzaChlLHQpfXZhciBuPW5ldyBpKGUpLG89e307bi5nZW9tZXRyeS52ZXJ0aWNlcz1bXS5jb25jYXQoaCh0Lmdlb21ldHJ5LnZlcnRpY2VzKSk7Zm9yKHZhciBhIGluIHQuZ2VvbWV0cnkuaW5kaWNlcylmb3IodmFyIHU9dC5nZW9tZXRyeS5pbmRpY2VzW2FdLHM9MDtzPHUubGVuZ3RoO3MrPTMpcih1W3NdLHVbcysxXSkscih1W3NdLHVbcysyXSkscih1W3MrMV0sdVtzKzJdKTtyZXR1cm4gbn19LHtrZXk6XCJjcmVhdGVCb3VuZGluZ0JveEZyb21NZXNoXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lmdlb21ldHJ5LnZlcnRpY2VzO2lmKHIubGVuZ3RoPjApe3ZhciBuPXZvaWQgMCxpPXZvaWQgMCxvPXZvaWQgMCxhPXZvaWQgMCx1PXZvaWQgMCxzPXZvaWQgMDtuPWk9bz1hPXU9cz1udWxsO2Zvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCs9Myl7dmFyIGM9cltsXSxmPXJbbCsxXSxoPXJbbCsyXTtudWxsPT09bj8obj1pPWMsbz1hPWYsdT1zPWgpOihuPU1hdGgubWluKG4sYyksaT1NYXRoLm1heChpLGMpLGE9TWF0aC5taW4oYSxmKSxvPU1hdGgubWF4KG8sZikscz1NYXRoLm1pbihzLGgpLHU9TWF0aC5tYXgodSxoKSl9cmV0dXJuIHRoaXMuY3JlYXRlQm94KGUsbixpLG8sYSx1LHMpfX19XSksZX0oKTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoNSkscigwKSxyKDExKSxyKDI4KSxyKDcpLHIoMykscig2KSxyKDI5KSxyKDE3KSxyKDEwKSl9XSl9KTsiXX0=
